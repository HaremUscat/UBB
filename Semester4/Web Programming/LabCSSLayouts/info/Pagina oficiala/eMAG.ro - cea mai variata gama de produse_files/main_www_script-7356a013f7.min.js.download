!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t.reqwest=n()}(0,this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,i=t.headers||{};i.Accept=i.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var a="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||i[requestedWith]||(i[requestedWith]=defaultHeaders.requestedWith),i[contentType]||a||(i[contentType]=t.contentType||defaultHeaders.contentType);for(n in i)i.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,i[n])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,i){var a=uniqid++,o=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(a),r=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),l=i.match(r),c=doc.createElement("script"),u=0,d=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?i=i.replace(r,"$1="+s):s=l[3]:i=urlappend(i,o+"="+s),context[s]=generalCallback,c.type="text/javascript",c.src=i,c.async=!0,void 0===c.onreadystatechange||d||(c.htmlFor=c.id="_reqwest_"+a),c.onload=c.onreadystatechange=function(){if(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||u)return!1;c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),t(lastValue),lastValue=void 0,head.removeChild(c),u=1},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),u=1}}}function getRequest(e,t){var n,i=this.o,a=(i.method||"GET").toUpperCase(),o="string"==typeof i?i:i.url,s=!1!==i.processData&&i.data&&"string"!=typeof i.data?reqwest.toQueryString(i.data):i.data||null,r=!1;return"jsonp"!=i.type&&"GET"!=a||!s||(o=urlappend(o,s),s=null),"jsonp"==i.type?handleJsonp(i,e,t,o):(n=i.xhr&&i.xhr(i)||xhr(i),n.open(a,o,!1!==i.async),setHeaders(n,i),setCredentials(n,i),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},r=!0):n.onreadystatechange=handleReadyState(this,e,t),i.before&&i.before(n),r?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,i,a,o,s=e.name,r=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(r){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),i=/radio/i.test(e.type),a=e.value,(!(n||i)||e.checked)&&t(s,normalize(n&&""===a?"on":a)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&l(e.options[o])}}function eachFormElement(){var e,t,n=arguments,i=this;for(t=0;t<arguments.length;t++)e=n[t],/input|select|textarea/i.test(e.tagName)&&serial(e,i),function(e,t){var n,a,o;for(n=0;n<t.length;n++)for(o=e[byTag](t[n]),a=0;a<o.length;a++)serial(o[a],i)}(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,i){var a,o,s,r=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)s=t[o],n||r.test(e)?i(e,s):buildParams(e+"["+("object"==typeof s?o:"")+"]",s,n,i);else if(t&&"[object Object]"===t.toString())for(a in t)buildParams(e+"["+a+"]",t[a],n,i);else i(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0===e.crossOrigin){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,i,a=t||!1,o=[],s=encodeURIComponent,r=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=s(e)+"="+s(t)};if(isArray(e))for(i=0;e&&i<e.length;i++)r(e[i].name,e[i].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],a,r);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest});var PH=function(){"use strict";var e=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}();return{isMobileDevice:function(){return e},isArray:function(e){return Array.isArray(e)},isElement:function(e){return e instanceof HTMLElement},now:Date.now||function(){return(new Date).getTime()},throttle:function(e,t,n){var i,a,o,s=null,r=0;n||(n={});var l=function(){r=!1===n.leading?0:PH.now(),s=null,o=e.apply(i,a),s||(i=a=null)};return function(){var c=PH.now();r||!1!==n.leading||(r=c);var u=t-(c-r);return i=this,a=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),r=c,o=e.apply(i,a),s||(i=a=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o}},debounce:function(e,t,n){var i,a,o,s,r,l=function(){var c=PH.now()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(r=e.apply(o,a),i||(o=a=null)))};return function(){o=this,a=arguments,s=PH.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(r=e.apply(o,a),o=a=null),r}},nl2br:function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br>")},camelToDashes:function(e){return e.replace(/([a-z]?)([A-Z])/g,function(e,t,n){return t+"-"+n.toLowerCase()})},dashesToCamel:function(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})},objectHasKey:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},noop:function(){},identity:function(e){return e},slice:function(e,t,n){n||(n=[]);for(var i=t||0;i<e.length;++i)n.push(e[i]);return n},findNext:function(e,t,n){if(t>=0&&t<e.length)for(;++t<e.length;)if(n(e[t],t))return t;return null},findPrev:function(e,t,n){if(t>=0&&t<e.length)for(;--t>=0;)if(n(e[t],t))return t;return null},nextIndex:function(e,t,n){for(var i=0,a=e.length;i<a;++i)if(t(e[i],i))return i<a-1?i+1:n?0:null},prevIndex:function(e,t,n){for(var i=0,a=e.length;i<a;++i)if(t(e[i],i))return i>0?i-1:n?a-1:null},variableArgsMethod:function(e,t){return function n(){function i(e){var t=s.slice();return t[l]=e,n.apply(this,t)}function a(e){var t=s.slice();return t.splice(l,1,e,c[e]),n.apply(this,t)}for(var o=this,s=PH.slice(arguments),r=0;r<t.length;++r){var l=t[r];if(t>=s.length)break;var c=s[l];if(PH.isArray(c))return c.map(i,o);if("object"==typeof c&&!PH.isElement(c))return Object.keys(c).map(a,o)}return e.apply(this,s)}},animate:function(e,t){function n(){clearTimeout(s),t.onStop&&t.onStop(o/a)}t=t||{};var i=t.fps||60,a=t.steps||20,o=0,s=setTimeout(function t(){e(o/a,o,a),o<a?(s=setTimeout(t,1e3/i),o++):n()},1e3/i);return{stop:n}},merge:Object.assign||function(e){function t(t){e[t]=i[t]}var n=arguments;null==e&&(e={});for(var i,a=0;a<arguments.length;++a)null!=(i=n[a])&&Object.keys(i).forEach(t);return e},htmlEscape:function(e){return e.replace(/&/g,"&amp;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&#xa0;")},cancellable:function(e,t){function n(){var a=this,o=PH.slice(arguments);return clearTimeout(i),i=setTimeout(function(){e.apply(a,o)},t),n}var i;return n.cancel=function(){clearTimeout(i)},n},sort:function(e,t){function n(e,n){for(var i=[],a=0,o=0,s=0;a<e.length&&o<n.length;)t(e[a],n[o])<=0?i[s++]=e[a++]:i[s++]=n[o++];return a<e.length?i.concat(e.slice(a)):o<n.length?i.concat(n.slice(o)):i}return function e(t){if(t.length<=1)return t;var i=Math.floor(t.length/2);return n(e(t.slice(0,i)),e(t.slice(i)))}(e)}}}();PH.perfnow=window.performance&&window.performance.now?function(){return performance.now()}:PH.now,function(e){"use strict";function t(e){return window.getComputedStyle(e)}function n(e){return 1-(e=1-e)*e}function i(e,t,n){return t+e*(n-t)}var a,o=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)};e.merge(e,{element:function(e){return"string"==typeof e&&(e=document.querySelector(e)),e},hasClass:function(e,t){for(var n=t.split(/\s+/),i=n.length;--i>=0;)if(!e.classList.contains(n[i]))return!1;return!0},addClass:function(e,t){t.split(/\s+/).forEach(function(t){e.classList.add(t)})},removeClass:function(e,t){t instanceof RegExp?e.className=e.className.replace(t," ").trim().replace(/  +/g," "):t.split(/\s+/).forEach(function(t){e.classList.remove(t)})},toggleClass:function(t,n,i){null==i&&(i=!e.hasClass(t,n)),i?e.addClass(t,n):e.removeClass(t,n)},createDOM:function(t,n){var i;if(e.isElement(t))return t;if(e.isArray(t)){var a=1;if("*text"==t[0])i=document.createTextNode(t[1]);else if("*html"==t[0])i=e.node(t[1]);else for(e.isArray(t[0])?(i=document.createDocumentFragment(),a=0):(n=t[1],i=e.createDOM(t[0],"object"==typeof n?(++a,n):null));a<t.length;){var o=t[a++];null!=o&&i.appendChild(e.createDOM(o))}return i}return"string"==typeof t?(i=document.createElement(t),null!=n&&Object.keys(n).forEach(function(e){if("style"==e){var t=n[e];Object.keys(t).forEach(function(e){i.style[e]=t[e]})}else i[e]=n[e]}),i):void 0},target:function(e){return void 0!==e.target?e.target:e.srcElement},closest:function(t,n){if(t.closest)return t.closest(n);for(;t;){if(e.matches(t,n))return t;t=t.parentNode}},closestWithStyle:function(t,n){var i=Object.keys(n),a=document.documentElement;e:for(;t&&t!==a;){for(var o=e.getComputedStyle(t),s=i.length;--s>=0;){var r=i[s];if(o[r]!=n[r]){t=t.parentNode;continue e}}return t}},matches:function(e,t){return!(!e||e===document)&&o.call(e,t)},remove:function(e){return!(!e||!e.parentNode)&&(e.parentNode.removeChild(e),!0)},isVisible:function(e){return e.clientWidth>0||e.clientHeight>0},isHidden:function(t){return!e.isVisible(t)},node:function(e){var t=document.createElement("div");if(t.innerHTML=e.trim(),t.childNodes.length>1){var n=document.createRange();return n.selectNodeContents(t),n.extractContents()}return t.firstChild},setPos:function(e,t){e.style.left=t.x+"px",e.style.top=t.y+"px"},getBox:function(e){return e.getBoundingClientRect()},getAbsBox:function(t){var n=t.getBoundingClientRect(),i=e.getViewport();return{left:n.left+i.left,top:n.top+i.top,right:n.right+i.left,bottom:n.bottom+i.top,width:n.width,height:n.height}},getViewportLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getViewportTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getViewport:function(){var t=e.getViewportLeft(),n=e.getViewportTop(),i=window.innerWidth,a=window.innerHeight;return{left:t,top:n,width:i,height:a,bottom:n+a,right:t+i}},getFixedViewport:function(){var e=window.innerWidth,t=window.innerHeight;return{left:0,top:0,width:e,height:t,right:e,bottom:t}},getScrollableParent:function(e){for(var n=e.parentNode;n&&n!==document.body&&"auto"!=t(n).overflow;)n=n.parentNode;return n},scrollIntoView:function(t){var n=e.getScrollableParent(t);if(n){var i=e.getBox(n),a=e.getBox(t);a.top<i.top?n.scrollTop-=i.top-a.top:a.bottom>i.bottom&&(n.scrollTop+=a.bottom-i.bottom),a.left<i.left?n.scrollLeft-=i.left-a.left:a.right>i.right&&(n.scrollLeft+=a.right-i.right)}},getData:function(t,n){return t.dataset?t.dataset[n]:t.getAttribute("data-"+e.camelToDashes(n))},setData:function(t,n,i){t.dataset?t.dataset[n]=i:t.setAttribute("data-"+e.camelToDashes(n),i)},empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},on:e.variableArgsMethod(function(e,t,n,i){return e.addEventListener(t,n,i||!1)},[1,2]),off:e.variableArgsMethod(function(e,t,n,i){return e.removeEventListener(t,n,i||!1)},[1,2]),getComputedStyle:t,stopEvent:function(e){e.preventDefault(),e.stopPropagation()},getScrollbarSize:function(){if(!a){var t=e.createDOM(["div",{style:{width:"50px",height:"50px",overflow:"auto",position:"absolute",left:"-10000px",top:"-10000px"}},["div",{style:{width:"100px",height:"100px"}}]]);document.body.appendChild(t),a={width:t.offsetWidth-t.clientWidth,height:t.offsetHeight-t.clientHeight},document.body.removeChild(t)}return a},scrollTo:function(t,a){var o=window.pageYOffset,s=window.pageXOffset;e.animate(function(e){var a=i(n(e),o,t);window.scrollTo(s,a)},a)},scrollToElement:function(t,n){if(n=n||{},n.offsetTop=n.offsetTop||0,!t)return!1;var i=t.getBoundingClientRect();e.scrollTo(e.getViewportTop()+i.top+n.offsetTop)},wrap:function(e,t){var n=document.createRange();return n.selectNode(e),n.surroundContents(t),t},trigger:function(e,t,n){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),i.data=n,e.dispatchEvent(i)},live:function(t,n,i,a,o,s){t.addEventListener(n,function(n){var s=e.target(n);if(!i)return a.call(o||s,n,t);for(;s;){if(e.matches(s,i))return s.disabled?null:a.call(o||s,n,s);if(s===t)return;s=s.parentNode}},!!s)},visibility:function(t,n){var i=t.getBoundingClientRect();n=e.merge({page:0,element:0,elementRelative:0,elementAbsolute:0},n),n.elementRelative?n.element=i.height*n.elementRelative:n.elementAbsolute&&(n.element=n.elementAbsolute);var a=n.page;return a instanceof Function&&(a=a()),i.top<a&&i.bottom>a?"passed":i.top+n.element<window.innerHeight&&i.bottom>a?"in-view":i.bottom<a?"above":i.top+n.element>=window.innerHeight?"below":void 0},overlay:function(t){function n(){return t||(t=e.createDOM("div",{style:{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%",zIndex:31e3}})),t}var i=!1;return{on:function(){return e.isMobileDevice()?this:(i||(document.body.appendChild(n()),i=!0),this)},off:function(){return e.isMobileDevice()?this:(i&&(e.remove(n()),i=!1),this)},cursor:function(t){return e.isMobileDevice()?this:(n().style.cursor=t,this)}}}(),html:function(t){var n=document.createDocumentFragment();n.appendChild(e.node(t));for(var i=n.querySelectorAll("[data-name]"),a={$all:n},o=0;o<i.length;++o){var s=i[o];a[s.getAttribute("data-name")]=s,s.removeAttribute("data-name")}return a},setTransition:function(e,t){var n=e.style;n.transition=n.webkitTransition=n.msTransition=t,/^transform/.test(t)&&(n.webkitTransition="-webkit-"+t)},getTransform:function(t){var n=e.getComputedStyle(t);return null!=n.webkitTransform?n.webkitTransform:null!=n.msTransform?n.msTransform:n.transform},setTransform:function(e,t){var n=e.style;n.transform=n.webkitTransform=n.msTransform=t},elementSize:function(e){e=e.cloneNode(!0),e.style.position="absolute",e.style.left="-10000px",document.body.appendChild(e);var t={width:e.offsetWidth,height:e.offsetHeight};return document.body.removeChild(e),t},dragging:function(t){function n(n,l){t.block&&e.stopEvent(n),a=t.container?l:t.element,t.focus&&t.focus.focus(),e.addClass(a,t.klass),e.overlay.on().cursor(t.cursor),e.on(document,c),o=n.clientX,s=n.clientY,t.start({clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,dx:0,dy:0},l),r=0,i()}function i(){if(r<u.length){var e=u[r++];!function t(n){l=setTimeout(function(){null==n||n>0?(e.handler(),t(null==n?null:n-1)):0===n&&i()},e.timeout)}(e.count)}}t=e.merge({klass:"ph-dragging",start:e.noop,stop:e.noop,move:e.noop,timers:[],block:!0,cursor:"default",focus:null},t);var a,o,s,r,l,c={mousemove:function(n){e.stopEvent(n),t.move({clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,dx:n.clientX-o,dy:n.clientY-s})},mouseup:function(n){clearTimeout(l),e.stopEvent(n),e.removeClass(a,t.klass),e.overlay.off(),e.off(document,c)}},u=t.timers;t.container?e.live(t.container,"mousedown",t.element,n):e.on(t.element,"mousedown",n)}})}(window.PH),function(){"use strict";function e(e,t,n){return n||(n={}),Object.keys(t).forEach(function(i){var a,o=t[i],s=i;PH.isArray(o)&&(s=o[0],a=o[2],o=o[1]);var r=PH.objectHasKey(n,s)?n[s]:PH.objectHasKey(n,i)?n[i]:o;if(a)switch(a.type){case"function":"string"==typeof r&&(r=(0,eval)(r))}e[i]=r}),e}PH.setDefaults=e,PH.defclass=function(e,t,n){var i="'use strict'; function "+e+"() { ";t&&(i+=e+".beforeBase.apply(this, arguments); ",i+="base.apply(this, arguments); "),i+=e+".init.apply(this, arguments); ",i+="} ",i+=e+".prototype = Object.create(base.prototype); ",i+=e+".prototype.constructor = "+e+"; ",i+="return "+e+"; ";var a=new Function("base",i)(t);a.base=t.prototype,a.objectName=e;var o=n(a,a.prototype)||a;return t&&!a.beforeBase&&(a.beforeBase=PH.noop),a.init||(a.init=PH.noop),a.prototype.finishDef&&a.prototype.finishDef(),o};var t=PH.variableArgsMethod;PH.Object=PH.defclass("PH_Object",Object,function(t,n){t.init=function(t){this.options&&(this.args&&(t=PH.merge({},this.args,t)),e(this,this.options,t))},n.finishDef=function(){var e=this.constructor;e.options&&(this.options=PH.merge({},e.base.options,e.options)),e.args&&(this.args=PH.merge({},e.base.args,e.args))}});var n=PH.defclass("EventProxy",PH.Object,function(e,n){e.options={_init_handlers:["eventHandlers",null]},e.init=function(){this._events={};var e=this._init_handlers;e&&Object.keys(e).forEach(function(t){this.on(t,e[t])},this)},n.on=t(function(e,t){(this._events[e]||(this._events[e]=[])).push(t)},[0,1]),n.off=t(function(e,t){var n=this._events[e];n&&(n=n.filter(function(e){return e!==t}),n.length?this._events[e]=n:delete this._events[e])},[0,1]),n.once=t(function(e,t){this.on(e,function n(){return this.off(e,n),t.apply(this,arguments)})},[0,1]),n.trigger=function(e){var t=arguments,n=this,i=this._events[e];if(i)for(var a=0;a<i.length;++a)i[a].apply(n,PH.slice(t,1))},n.withoutHooks=function(e,t){Array.isArray(e)||(e=[e]);var n={};e.forEach(function(e){n[e]=this._events[e],delete this._events[e]},this);try{return t()}finally{PH.merge(this._events,n)}}}),i=PH.defclass("Widget",n,function(e,t){e.options={_tagName:["tagName","div"],_from:["from",null],_replace:["replace",!1],_className:["className",null],_focusable:["focusable",null],_disabled:["disabled",!1],_parent:["parent",null],_on_init:["onInit",null,{type:"function"}]},e.init=function(e){this._initElement(),this._disabled&&this.disable(!0);var t=this._on_init;t&&t.call(this,this)},t._ph_className=[],t._createElement=function(){var e=document.createElement(this._tagName),t=this._ph_className.join(" ");return this._className&&(t+=" "+this._className),e.className=t,e},t._initElement=function(){var e;if(!0===this._focusable&&(this._focusable=0),this._from)if(this._from=PH.element(this._from),this._from.PH_Widget=this,null==this._focusable&&/^(?:select|input|textarea)$/i.test(this._from.tagName)&&(this._focusable=0),this._replace)e=this._createElement(),this._from.className&&(e.className+=" "+this._from.className),this._from.parentNode.insertBefore(e,this._from),this._from.style.display="none";else{e=this._from;var t=this._ph_className.join(" ");e.className&&(t+=" "+e.className),this._className&&(t+=" "+this._className),e.className=t}e||(e=this._createElement()),this._element=e,e.PH_Widget=this,this._from&&this._from.disabled&&this.disable(!0),e.tabIndex>=0&&null==this._focusable&&(this._focusable=e.tabIndex),null!=this._focusable&&(e.tabIndex=this._focusable,PH.on(e,{keydown:this._proxyDomEvent("keydown"),keypress:this._proxyDomEvent("keypress"),focus:this._proxyDomEvent("focus"),blur:this._proxyDomEvent("blur")})),PH.on(e,{mouseenter:this._proxyDomEvent("mouseenter"),mouseleave:this._proxyDomEvent("mouseleave"),mousemove:this._proxyDomEvent("mousemove")}),this._parent&&this._parent.addChild(this)},t._proxyDomEvent=function(e){return function(t){this.trigger(e,t)}.bind(this)},t.addChild=function(e){this.contentElement().appendChild(e.element())},t.contentElement=function(){return this.element()},t.finishDef=function(){e.base.finishDef.apply(this,arguments),(this._ph_className=this._ph_className.slice()).push("ph"+PH.camelToDashes(this.constructor.objectName))},t.element=function(){return this._element},t.focus=function(){this._element.focus()},t.blur=function(){this._element.blur()},t.addClass=function(e){PH.addClass(this._element,e)},t.delClass=function(e){PH.removeClass(this._element,e)},t.hasClass=function(e){return PH.hasClass(this._element,e)},t.toggleClass=function(e,t){PH.toggleClass(this._element,e,t)},t.disable=function(e){null==e&&(e=!0),this._element&&(this._element.disabled=e,this.toggleClass("ph-disabled",e)),this._disabled=e,this.trigger("disable",e)},t.enable=function(e){this.disable(null!=e&&e)},t.disabled=function(){return this._disabled},t.destroy=function(){if(!this._destroyed){this.trigger("destroy"),this._destroyed=!0;var e=this._element;e&&e!==this._from&&e.parentNode&&e.parentNode.removeChild(e),e&&(e.PH_Widget=null,this._element=null)}},t.setPos=function(e){PH.setPos(this.element(),e)},t.getPos=function(){var e=this.element();return{x:e.offsetLeft,y:e.offsetTop}},t.getBox=function(){return PH.getBox(this.element())},t.setSize=function(e){var t=this.element();t.style.width=e.width+"px",t.style.height=e.height+"px"},t.relayout=function(){}});PH.Widget=i,PH.EventProxy=n;var a={true:!0,false:!1,null:null};i.autoInit=function(e){e=PH.element(e||document.body),PH.slice(e.querySelectorAll("[data-phino]")).forEach(function(e){if(!e.PH_Widget){for(var t=e.getAttribute("data-phino"),n={from:e},i=0;i<e.attributes.length;++i){var o=e.attributes[i],s=o.nodeName,r=o.nodeValue,l=/^data-ph-(.*)$/.exec(s);","==r.charAt(0)?r=JSON.parse(r.substr(1)):PH.objectHasKey(a,r)?r=a[r]:/^[0-9.]+$/.test(r)&&parseFloat(r)==r&&(r=parseFloat(r)),l&&(n[PH.dashesToCamel(l[1])]=r)}new PH[t](n)}})}}(),function(){"use strict";var e=[["Su","Mo","Tu","We","Th","Fr","Sa"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]],t=[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],n={GoToday:"Go today"};PH.t=function(e){return n[e]},PH.t.calMon=function(e,n){return t[+n][e]},PH.t.calDay=function(t,n){return e[+n][t]}}(),PH.scrollSpy=function(e,t,n){function i(){var i=window.pageYOffset;t(PH.visibility(e,n.offsets),i-s,l),s=i}function a(){PH.off(window,["scroll","resize"],c)}function o(){PH.on(window,["scroll","resize"],c)}n=PH.setDefaults({},{throttle:0,offsets:{}},n);var s=window.pageYOffset,r=n.throttle,l={start:o,stop:a},c=i;return r&&(c=PH.throttle(i,r,{leading:!1})),i(),o(),l},function(e){"use strict";PH.ScrollMonitor=PH.defclass("ScrollMonitor",PH.Widget,function(e,t){e.options={_throttle:["throttle",0],_target:["target",null],_class:["class",null],_downClass:["downClass",null],_upClass:["upClass",null],_offset:["offset",0]},t._initElement=function(){var e=this,t=PH.element(e._from),n=PH.element(e._target||t);if(n){var i=null,a=null;e.spy=PH.scrollSpy(e._from,function(t,o){var s=/^(?:above|passed)$/.test(t);PH.isHidden(n)?(e._class&&PH.removeClass(n,e._class),!1!==i&&e.trigger("toggle",i=!1)):s&&o>=0?(e._class&&PH.addClass(n,e._class),!0!==i&&e.trigger("toggle",i=!0)):!s&&o<0&&(e._class&&PH.removeClass(n,e._class),!1!==i&&e.trigger("toggle",i=!1)),t!==a&&e.trigger("status",a=t,o),s?(o>5&&(e._upClass&&PH.removeClass(n,e._upClass),e._downClass&&PH.addClass(n,e._downClass)),o<-5&&(e._downClass&&PH.removeClass(n,e._downClass),e._upClass&&PH.addClass(n,e._upClass))):(e._upClass&&PH.removeClass(n,e._upClass),e._downClass&&PH.removeClass(n,e._downClass))},{throttle:e._throttle,offsets:{page:e._offset}})}},t.stop=function(){this.spy.stop()},t.start=function(){this.spy.start()}}),PH.ScrollNavbar=PH.defclass("ScrollNavbar",PH.Widget,function(t,n){function i(e){for(var t=0;t<e.length;++t){var n=e[t],i=n.href.replace(/^.*#/,""),a=document.getElementById(i);if(a){var o=a.getBoundingClientRect();if(o.top>.2*window.innerHeight)return e[t-1];if(o.top>=0)return n}}return e[e.length-1]}n._initElement=function(){var t=PH.slice(this._from.querySelectorAll("a[href]"));e.pushState&&PH.live(this._from,"click","a[href]",function(e,t){var n=t.href.replace(/^.*#/,"");PH.scrollToElement(document.getElementById(n)),PH.stopEvent(e)}),PH.on(window,["scroll","resize"],PH.throttle(function(){var e=i(t);e&&PH.addClass(PH.closest(e,"li"),"active");for(var n=0;n<t.length;++n){var a=t[n];a!==e&&PH.removeClass(PH.closest(a,"li"),"active")}},100,{leading:!1}))}})}(window.history),PH.Carousel=PH.defclass("Carousel",PH.Widget,function(e,t){"use strict";function n(e){return 1-(e=1-e)*e}function i(e,t,n){return t+e*(n-t)}function a(e){return null!=e.screenX?e.screenX:e.touches[0].screenX}function o(e){return null!=e.screenY?e.screenY:e.touches[0].screenY}function s(e,t){for(var n=0;n<e.length;++n){if(e[n].left>=t)return n}}function r(e,t,n){var i=e.offsetLeft;return"center"==n?i+=e.offsetWidth/2:"right"==n&&(i+=e.offsetWidth),Math.abs(i-t)}function l(e,t){var n=null,i=null;return e.forEach(function(e,a){var o=t(e,a);(null==n||n>o)&&(i=a,n=o)}),i}function c(e){PH.slice(e.querySelectorAll("img[data-src]")).forEach(function(e){e.src=PH.getData(e,"src"),
e.removeAttribute("data-src")})}var u=["touchstart","mousedown"],d=1e4;e.options={_arrows:["arrows",!0],_dots:["dots",!0],_drag:["drag",!0],_snap:["snap",null],_circular:["circular",!1],_loop:["loop",!1],_handleResize:["handleResize",!1],_autoScroll:["autoScroll",null],_noMobile:["disableOnMobile",!1],_lazyLoadImgs:["lazyLoadImgs",null],_classNext:["classNext",""],_classPrev:["classPrev",""]},t._initElement=function(){var t=this;e.base._initElement.apply(t,arguments),t._circular&&(t._dots=!1),t.addClass("ph-at-begin ph-at-end");var n=document.createDocumentFragment(),i=t._cards=[];if(PH.slice(t._element.children).forEach(function(e,t){"SCRIPT"!=e.tagName&&(PH.addClass(e,"ph-card"),e.ph_index=t,i.push(e),n.appendChild(e))}),PH.empty(t._element),!i.length)return void t.destroy();t._scroller=PH.createDOM(["div",{className:"ph-scroller"},["div",{className:"ph-body"}]]),t._element.appendChild(t._scroller),t._body=t._scroller.firstChild,t._body.appendChild(n),t._lazyLoadImgs&&t.on("move",function(e,n){n||(n=t._getBounds()),t._cards.filter(function(t){return t.offsetLeft+t.offsetWidth>=e&&t.offsetLeft<=e+n.width}).forEach(c)}),t._noMobile&&PH.isMobileDevice()?(t._mobileDisabled=!0,t._dots=!1,t.addClass("ph-native-scroll"),PH.on(t._scroller,"scroll",function(){t.trigger("move",t._scroller.scrollLeft)}),t.trigger("move",0)):(t._drag&&t._setupDrag(),t._arrows&&(t.addClass("ph-has-arrows"),t._setupArrows()),t._dots&&(t.addClass("ph-has-dots"),t._setupDots()),t.setPosition(t._getBounds().min),t._handleResize&&PH.on(window,"resize",function(){t.relayout();var e=t._getCurrentCard();t._gotoCard(e.card)}),t._setupAutoScroll(),t.on({mouseenter:function(){t._disableAutoScroll()},mouseleave:function(){t._dragging||t._setupAutoScroll()}}))},t._setupAutoScroll=function(){var e=this;e._autoScroll&&(clearTimeout(e._autoScrollTimer),function t(){e._autoScrollTimer=setTimeout(function(){var n,i=e._getBounds();n=i.current==i.max?i.min:e._getNextPagePos(),e._animate(n,"0.4s"),t()},e._autoScroll)}())},t._disableAutoScroll=function(e){this._autoScroll&&(clearTimeout(this._autoScrollTimer),e&&setTimeout(this._setupAutoScroll.bind(this),e))},t.reloadCards=function(){var e=this._cards=[];PH.slice(this._body.children).forEach(function(t,n){"SCRIPT"!=t.tagName&&(PH.addClass(t,"ph-card"),t.ph_index=n,e.push(t))}),this.relayout()},t.contentElement=function(){return this._body},t.getCards=function(){return this._cards},t._getCurrentCard=function(e){var t=this,n=t._getBounds();switch(e=null==e?n.current:e,t._snap){case"center":e+=n.width/2;break;case"right":e+=n.width}return{card:t._cards.slice().sort(function(n,i){return r(n,e,t._snap)-r(i,e,t._snap)})[0],pos:e}},t._getNextPagePos=function(){var e=this._computePages(),t=this._getBounds(),n=s(e,t.current);return n<e.length-1?Math.min(t.max,e[n+1].left):t.max},t._getPrevPagePos=function(){var e=this._computePages(),t=this._getBounds(),n=s(e,t.current);return n>0?Math.max(t.min,e[n-1].left):t.min},t.next=function(){var e=this._getNextPagePos();if(this._loop||this._circular){var t=this._getBounds();this._loop?e==t.current&&(e=t.min):this._circular&&Math.abs(e-t.current)<t.width/2&&(this._rotateCards(this._computePages().pageSize),e=this._getNextPagePos())}this._animate(e,"0.4s"),this._disableAutoScroll(d)},t.prev=function(){var e=this._getPrevPagePos();if(this._circular){var t=this._getBounds();Math.abs(e-t.current)<t.width/2&&(this._rotateCards(-this._computePages().pageSize),e=this._getPrevPagePos())}this._animate(e,"0.4s"),this._disableAutoScroll(d)},t._setupArrows=function(){function e(e){PH.stopEvent(e),n.prev()}function t(e){PH.stopEvent(e),n.next()}var n=this,i=PH.createDOM([["a",{className:("ph-left-margin "+n._classPrev).trim(),href:"#"}],["a",{className:("ph-right-margin "+n._classNext).trim(),href:"#"}]]);n._leftArrow=i.firstChild,n._rightArrow=n._leftArrow.nextSibling,n._element.appendChild(i),PH.on(n._leftArrow,u,e),PH.on(n._rightArrow,u,t),PH.on(n._leftArrow,"click",PH.stopEvent),PH.on(n._rightArrow,"click",PH.stopEvent),n.on("keydown",function(n){37==n.keyCode?e(n):39==n.keyCode&&t(n)})},t._setupDots=function(){var e=this._dots=PH.createDOM("div",{className:"ph-dots"});this._element.appendChild(e),this.resetDots(0)},t.resetDots=function(e){var t=this;if(t._dots){PH.empty(t._dots);var n=document.createDocumentFragment();t._pages=t._computePages(),t._pages.forEach(function(e){var i=PH.createDOM(["a",{className:"ph-dot"}]);e.dot=i,n.appendChild(i),PH.on(i,u,function(n){var i,a=t._getBounds();i=Math.min(e.left,a.max),i=Math.max(i,a.min),t._animate(i,"0.5s"),PH.stopEvent(n),t._disableAutoScroll(d)})}),t._dots.appendChild(n)}t._refresh(e)},t.relayout=function(){this.resetDots(),this.trigger("refresh")},t._refresh=function(e){var t=this,n=this._getBounds();if(null==e&&(e=n.current),this.toggleClass("ph-at-begin",e<=n.min),this.toggleClass("ph-at-end",e>=n.max),n.max>n.min&&((this._loop||this._circular)&&this.delClass("ph-at-end"),this._circular&&this.delClass("ph-at-begin")),this.trigger("move",e,n),this._dots)for(var i=this._pages,a=e,o=e+n.width,s=l(i,function(e,t){var n=0;return e.left>=a&&e.right<=o?n=e.right-e.left:e.left>=a&&e.left<=o?n=o-e.left:e.right>=a&&e.right<=o&&(n=e.right-a),-(n/=e.right-e.left)}),r=0;r<i.length;++r){var c=i[r];PH.toggleClass(c.dot,"ph-active",r==s),r==s&&i.length>10&&t._scrollDots(c.dot)}return n},t._scrollDots=function(e){var t=this,a=t._dots.scrollLeft,o=e.offsetLeft-t._dots.offsetWidth/2;PH.animate(function(e){t._dots.scrollLeft=i(n(e),a,o)})},t._rotateCards=function(e){var t,n=this,i=this._getBounds().current,a=0;if(e>0)for(;e-- >0;)t=n._cards.shift(),a+=t.offsetWidth,n._body.appendChild(t),n._cards.push(t);else for(;e++<0;)t=n._cards.pop(),a-=t.offsetWidth,n._body.insertBefore(t,n._body.firstChild),n._cards.unshift(t);return this.setPosition(i-a),a},t._computePages=function(){for(var e=this._getBounds(),t=this._cards,n=0,i=[],a=0,o=0;o<t.length;++o){var s=t[o];s.offsetLeft+s.offsetWidth>n&&(n=Math.min(e.contentWidth,s.offsetLeft+e.width),i.push({card:s,left:s.offsetLeft,right:n}),a||(a=o))}return i.pageSize=a,i},t._setupDrag=function(){function e(e){if(Math.abs(s-o(e))>20&&!f)return t();l=r-a(e),r=a(e);var u=n+i-a(e);Math.abs(u-n)>10&&(PH.overlay.on(),f=!0),f&&PH.stopEvent(e);var d=!1;h<=m?u=n+.1*(i-a(e)):u<m?(g._circular&&(n-=g._rotateCards(-1),d=!0),u=m-.1*(m-u)):u>h&&(g._circular&&(n-=g._rotateCards(1),d=!0),u=h+.1*(u-h)),d||g.setPosition(u);var v=PH.perfnow();p=v-c,c=PH.perfnow()}function t(e){PH.off(document,v,!0);var t=g._position(),n=l/p*70;if(!isNaN(n)){var i=t+n;i=Math.min(h,Math.max(i,m)),g._snap?g._alignCard(i):g._animate(i,"0.4s"),l=0,PH.overlay.off(),g._dragging=!1,g._disableAutoScroll(d)}}var n,i,s,r,l,c,p,m,h,f,g=this,v=PH.isMobileDevice()?{touchmove:e,touchend:t}:{mousemove:e,mouseup:t};PH.on(g._element,"dragstart",PH.stopEvent,!0),PH.on(g._element,u,function(e){"mousedown"==e.type&&PH.stopEvent(e);var t=g._getBounds();n=t.current,r=i=a(e),s=o(e),m=t.min,h=t.max,PH.on(document,v,!0),f=!1,g._dragging=!0,g._disableAutoScroll()})},t._getBounds=function(){var e=this._position(),t=0,n=this._cards[0],i=this._cards[this._cards.length-1],a=i.offsetLeft+i.offsetWidth-n.offsetLeft,o=this._scroller.offsetWidth,s=a-o;return"center"==this._snap&&(t-=(o-n.offsetWidth)/2,s+=(o-i.offsetWidth)/2),{min:t,max:s,current:e,width:o,contentWidth:a}},t._position=function(){if(this._mobileDisabled)return this._scroller.scrollLeft;var e=PH.getTransform(this._body);return e=e.split(/\s*,\s*/)[/^matrix3d/i.test(e)?12:4],-parseInt(e,10)},t.setPosition=function(e){PH.setTransition(this._body,"none"),PH.setTransform(this._body,"translate3d("+-e+"px, 0, 0)"),this._refresh(e)},t._animate=function(e,t){PH.setTransition(this._body,"transform "+t),PH.setTransform(this._body,"translate3d("+-e+"px, 0, 0)"),this._refresh(e)},t._gotoNextCard=function(){var e=this._getCurrentCard().card;e=e.nextSibling||e,this._gotoCard(e)},t._gotoPrevCard=function(){var e=this._getCurrentCard().card;e=e.previousSibling||e,this._gotoCard(e)},t._gotoCard=function(e,t){var n=this._getBounds(),i=e.offsetLeft;switch(t||this._snap){case"center":i-=n.width/2-e.offsetWidth/2;break;case"right":i-=n.width-e.offsetWidth}i=Math.max(Math.min(i,n.max),n.min),this._animate(i,"0.2s")},t.bringCardInView=function(e){var t=e.getBoundingClientRect(),n=this._scroller.getBoundingClientRect();t.left<n.left?this._gotoCard(e,"left"):t.right>n.right&&this._gotoCard(e,"right")},t._alignCard=function(e){var t=this._getCurrentCard(e);this._gotoCard(t.card)},PH.Widget.prototype.relayoutCarousels=function(e){PH.slice((e||this._element).querySelectorAll(".ph-carousel")).forEach(function(e){var t=e.PH_Widget;t&&t.relayout()})}}),PH.Popup=PH.defclass("Popup",PH.Widget,function(e,t){"use strict";function n(e){for(var t,n=e.wanted,i=e.box,a=e.fixed?PH.getFixedViewport():PH.getViewport(),o=0;o<n.length&&(t=n[o],t.y<0||t.y+i.height>a.bottom||t.x<0||t.x+i.width>a.right);++o);return t.y<0&&(t.y=0),t.x<0&&(t.x=0),t}e.options={_content:["content",null],_anchor:["anchor",null],_type:["type","menu"],_align:["align","SW NW"],_scrollClose:["scrollClose",200]},t._initElement=function(){e.base._initElement.apply(this,arguments),this._element.appendChild(this._content),this._on_docMouseDown=this._on_docMouseDown.bind(this),this._scrollClose&&(this._on_docScroll=PH.throttle(this._on_docScroll.bind(this),100,{leading:!1,trailing:!0}),this.on("destroy",this.hide.bind(this)))},t.show=function(e){if(this._timerHide&&this._timerHide.cancel(),this._visible||this.trigger("beforeShow"),this._anchor&&"in-view"!=PH.visibility(this._anchor)){if(PH.isMobileDevice())return;return this.hide()}var t,i=this._anchor&&PH.closestWithStyle(this._anchor,{position:"fixed"}),a=i?PH.getBox(this._element):PH.getAbsBox(this._element);if(this._anchor){this.toggleClass("ph-fixed",!!i);var o=i?PH.getBox(this._anchor):PH.getAbsBox(this._anchor);t=this._align.split(" ").map(function(e){switch(e.toUpperCase()){case"NW":return{x:o.left,y:o.top-a.height,c:"ph-popup-n ph-popup-w ph-popup-top"};case"N":return{x:o.left+(o.width-a.width)/2,y:o.top-a.height,c:"ph-popup-n ph-popup-top"};case"NE":return{x:o.right-a.width,y:o.top-a.height,c:"ph-popup-n ph-popup-e ph-popup-top"};case"SW":return{x:o.left,y:o.bottom,c:"ph-popup-s ph-popup-w ph-popup-bottom"};case"S":return{x:o.left+(o.width-a.width)/2,y:o.bottom,c:"ph-popup-s ph-popup-bottom"};case"SE":return{x:o.right-a.width,y:o.bottom,c:"ph-popup-s ph-popup-e ph-popup-bottom"};case"W":return{x:o.left-a.width,y:o.top-(a.height-o.height)/2,c:"ph-popup-w ph-popup-left"};case"WN":return{x:o.left-a.width,y:o.top,c:"ph-popup-w ph-popup-n ph-popup-left"};case"WS":return{x:o.left-a.width,y:o.top+o.height-a.height,c:"ph-popup-w ph-popup-s ph-popup-left"};case"E":return{x:o.right,y:o.top-(a.height-o.height)/2,c:"ph-popup-e ph-popup-right"};case"EN":return{x:o.right,y:o.top,c:"ph-popup-e ph-popup-n ph-popup-right"};case"ES":return{x:o.right,y:o.top+o.height-a.height,c:"ph-popup-e ph-popup-s ph-popup-right"}}})}else t=[e];var s=n({wanted:t,box:a,fixed:!!i});PH.setPos(this._element,{x:s.x,y:s.y}),this.delClass(/ph-popup-(?:[nesw]|left|right|top|bottom)/g),this.addClass("ph-visible"),s.c&&this.addClass(s.c),"menu"==this._type&&setTimeout(function(){PH.on(document,["mousedown","touchstart"],this._on_docMouseDown)}.bind(this)),this._visible||(this._focusable&&this._element.focus(),this._visible=!0,this._scrollClose&&(this._scrollStart=PH.getViewportTop(),PH.on(window,"scroll",this._on_docScroll)),this.trigger("show"))},t.hide=function(){this._visible&&(this._visible=!1,this.delClass("ph-visible"),PH.off(document,["mousedown","touchstart"],this._on_docMouseDown),this._scrollClose&&PH.off(window,"scroll",this._on_docScroll),this.trigger("hide"),this._timerHide&&this._timerHide.cancel(),this._timerHide=PH.cancellable(function(){this._element&&PH.setPos(this._element,{x:-1e4,y:-1e4})}.bind(this),100)())},t.visible=function(){return!!this._visible},t.reposition=t.show,t.toggle=function(e){this._visible?this.hide():this.show(e)},t.setContent=function(e){PH.empty(this._element),this._content=e,this._element.appendChild(e),this.visible()&&this.reposition()},t.setAlign=function(e){this._align=e,this.visible()&&this.reposition()},t._on_docMouseDown=function(e){for(var t=e.target;t&&t!==this._element&&t!==this._anchor;)t=t.parentNode;t||(this.hide(),e.stopPropagation())},t._on_docScroll=function(){var e=PH.getViewport();if(Math.abs(e.top-this._scrollStart)>this._scrollClose)this.hide();else if(this._anchor){var t=this._anchor.getBoundingClientRect();(t.top<0||t.bottom>e.height)&&this.hide()}}}),PH.Dropdown=PH.defclass("Dropdown",PH.Widget,function(e,t){"use strict";function n(e){switch(e=e.trim().toLowerCase().split(/\s+/).join(" ")){case"top left":return"NW NE SW SE";case"top center":return"N S";case"top right":return"NE NW SE SW";case"middle left":return"W E";case"middle right":return"E W";case"bottom left":return"SW SE NW NE";case"bottom center":return"S N";case"bottom right":return"SE SW NE NW";case"left":return"W";case"left top":return"WN";case"left bottom":return"WS";case"right":return"E";case"right top":return"EN";case"right bottom":return"ES"}}var i=null;e.options={_trigger:["trigger",null],_openOn:["openOn","hover"],_position:["position",null],_align:["align","SE SW"],_content:["content",null],_target:["target",null]},t._initElement=function(){var e=this,t=e._openOn,a=e._align,o=e._trigger||e._from;"string"==typeof o&&(o=document.querySelector(o)),e._trigger=o,e._trigger.PH_Widget||(e._trigger.PH_Widget=e),null!=e._position&&(a=n(e._position)||a);var s=e._makeContent(e._content),r=e._popup=new PH.Popup({className:e._className,content:s,type:"menu",anchor:o,align:a,scrollClose:400});e.on("destroy",r.destroy.bind(r));var l=PH.cancellable(function(){r.hide()},500);r.addClass("ph-dropdown-popup"),"hover"==t?PH.isMobileDevice()||(PH.on(o,"mouseenter",function(t){e.disabled()||(PH.stopEvent(t),l.cancel(),r.show())}),PH.on(o,"mouseleave",l),r.on({mouseleave:l})):PH.on(o,t,function(t){e.disabled()||(PH.stopEvent(t),r.toggle())}),e._on_windowResize=e._on_windowResize.bind(e),r.on({beforeShow:function(){this.element().parentNode||document.body.appendChild(this.element()),e.trigger("beforeShow")},show:function(){i&&i!==e&&i.close(),i=e,PH.on(window,"resize",e._on_windowResize),l.cancel(),e.trigger("show")},hide:function(){PH.off(window,"resize",e._on_windowResize),l.cancel(),e.trigger("hide")},mouseenter:l.cancel})},t._on_windowResize=function(){this._popup.reposition()},t.disable=function(t){e.base.disable.apply(this,arguments),t&&this.close()},t.open=function(){this._popup.show()},t.close=function(){this._popup.hide()},t.toggle=function(){this._popup.toggle()},t.setContent=function(e){this._popup.setContent(this._makeContent(e))},t.setAlign=function(e){this._popup.setAlign(e)},t._makeContent=function(e){if(null==e&&(e=this._target?document.querySelector(this._target):this._trigger.nextElementSibling,"SCRIPT"==e.tagName&&(e=e.innerHTML)),"string"==typeof e){var t=document.createElement("div");t.innerHTML=e,e=t}return PH.addClass(e,"ph-dropdown-inner"),e}}),PH.Select=PH.defclass("Select",PH.Widget,function(e,t){"use strict";function n(e,t,i){for(var a=this,o=[],s=0;s<e.children.length;++s){var r=e.children[s];if("OPTGROUP"==r.tagName){var l=n.call(a,r,r.label,i);l.unshift({label:r.label,disabled:r.disabled}),o.push(l)}else if("OPTION"==r.tagName){var c=r.hasAttribute("value")?r.value:r.textContent,u=null!=r.getAttribute("selected");o.push({label:a._htmlLabels?r.innerHTML:r.textContent,value:c,disabled:r.disabled,group:t,selected:u,className:r.getAttribute("class")}),u&&i.indexOf(c)<0&&i.push(c)}}return o}function i(e){"string"==typeof e&&(e=e.split(/\s*,\s*/g));var t=e.map(function(e){return new RegExp("["+e.substr(1)+"]","g")});return function(n){return t.forEach(function(t,i){n=n.replace(t,e[i].charAt(0))}),n}}function a(e){return null==e?[]:PH.isArray(e)?e.slice().sort():[e]}e.options={_search:["search",!1],_replace:["replace",!0],_searchFold:["searchFold","sșş,tțţ,aâă,iî,SȘŞ,TȚŢ,AÂĂ,IÎ"],_searchPrefix:["searchPrefix",!1],_searchEmptyValue:["searchEmptyValue",null],_optionTagName:["optionTagName","a"],_data:["data",null],_value:["value",null],_labelFunc:["labelFunc",null,{type:"function"}],_optionFunc:["optionFunc",null,{type:"function"}],_emptyLabel:["emptyLabel","Select..."],_multi:["multi",!1],_flat:["flat",!1],_htmlLabels:["htmlLabels",!1]},t._initElement=function(){var t=this;e.base._initElement.call(t),t._from&&t._from.multiple&&(this._multi=t._from.multiple,this.addClass("ph-select-multiple"));var n=t._optionsContainer=document.createElement("div");if(n.className="ph-select-options",t._multi&&PH.addClass(n,"ph-select-multiple"),t._search){var o=document.createElement("div");o.className="ph-search-container",n.appendChild(o);var s=t._input=document.createElement("input");s.className="ph-search";var r={input:t._on_searchInput.bind(t),keydown:t._on_searchKeyDown.bind(t),keypress:function(e){e.stopPropagation()}};/MSIE |Trident\//.test(navigator.userAgent)&&(delete r.input,r.keydown=t._on_searchKeyDown_IE.bind(t)),PH.on(s,r),o.appendChild(s),"string"==typeof t._search&&(s.placeholder=t._search),t._searchFold&&(t._searchFold=i(t._searchFold))}var l=t._body=document.createElement("div");if(l.className="ph-body",n.appendChild(l),t._flat)t.addClass("ph-flat"),t._element.appendChild(n),t._active=!0;else{t._popup=new PH.Popup({className:t._className,content:n,type:"menu",anchor:t._element,focusable:!0});PH.elementSize(t._popup.element());document.body.appendChild(t._popup._element),t.on({destroy:function(){t._popup.destroy()}}),t._on_windowResize=t._on_windowResize.bind(t),t._popup.on({beforeShow:function(){t._search&&(t._input.value="",t._filterList()),t._resetPopupWidth()},show:function(){t._data.length&&(t._active=!0,t.addClass("ph-active"),t._updateSelected(),t._prevValue=a(t._value),PH.on(window,"resize",t._on_windowResize),t._input&&!PH.isMobileDevice()&&setTimeout(function(){t._input.focus()}),t._from&&PH.trigger(t._from,"ph-show"))},hide:function(){t._active=!1,t.delClass("ph-active"),t._triggerChange(),t.focus(),PH.off(window,"resize",t._on_windowResize),t._from&&PH.trigger(t._from,"ph-close")},keydown:t._handleKeyDown.bind(t),keypress:t._handleKeyPress.bind(t)}),t._label=document.createElement(this._optionTagName),t._label.className="ph-label",t._element.appendChild(t._label),PH.on(t._element,"mousedown",function(e){t.disabled()||t._popup.toggle()})}t.on({keydown:t._handleKeyDown.bind(t),keypress:t._handleKeyPress.bind(t),disable:function(){t._popup&&t._popup.hide()}}),t._multi&&(PH.on(n,"mouseenter",t._removeHighlight.bind(t)),t.on("blur",t._removeHighlight.bind(t))),t.reset(t._data)},t._removeHighlight=function(){this._highlighted=null,PH.slice(this._optionsContainer.querySelectorAll(".ph-selected")).forEach(function(e){PH.removeClass(e,"ph-selected")})},t._resetPopupWidth=function(){this._popup._element.style.width=this._element.offsetWidth+"px"},t._on_windowResize=function(e){this._popup.reposition(),this._resetPopupWidth()},t.reset=function(e){e?this._data=e:e=this._data=n.call(this,this._from,null,this._value=[]),this._createOptions(),this._body.scrollTop=0},t._createOptions=function(){var e=this,t=(e._groupsByLabel={},e._options=[]);if(PH.empty(e._body),function n(i,a,o){i.forEach(function(i){if(PH.isArray(i)){var s=i[0],r=document.createElement("div");r.className="ph-group",a.appendChild(r),e._addOption(s,r,"group-label"),e._groupsByLabel[s.label]=s,s.container=r,s.length=i.length-1,n(i.slice(1),r,s.disabled)}else o&&(i.disabled=!0),i.index=t.length,t.push(i),i.element=e._addOption(i,a,"option")})}(e._data,e._body,!1),e._highlighted=null,!e._multi){var n=e.optionByValue(e.value());n&&(e._highlighted=n.index)}e._data.length&&e._updateLabel()},t._handleKeyDown=function(e){if(!this.disabled())switch(e.keyCode){case 38:this.selectPrev(),PH.stopEvent(e);break;case 40:this.selectNext(),PH.stopEvent(e);break;case 13:if(this._multi&&this._active){var t=this._options[this._highlighted];if(t){t.checkbox.checked=!t.checkbox.checked;var n=this.value().filter(function(e){return e!==t.value});t.checkbox.checked&&n.push(t.value),this.select(n,!0)}}else this._popup&&this._popup.toggle();PH.stopEvent(e);break;case 27:null!=this._prevValue&&this.select(this._prevValue,!0),this._active&&(this._popup&&this._popup.hide(),PH.stopEvent(e))}},t._handleKeyPress=function(e){function t(e){var t=n.optionByValue(e);return s.test(t.label)}var n=this;if(!n.disabled()&&!n._multi){var i=String.fromCharCode(e.keyCode||e.which),a=n._values(),o=a.indexOf(n.value()),s=new RegExp("^"+i.toLowerCase(),"i"),r=PH.findNext(a,o,t);null==r&&(r=PH.findNext(a,0,t)),null!=r&&n.select(a[r],!0)}},t._values=function(){return this._options.map(function(e){return e.value})},t.selectNext=function(){return this._moveSelection(1)},t.selectPrev=function(){return this._moveSelection(-1)},t._moveSelection=function(e){var t=this,n=t._highlighted;null==n&&(n=e<0?t._options.length:-1);var i,a,o=t._options.filter(function(e){return!(e.disabled||e.filtered)});if(e<0){for(i=o.length;--i>=0&&(a=o[i],!(a.index<n)););i<0&&(a=o[o.length-1])}else{for(i=0;i<o.length&&(a=o[i],!(a.index>n));++i);i==o.length&&(a=o[0])}a&&(this._highlighted=a.index,t._multi||t.select(a.value,!0),t._updateSelected())},t.forEachOption=function(e){this._options.forEach(function(t){e.call(this,t.value,t)},this)},t.forEachGroup=function(e){Object.keys(this._groupsByLabel).forEach(function(t){e.call(this,t,this._groupsByLabel[t])},this)},t._updateSelected=function(){var e=this;if(e._active){var t,n=e.value();e.forEachOption(function(i,a){(e._multi&&a.index==e._highlighted||a.value===n)&&(t=a),PH.toggleClass(a.element,"ph-selected",a===t),e._multi&&(a.checkbox.checked=n.indexOf(i)>=0)}),t&&PH.scrollIntoView(t.element)}},t._addOption=function(e,t,n){var i=this._makeOption(e,n);return e.className&&PH.addClass(i,e.className),t.appendChild(i),i},t._makeOption=function(e,t){var n,i=this;if("option"==t&&i._multi){var a="ph-option"+(e.disabled?" ph-disabled":""),o=this.value(),s=PH.html("<label data-name='label' class='"+a+"'><input data-name='input' type='checkbox'"+(e.disabled?" disabled":"")+(o.indexOf(e.value)<0?"":" checked")+" /><i></i>"+(i._htmlLabels?i._makeOptionLabel(e):PH.htmlEscape(i._makeOptionLabel(e)))+"</label>");n=s.label,e.checkbox=s.input,PH.on(s.input,"click",function(){e.disabled||i.toggleCheckbox(e.value,s.input.checked)})}else{n=document.createElement(i._optionTagName);var r="ph-"+t;e.disabled&&(r+=" ph-disabled"),n.className=r,i._htmlLabels?n.innerHTML=i._makeOptionLabel(e):n.textContent=i._makeOptionLabel(e),"option"==t&&PH.on(n,"click",function(){e.disabled||i.select(e.value)})}return n},t._makeOptionLabel=function(e){return this._optionFunc?this._optionFunc(e):e.label},t._on_searchInput=function(e){this._filterList(this._input.value)},t._on_searchKeyDown=function(e){if(27==e.keyCode&&this._input.value)return this._input.value="",this._filterList(null),this._removeHighlight(),PH.stopEvent(e),!0},t._on_searchKeyDown_IE=function(e){this._on_searchKeyDown(e)||setTimeout(this._on_searchInput.bind(this),5)},t.toggleCheckbox=function(e,t){var n=!1,i=this.value().filter(function(t){return t!==e||(n=!0,!1)});null==t&&(t=!n),t&&i.push(e),this.select(i)},t._searchMatches=function(e,t){e=e.trim(),t=t.trim(),this._searchFold&&(e=this._searchFold(e),t=this._searchFold(t));var n=t.toLowerCase().indexOf(e);return this._searchPrefix?0===n:n>=0},t._filterList=function(e){e||(e=null),null!=e&&(e=e.toLowerCase());var t={},n=null,i=!1;this.forEachOption(function(a,o){var s=null==e||this._searchMatches(e,o.label);s&&(i=!0),o.element.style.display=s?"":"none",o.filtered=!s,null!=this._searchEmptyValue&&o.value==this._searchEmptyValue&&(n=o),o.group&&(t[o.group]=t[o.group]||0,o.filtered&&++t[o.group])}),!i&&n&&(n.element.style.display="",n.filtered=!1),this.forEachGroup(function(n,i){if(null==e)i.container.style.display="";else{var a=t[n]==i.length;i.container.style.display=a?"none":""}}),this._active&&(this._popup&&this._popup.reposition(),this._body.scrollTop=0)},t._updateLabel=function(){var e;if(this._label)if(this._labelFunc)e=this._labelFunc(this.value(),this),this._htmlLabels?this._label.innerHTML=e:this._label.textContent=e;else if(this._multi)e=this.value().map(function(e){return this.optionByValue(e).label},this).join(", ")||this._emptyLabel,this._label.textContent=e;else{var t=this.optionByValue(this.value());this._label.textContent=t?t.label:this._emptyLabel}},t.optionByValue=function(e){for(var t=this,n=0;n<this._options.length;++n){var i=t._options[n];if(i.value==e)return i}},t.select=function(e,t,n){"number"==typeof this._multi&&PH.isArray(e)&&(e=e.slice(-this._multi)),this._prevValue=a(this._value),t||this._popup&&this._popup.hide(),this._value=a(e),this._updateLabel(),this._updateSelected(),this._from&&(this._multi||(this._from.value=e),PH.slice(this._from.options).forEach(function(e,t){(e.selected=this._value.indexOf(e.value)>=0)&&!this._multi&&(this._highlighted=t)},this)),n||this._triggerChange()},t._hasChanged=function(){var e=a(this._value),t=this._prevValue;if(!t||e.length!=t.length)return!0;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!0;return!1},t._triggerChange=function(){this._hasChanged()&&(this._active&&!this._flat||(this._from&&PH.trigger(this._from,"change"),this.trigger("change",this._value,this._prevValue))),this._prevValue=null},t.value=function(){var e=a(this._value);return this._multi?e:e[0]}}),PH.Calendar=PH.defclass("Calendar",PH.Widget,function(e,t){"use strict";function n(e){var t=e.date;return e.date=1,e=l(e),e.date=Math.min(t,c(e.year,e.month)),e}function i(e){return PH.t.calMon(e.month,1)+" "+e.year}function a(e,t){var n=new Date,i=t._fdow,a=t._value,o=l({year:e.year,month:e.month,date:1}),s=(o.day-i)%7;s<0&&(s+=7),o.date-=s,o=u(o);for(var r="",c=0;c<6;++c){r+="<div class='ph-calrow'>";for(var p=0;p<7;++p,++o)r+=function(i){var s="<a class='ph-day";return i.day%6||(s+=" ph-weekend"),i.month==n.getMonth()&&i.year==n.getFullYear()&&(s+=" ph-tomonth",i.date==n.getDate()&&(s+=" ph-today")),i.month==e.month&&(s+=" ph-curmonth",i.date==e.date&&(s+=" ph-selecting")),o==a&&(s+=" ph-selected"),t._disableDates(i,o)&&(s+=" ph-disabled"),t._highlightDates&&(s+=" "+t._highlightDates(i,o)),s+="' data-ph-date='"+o+"'>",s+="<span>"+i.date+"</span></a>"}(d(o));r+="</div>"}return r}function o(e,t){for(var n="",i=0;i<7;++i){var a=(t+i)%7;n+="<div class='ph-day"+(a%6?"":" ph-weekend")+"'>"+PH.t.calDay(a,0)+"</div>"}return n}function s(e){var t=/^(\d{4})-(\d{1,2})-(\d{1,2})$/.exec(e);if(t)return{year:parseInt(t[1],10),month:parseInt(t[2],10)-1,date:parseInt(t[3],10)}}function r(e){if("string"==typeof e){switch(e){case"today":e=new Date;break;case"yesterday":e=new Date,e.setDate(e.getDate()-1);break;case"tomorrow":e=new Date,e.setDate(e.getDate()+1)}var t=s(e);if(t)return u(t)}return null==e&&(e=new Date),e instanceof Date&&(e=u({year:e.getFullYear(),month:e.getMonth(),date:e.getDate()})),"number"!=typeof e&&(e=u(e)),e}function l(e){return d(u(e))}function c(e,t){return 1!=t?h[t]:28+(e%4?0:e%100?1:e%400?0:1)}function u(e){var t=e.year,n=e.month+1;return(1461*(t+4800+((n-14)/12|0))/4|0)+(367*(n-2-12*((n-14)/12|0))/12|0)-(3*((t+4900+((n-14)/12|0))/100|0)/4|0)+e.date-32075}function d(e){var t=e+68569,n=4*t/146097|0,t=t-((146097*n+3)/4|0),i=4e3*(t+1)/1461001|0,t=t-(1461*i/4|0)+31,a=80*t/2447|0,o=t-(2447*a/80|0),t=a/11|0;return{year:100*(n-49)+i+t,month:a+2-12*t-1,date:o,day:(e+1)%7}}e.options={_value:["value",null],_date:["date",null],_fdow:["fdow",1],_minDate:["min",null],_maxDate:["max",null],_showMenu:["showMenu",!0],_highlightDates:["highlightDates",null,{type:"function"}],__disableDates:["disableDates",null,{type:"function"}]};var p=["<div class='ph-head'>","  <div class='ph-controls'>","    <a class='ph-left' data-name='left'></a>","    <div class='ph-title' data-name='title'></div>","    <a class='ph-right' data-name='right'></a>","  </div>","  <div class='ph-daynames' data-name='daynames'></div>","</div>","<div class='ph-animcont' data-name='animcont'>","  <div class='ph-body' data-name='body'></div>","</div>"].join(""),m=["<div class='ph-dropdown-inner ph-calendar-menu'>","  <a class='ph-today'>",PH.t("GoToday"),"</a>","  <table><tr><td>","    <div class='ph-months' data-name='months'></div>","  </td><td>","    <div class='ph-years' data-name='years'></div>","    <div class='ph-years-buttons'><a class='ph-left'></a><a class='ph-right'></a></div>","  </td></tr></table>","</div>"].join("");t._initElement=function(){function t(){i._move(0,1,0,!0)}function n(){i._move(0,-1,0,!0)}var i=this;e.base._initElement.call(i),null!=i._minDate&&(i._minDate=r(i._minDate)),null!=i._maxDate&&(i._maxDate=r(i._maxDate));var a=i.element(),o=PH.html(p);if(a.appendChild(o.$all),i._titleElement=o.title,i._bodyElement=o.body,i._animContElement=o.animcont,i._daynamesElement=o.daynames,i._gotoDate(i._date),PH.dragging({focus:i,element:o.left,start:n,timers:[{timeout:500,handler:n,count:0},{timeout:100,handler:n,count:10},{timeout:30,handler:n}]}),PH.dragging({focus:i,element:o.right,start:t,timers:[{timeout:500,handler:t,count:0},{timeout:100,handler:t,count:10},{timeout:30,handler:t}]}),i.on({keydown:function(e){switch(e.keyCode){case 37:e.ctrlKey?i._move(0,-1,0,!0):i._move(0,0,-1,!0),PH.stopEvent(e);break;case 38:e.ctrlKey?i._move(-1,0,0,!0):i._move(0,0,-7,!0),PH.stopEvent(e);break;case 39:e.ctrlKey?i._move(0,1,0,!0):i._move(0,0,1,!0),PH.stopEvent(e);break;case 40:e.ctrlKey?i._move(1,0,0,!0):i._move(0,0,7,!0),PH.stopEvent(e);break;case 13:i.select(i._date),PH.stopEvent(e);break;case 36:i._gotoDate(new Date,!0),PH.stopEvent(e);break;case 35:null!=i._value&&i._gotoDate(i._value,!0),PH.stopEvent(e)}}}),PH.dragging({focus:i,container:i._bodyElement,element:".ph-day",start:function(e,t){i.select(+PH.getData(t,"phDate"))}}),this._showMenu){var s,l,c=PH.cancellable(function(){s.hide()},500);PH.on(i._titleElement,{mouseenter:function(){if(!s){l=PH.html(m),s=new PH.Popup({className:"ph-dropdown-popup",content:l.$all,type:"menu",anchor:i._titleElement,align:"S N"}),document.body.appendChild(s.element());for(var e=0;e<12;++e)l.months.appendChild(PH.node("<a data-ph-month='"+e+"'>"+PH.t.calMon(e,1)+"</a>"));s.on({mouseleave:c,mouseenter:c.cancel}),s.updateYears=function(e){s.year+=e,PH.empty(l.years);for(var t=i._getDate().year,n=s.year-5;n<=s.year+5;++n){var a=PH.node("<a data-ph-year='"+n+"'>"+n+"</a>");n===t&&PH.addClass(a,"ph-curyear"),l.years.appendChild(a)}},PH.live(s.element(),"click","a",function(e,t){PH.stopEvent(e);var n;"ph-today"==t.className?(i._gotoDate(new Date),s.hide()):"ph-left"==t.className?s.updateYears(-10):"ph-right"==t.className?s.updateYears(10):(n=PH.getData(t,"phMonth"))?(i._gotoMonth(+n),s.hide()):(n=PH.getData(t,"phYear"))&&(i._gotoYear(+n),s.hide()),i.focus()})}c.cancel(),s.visible()||(s.year=i._getDate().year,s.updateYears(0),s.show())},mouseleave:c})}},t._getDate=function(){return d(this._date)},t.select=function(e){var t=r(e);e=d(t),this._disableDates(e,t)||(this._value=t,this._gotoDate(t),this.trigger("select",e,t))},t._render=function(){var e=d(this._date),t=o(e,this._fdow),n=a(e,this),s=i(e);this._daynamesElement.innerHTML=t,this._bodyElement.innerHTML=n,this._titleElement.innerHTML=s},t._gotoMonth=function(e,t){var i=d(this._date);i.month=e,this._gotoDate(n(i),t)},t._gotoYear=function(e,t){var i=d(this._date);i.year=e,this._gotoDate(n(i),t)},t._gotoDate=function(e,t){(null==e||this._withinLimits(e))&&(t?this._animDate(e):(this._date=r(e),this._render()))},t._animDate=function(e){var t=this,n=t._date,o=d(n);if(t._date=r(e),e=d(t._date),o.month==e.month&&o.year==e.year)return t._render();var s=n<t._date?"ph-anim-rtl":"ph-anim-ltr",l=t._bodyElement,c=l.cloneNode(!1);PH.setTransition(l,"0.3s"),PH.setTransition(c,"0.3s"),c.innerHTML=a(e,t),PH.removeClass(c,"ph-body"),PH.addClass(c,"ph-anim "+s),t._titleElement.innerHTML=i(e),t._animContElement.appendChild(c),setTimeout(function(){
PH.addClass(l,s),PH.removeClass(c,s),setTimeout(function(){PH.remove(c),PH.setTransition(l,"none"),PH.removeClass(l,s),t._render()},300)})},t._move=function(e,t,i,a){var o=d(this._date);o.year+=e,o.month+=t,i?o.date+=i:o=n(o),this._gotoDate(l(o),a)},t._disableDates=function(e,t){return null!=this._minDate&&t<this._minDate||(null!=this._maxDate&&t>this._maxDate||(this.__disableDates?this.__disableDates(e,t):void 0))},t._withinLimits=function(e){if(null!=this._minDate||null!=this._maxDate){if(e=d(r(e)),null!=this._minDate&&(e.date=c(e.year,e.month),u(e)<this._minDate))return!1;if(null!=this._maxDate&&(e.date=1,u(e)>this._maxDate))return!1}return!0};var h=[31,28,31,30,31,30,31,31,30,31,30,31];e.dateToJulian=u,e.julianToDate=d,e.makeJulian=r}),PH.DatePicker=PH.defclass("DatePicker",PH.Widget,function(e,t){function n(e,t){for(t+="";t.length<e;)t="0"+t;return t}e.options=PH.merge({},PH.Calendar.options,{_showMenu:["showMenu",!1],_emptyLabel:["emptyLabel","Select date..."],_labelFunc:["labelFunc",null,{type:"function"}]}),t._initElement=function(){var t=this;e.base._initElement.call(t);var n=new PH.Calendar({className:"ph-datepicker-calendar",focusable:0,value:t._value,date:t._date,fdow:t._fdow,min:t._minDate,max:t._maxDate,showMenu:t._showMenu,highlightDates:t._highlightDates,disableDates:t.__disableDates}),i=PH.node("<button class='ph-datepicker-trigger'></button>");t._button=i,t._from.parentNode.insertBefore(i,t._from),t._from.style.display="none",null==t._value&&/\S/.test(t._from.value)&&(t._value=t._from.value),null!=t._value&&(t._value=PH.Calendar.makeJulian(t._value));var a=new PH.Dropdown({className:"ph-datepicker-dropdown",trigger:t._button,openOn:"click",align:"S N",content:n.element()});t._updateLabel(),t.on({destroy:function(){n.destroy(),a.destroy()}}),a.on({show:function(){n.focus(),null!=t._value&&n.withoutHooks("select",function(){n.select(t._value)})},hide:function(){t._button.focus()}}),n.on({select:function(e,n){t.select(n),a.close()},keydown:function(e){27==e.keyCode&&(PH.stopEvent(e),a.close())}})},t._makeLabel=function(){var e;if(this._labelFunc){var t=this._value;null!=t&&(t=PH.Calendar.julianToDate(t)),e=this._labelFunc(t,this)}return null==e&&(e=null==this._value?this._emptyLabel:this._textValue()),e},t._textValue=function(){if(null!=this._value){var e=PH.Calendar.julianToDate(this._value);return e.year+"-"+n(2,e.month+1)+"-"+n(2,e.date)}return""},t._updateLabel=function(){this._button.innerText=this._makeLabel(),this._from&&(this._from.value=this._textValue())},t.select=function(e){this._value=e=PH.Calendar.makeJulian(e);var t=PH.Calendar.julianToDate(e);this._updateLabel(),this.trigger("select",t,e),this._from&&PH.trigger(this._from,"change")}}),TWEEG_RUNTIME=function(){"use strict";function e(){}function t(e){return e.replace(/@[a-z0-9_]+/gi,function(e){return H[e.substr(1)]})}function n(e){this.value=e}function i(e){return new n(e)}function a(e){return i(e.replace(/&/g,"&amp;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&#xa0;"))}function o(e){return i(e.replace(/[^a-zA-Z0-9,._]/g,function(e){var t=e.charCodeAt(0);return t<=255?"\\x"+("0"+t.toString(16)).substr(-2):"\\U"+("00"+t.toString(16)).substr(-4)}))}function s(e,t){if("string"==typeof e){switch(t){case"html":case void 0:case null:return a(e);case"js":return o(e);case!1:return e}throw new Error("Unknown escape strategy: "+t)}return e}function r(e){return e instanceof String||"string"==typeof e?e+"":!0===e?"1":e instanceof n?e.value:null!=e&&!1!==e?"object"==typeof e?"Array":e+"":""}function l(e,t,n){return null!=n&&n>=0&&(n+=t),e.slice(t,n)}function c(e){return null==e?0:Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length}function u(e){if(""===e||null==e||!1===e)return!0;if(Array.isArray(e))return!e.length;if("object"==typeof e){for(var t in e)if(S.call(e,t))return!1;return!0}return!1}function d(e){return Array.isArray(e)?!!e.length:"0"!==e&&!!e}function p(e,t,n){for(var i=[],a=0;a<e.length;a+=t){var o=e.slice(a,t);if(null!=n)for(;o.length<t;)o.push(n);i.push(o)}return i}function m(e){if(null==e)return null;if(Array.isArray(e))return e[0];if("string"==typeof e)return e.charAt(0);for(var t in e)if(S.call(e,t))return e[t]}function h(e){if(null==e)return null;if(Array.isArray(e))return e[e.length-1];if("string"==typeof e)return e.charAt(e.length-1);var t=Object.keys(e);return t.length?e[t.length-1]:void 0}function f(e){return Object.keys(e)}function g(e){return String(e).trim()}function v(e){if(Array.isArray(e))return e.slice().sort();var t={};return Object.keys(e).map(function(t){return{key:t,val:e[t]}}).sort(function(e,t){return e.val<t.val?-1:e.val>t.val?1:0}).forEach(function(e){t[e.key]=e.val}),t}function b(e,t,n){n=null==n?1:n<0?-n:parseFloat(n);var i,a;if("string"!=typeof e||"string"!=typeof t){if(e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)||isNaN(n))throw new Error("Invalid range arguments");if(t>=e)for(i=e,a=[];i<=t;i+=n)a.push(i);else for(i=e,a=[];i>=t;i-=n)a.push(i)}else{if(1!=e.length||1!=t.length)throw new Error("Invalid range arguments");if(e=e.charCodeAt(0),(t=t.charCodeAt(0))>=e)for(i=e,a=[];i<=t;i+=n)a.push(String.fromCharCode(i));else for(i=e,a=[];i>=t;i-=n)a.push(String.fromCharCode(i))}return a}function _(e){var t;return t="string"==typeof e?encodeURIComponent(e):Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"),new n(t)}function y(e,t){if(t&&(t=t.split(/[<>]+/).filter(function(e){return e.length>0}).map(function(e){return"/?"+e}).join("|")),t){var n=new RegExp("<(?!(?:"+t+")).*?>","ig");return e.replace(n,"")}return e.replace(/<.*?>/g,"")}function w(e,t,n){var i=e[t];return null!=n&&(i=i.apply(e,n)),i}function A(e){var t=[];return function e(n){for(var i=n.length;--i>=0;){var a=n[i];null!=a&&(Array.isArray(a)?e(a):"object"==typeof a?e(Object.keys(a).map(function(e){return a[e]})):t.push(a))}}(e),t}function E(){return Math.max.apply(Math,A(arguments))}function P(){return Math.min.apply(Math,A(arguments))}var k={},x=null,H={};n.prototype={toString:function(){return this.value+""}};var S=Object.prototype.hasOwnProperty,C=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;++n){var i=t[n];if(null!=i)for(var a in i)S.call(i,a)&&(e[a]=i[a])}return e},M={t:function(t){return M.merge(new e,t)},func:{cycle:function(e,t){return e[t%e.length]},range:b,slice:l,max:E,min:P,attribute:w},filter:{json_encode:function(e,t){return JSON.stringify(e,null,t)},e:function(e){return a(r(e))},escape:function(e,t){return s(r(e),t)},raw:function(e){return i(""+e)},default:function(e,t){return u(e)?t:e},join:function(e,t){return e.join(t)},split:function(e,t){return r(e).split(t)},upper:function(e){return r(e).toUpperCase()},lower:function(e){return r(e).toLowerCase()},merge:function(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):C(e,t)},replace:function(e,t){return Object.keys(t).forEach(function(n){for(var i=t[n],a=e.length;i&&e&&!((a=e.lastIndexOf(n,a))<0);)e=e.substr(0,a)+i+e.substr(a+n.length)}),e},keys:f,batch:p,first:m,last:h,trim:g,abs:Math.abs,round:Math.round,slice:l,sort:v,length:c,url_encode:_,striptags:y},operator:{matches:function(e,t){var n=/^\/(.*)\/([igmsy])?$/.exec(t);if(n)try{return new RegExp(n[1],n[2]).exec(e)}catch(e){}throw new Error("Invalid regular expression: "+t)},"starts with":function(e,t){return e=String(e),t=String(t),e.substr(0,t.length)==t},"ends with":function(e,t){return e=String(e),t=String(t),e.lastIndexOf(t)+t.length==e.length},"..":b,in:function(e,t){return Array.isArray(t)||"string"==typeof t?t.indexOf(e)>=0:S.call(t,e)}},bool:d,number:function(e){return"number"==typeof e?e:(e=parseFloat(e),isNaN(e)?0:e)},hash:function(e){for(var t=0,n={};t<e.length;)n[e[t++]]=e[t++];return n},out:function(e){for(var t="",n=0;n<e.length;++n)t+=r(e[n]);return i(t)},for:function(e,t){function n(e,n){s.last=!s.revindex0;var i=t(s,e,n);i!==M&&(r.push(i),s.first=!1,++s.index,++s.index0,--s.revindex,--s.revindex0)}null==e&&(e=[]);var i=Array.isArray(e),a=i?null:Object.keys(e),o=a?a.length:e.length,s={index:1,index0:0,revindex:o,revindex0:o-1,length:o,first:!0},r=[];return i?e.forEach(n):a.forEach(function(t){n(e[t],t)}),r.length||r.push(t()),M.out(r)},empty:u,iterable:function(e){return null!=e&&"object"==typeof e},slice:l,escape:s,escape_html:function(e){return s(e,"html")},escape_js:function(e){return s(e,"js")},string:r,spaceless:function(e){return r(e).replace(/^\s+|\s+$/g,"").replace(/>\s+</,"><")},merge:C,include:function(e,t,n){if(!Array.isArray(e))return M.exec(e,t,n);for(var i=0;i<e.length;++i){var a=M.exec(e[i],!0,t);if(null!=a)return a}if(!n)throw new Error("Could not find any of the templates: "+JSON.stringify(e))},register:function(e,t){e=e.replace(/^\/*/,""),t=k[e]=t(),t.$name=e},get:function(t){return t instanceof e?t:(x&&(t=M.resolve(x.$name,t)),t=t.replace(/^\/*/,""),k[t])},with:function(e,t,n){var i=M.get(e);if(!i){if(n)return null;throw new Error("Could not find template "+e)}var a=x;try{return t(x=i)}finally{x=a}},exec:function(e,t,n){return M.with(e,function(e){return""+e.$main(t||{})},n)},add_path:function(e,t){H[e]=t},resolve:function(e,n){return n=t(n),/^\//.test(n)?n.substr(1):/^@/.test(n)?n:(e=e.split(/\/+/),e.pop(),n.split(/\/+/).forEach(function(t){t&&"."!=t&&(".."==t?e.pop():e.push(t))}),e.join("/"))},index:function(e,t){return null==e?null:e[t]}};return M},function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,document):"function"==typeof define&&define.amd?define(null,function(){t(e,document)}):e.plyr=t(e,document)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(){var e,n,i,a=navigator.userAgent,o=navigator.appName,s=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10),l=!1,c=!1,u=!1,d=!1;return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(l=!0,o="IE",s="11"):-1!==(n=a.indexOf("MSIE"))?(l=!0,o="IE",s=a.substring(n+5)):-1!==(n=a.indexOf("Chrome"))?(u=!0,o="Chrome",s=a.substring(n+7)):-1!==(n=a.indexOf("Safari"))?(d=!0,o="Safari",s=a.substring(n+7),-1!==(n=a.indexOf("Version"))&&(s=a.substring(n+8))):-1!==(n=a.indexOf("Firefox"))?(c=!0,o="Firefox",s=a.substring(n+8)):(e=a.lastIndexOf(" ")+1)<(n=a.lastIndexOf("/"))&&(o=a.substring(e,n),s=a.substring(n+1),o.toLowerCase()==o.toUpperCase()&&(o=navigator.appName)),-1!==(i=s.indexOf(";"))&&(s=s.substring(0,i)),-1!==(i=s.indexOf(" "))&&(s=s.substring(0,i)),r=parseInt(""+s,10),isNaN(r)&&(s=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),{name:o,version:r,isIE:l,isFirefox:c,isChrome:u,isSafari:d,isIos:/(iPad|iPhone|iPod)/g.test(navigator.platform),isTouch:"ontouchstart"in t.documentElement}}function i(e,t){var n=e.media;if("video"==e.type)switch(t){case"video/webm":return!(!n.canPlayType||!n.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!n.canPlayType||!n.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!n.canPlayType||!n.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"==e.type)switch(t){case"audio/mpeg":return!(!n.canPlayType||!n.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!n.canPlayType||!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!n.canPlayType||!n.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}function a(e){if(!t.querySelectorAll('script[src="'+e+'"]').length){var n=t.createElement("script");n.src=e;var i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}function o(e,t){return Array.prototype.indexOf&&-1!=e.indexOf(t)}function s(e,t,n){return e.replace(new RegExp(t.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),n)}function r(e,t){e.length||(e=[e]);for(var n=e.length-1;n>=0;n--){var i=n>0?t.cloneNode(!0):t,a=e[n],o=a.parentNode,s=a.nextSibling;return i.appendChild(a),s?o.insertBefore(i,s):o.appendChild(i),i}}function l(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function c(e){e&&e.parentNode.removeChild(e)}function u(e,t){e.insertBefore(t,e.firstChild)}function d(e,t){for(var n in t)e.setAttribute(n,"boolean"==typeof t[n]&&t[n]?"":t[n])}function p(e,n,i){var a=t.createElement(e);d(a,i),u(n,a)}function m(e){return e.replace(".","")}function h(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(/\s+/g," ").replace(" "+t+" ","");e.className=i+(n?" "+t:"")}}function f(e,t){return!!e&&(e.classList?e.classList.contains(t):new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className))}function g(e,n){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(e){return-1!==[].indexOf.call(t.querySelectorAll(e),this)}).call(e,n)}function v(e,t,n,i){e&&y(e,t,n,!0,i)}function b(e,t,n,i){e&&y(e,t,n,!1,i)}function _(e,t,n,i,a){v(e,t,function(t){n&&n.apply(e,[t]),i.apply(e,[t])},a)}function y(e,t,n,i,a){var o=arguments,s=t.split(" ");if("boolean"!=typeof a&&(a=!1),e instanceof NodeList)for(var r=0;r<e.length;r++)e[r]instanceof Node&&y(e[r],o[1],o[2],o[3]);else for(var l=0;l<s.length;l++)e[i?"addEventListener":"removeEventListener"](s[l],n,a)}function w(e,t,n,i){if(e&&t){"boolean"!=typeof n&&(n=!1);var a=new CustomEvent(t,{bubbles:n,detail:i});e.dispatchEvent(a)}}function A(e,t){if(e)return t="boolean"==typeof t?t:!e.getAttribute("aria-pressed"),e.setAttribute("aria-pressed",t),t}function E(e,t){return 0===e||0===t||isNaN(e)||isNaN(t)?0:(e/t*100).toFixed(2)}function P(){var e=arguments;if(e.length){if(1==e.lenth)return e[0];for(var t=Array.prototype.shift.call(e),n=e.length,i=0;i<n;i++){var a=e[i];for(var o in a)a[o]&&a[o].constructor&&a[o].constructor===Object?(t[o]=t[o]||{},P(t[o],a[o])):t[o]=a[o]}return t}}function k(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},n="webkit moz o ms khtml".split(" ");if(void 0!==t.cancelFullScreen)e.supportsFullScreen=!0;else for(var i=0,a=n.length;i<a;i++){if(e.prefix=n[i],void 0!==t[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}if(void 0!==t.msExitFullscreen&&t.msFullscreenEnabled){e.prefix="ms",e.supportsFullScreen=!0;break}}return e.supportsFullScreen&&(e.fullScreenEventName="ms"==e.prefix?"MSFullscreenChange":e.prefix+"fullscreenchange",e.isFullScreen=function(e){switch(void 0===e&&(e=t.body),this.prefix){case"":return t.fullscreenElement==e;case"moz":return t.mozFullScreenElement==e;default:return t[this.prefix+"FullscreenElement"]==e}},e.requestFullScreen=function(e){return void 0===e&&(e=t.body),""===this.prefix?e.requestFullScreen():e[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]()},e.cancelFullScreen=function(){return""===this.prefix?t.cancelFullScreen():t[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},e.element=function(){return""===this.prefix?t.fullscreenElement:t[this.prefix+"FullscreenElement"]}),e}function x(){return{supported:function(){if(!("localStorage"in e))return!1;try{e.localStorage.setItem("___test","OK");var t=e.localStorage.getItem("___test");return e.localStorage.removeItem("___test"),"OK"===t}catch(e){return!1}return!1}()}}function H(g,y){function P(){y.debug&&e.console&&console.log.apply(console,arguments)}function H(){y.debug&&e.console&&console.warn.apply(console,arguments)}function M(){return{url:y.iconUrl,absolute:0===y.iconUrl.indexOf("http")||je.browser.isIE}}function L(){var e=[],t=M(),n=(t.absolute?"":t.url)+"#"+y.iconPrefix;return o(y.controls,"play-large")&&e.push('<button type="button" data-plyr="play" class="plyr__play-large">','<svg><use xlink:href="'+n+'-play" /></svg>','<span class="plyr__sr-only">'+y.i18n.play+"</span>","</button>"),e.push('<div class="plyr__controls">'),o(y.controls,"restart")&&e.push('<button type="button" data-plyr="restart">','<svg><use xlink:href="'+n+'-restart" /></svg>','<span class="plyr__sr-only">'+y.i18n.restart+"</span>","</button>"),o(y.controls,"rewind")&&e.push('<button type="button" data-plyr="rewind">','<svg><use xlink:href="'+n+'-rewind" /></svg>','<span class="plyr__sr-only">'+y.i18n.rewind+"</span>","</button>"),o(y.controls,"play")&&e.push('<button type="button" data-plyr="play">','<svg><use xlink:href="'+n+'-play" /></svg>','<span class="plyr__sr-only">'+y.i18n.play+"</span>","</button>",'<button type="button" data-plyr="pause">','<svg><use xlink:href="'+n+'-pause" /></svg>','<span class="plyr__sr-only">'+y.i18n.pause+"</span>","</button>"),o(y.controls,"fast-forward")&&e.push('<button type="button" data-plyr="fast-forward">','<svg><use xlink:href="'+n+'-fast-forward" /></svg>','<span class="plyr__sr-only">'+y.i18n.forward+"</span>","</button>"),o(y.controls,"progress")&&(e.push('<span class="plyr__progress">','<label for="seek{id}" class="plyr__sr-only">Seek</label>','<input id="seek{id}" class="plyr__progress--seek" type="range" min="0" max="100" step="0.1" value="0" data-plyr="seek">','<progress class="plyr__progress--played" max="100" value="0" role="presentation"></progress>','<progress class="plyr__progress--buffer" max="100" value="0">',"<span>0</span>% "+y.i18n.buffered,"</progress>"),y.tooltips.seek&&e.push('<span class="plyr__tooltip">00:00</span>'),e.push("</span>")),o(y.controls,"current-time")&&e.push('<span class="plyr__time">','<span class="plyr__sr-only">'+y.i18n.currentTime+"</span>",'<span class="plyr__time--current">00:00</span>',"</span>"),o(y.controls,"duration")&&e.push('<span class="plyr__time">','<span class="plyr__sr-only">'+y.i18n.duration+"</span>",'<span class="plyr__time--duration">00:00</span>',"</span>"),o(y.controls,"mute")&&e.push('<button type="button" data-plyr="mute">','<svg class="icon--muted"><use xlink:href="'+n+'-muted" /></svg>','<svg><use xlink:href="'+n+'-volume" /></svg>','<span class="plyr__sr-only">'+y.i18n.toggleMute+"</span>","</button>"),o(y.controls,"volume")&&e.push('<span class="plyr__volume">','<label for="volume{id}" class="plyr__sr-only">'+y.i18n.volume+"</label>",'<input id="volume{id}" class="plyr__volume--input" type="range" min="'+y.volumeMin+'" max="'+y.volumeMax+'" value="'+y.volume+'" data-plyr="volume">','<progress class="plyr__volume--display" max="'+y.volumeMax+'" value="'+y.volumeMin+'" role="presentation"></progress>',"</span>"),o(y.controls,"captions")&&e.push('<button type="button" data-plyr="captions">','<svg class="icon--captions-on"><use xlink:href="'+n+'-captions-on" /></svg>','<svg><use xlink:href="'+n+'-captions-off" /></svg>','<span class="plyr__sr-only">'+y.i18n.toggleCaptions+"</span>","</button>"),o(y.controls,"fullscreen")&&e.push('<button type="button" data-plyr="fullscreen">','<svg class="icon--exit-fullscreen"><use xlink:href="'+n+'-exit-fullscreen" /></svg>','<svg><use xlink:href="'+n+'-enter-fullscreen" /></svg>','<span class="plyr__sr-only">'+y.i18n.toggleFullscreen+"</span>","</button>"),e.push("</div>"),e.join("")}function N(){if(je.supported.full&&("audio"!=je.type||y.fullscreen.allowAudio)&&y.fullscreen.enabled){var e=T.supportsFullScreen;e||y.fullscreen.fallback&&!B()?(P((e?"Native":"Fallback")+" fullscreen enabled"),h(je.container,y.classes.fullscreen.enabled,!0)):P("Fullscreen not supported and fallback disabled"),A(je.buttons.fullscreen,!1),z()}}function O(){if("video"===je.type){R(y.selectors.captions)||je.videoContainer.insertAdjacentHTML("afterbegin",'<div class="'+m(y.selectors.captions)+'"></div>'),je.usingTextTracks=!1,je.media.textTracks&&(je.usingTextTracks=!0);for(var e,t="",n=je.media.childNodes,i=0;i<n.length;i++)"track"===n[i].nodeName.toLowerCase()&&("captions"!==(e=n[i].kind)&&"subtitles"!==e||(t=n[i].getAttribute("src")));if(je.captionExists=!0,""===t?(je.captionExists=!1,P("No caption track found")):P("Caption track found; URI: "+t),je.captionExists){for(var a=je.media.textTracks,o=0;o<a.length;o++)a[o].mode="hidden";if(q(),(je.browser.isIE&&je.browser.version>=10||je.browser.isFirefox&&je.browser.version>=31)&&(P("Detected browser with known TextTrack issues - using manual fallback"),je.usingTextTracks=!1),je.usingTextTracks){P("TextTracks supported");for(var s=0;s<a.length;s++){var r=a[s];"captions"!==r.kind&&"subtitles"!==r.kind||v(r,"cuechange",function(){this.activeCues[0]&&"text"in this.activeCues[0]?F(this.activeCues[0].getCueAsHTML()):F()})}}else if(P("TextTracks not supported so rendering captions manually"),je.currentCaption="",je.captions=[],""!==t){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status){var e,t=[],n=l.responseText;t=n.split("\n\n");for(var i=0;i<t.length;i++){e=t[i],je.captions[i]=[];var a=e.split("\n"),o=0;-1===a[o].indexOf(":")&&(o=1),je.captions[i]=[a[o],a[o+1]]}je.captions.shift(),P("Successfully loaded the caption file via AJAX")}else H("There was a problem loading the caption file via AJAX")},l.open("get",t,!0),l.send()}}else h(je.container,y.classes.captions.enabled)}}function F(e){var n=R(y.selectors.captions),i=t.createElement("span");n.innerHTML="",void 0===e&&(e=""),"string"==typeof e?i.innerHTML=e.trim():i.appendChild(e),n.appendChild(i);n.offsetHeight}function j(e){function t(e,t){var n=[];n=e.split(" --\x3e ");for(var a=0;a<n.length;a++)n[a]=n[a].replace(/(\d+:\d+:\d+\.\d+).*/,"$1");return i(n[t])}function n(e){return t(e,1)}function i(e){if(null===e||void 0===e)return 0;var t=[],n=[];return t=e.split(","),n=t[0].split(":"),Math.floor(60*n[0]*60)+Math.floor(60*n[1])+Math.floor(n[2])}if(!je.usingTextTracks&&"video"===je.type&&je.supported.full&&(je.subcount=0,e="number"==typeof e?e:je.media.currentTime,je.captions[je.subcount])){for(;n(je.captions[je.subcount][0])<e.toFixed(1);)if(++je.subcount>je.captions.length-1){je.subcount=je.captions.length-1;break}je.media.currentTime.toFixed(1)>=function(e){return t(e,0)}(je.captions[je.subcount][0])&&je.media.currentTime.toFixed(1)<=n(je.captions[je.subcount][0])?(je.currentCaption=je.captions[je.subcount][1],F(je.currentCaption)):F()}}function q(){je.buttons.captions&&(h(je.container,y.classes.captions.enabled,!0),y.captions.defaultActive&&(h(je.container,y.classes.captions.active,!0),A(je.buttons.captions,!0)))}function I(e){return je.container.querySelectorAll(e)}function R(e){return I(e)[0]}function B(){try{return e.self!==e.top}catch(e){return!0}}function z(){function e(e){9===e.which&&je.isFullscreen&&(e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&(e.preventDefault(),i.focus()):(e.preventDefault(),n.focus()))}var t=I("input:not([disabled]), button:not([disabled])"),n=t[0],i=t[t.length-1];v(je.container,"keydown",e)}function V(e,t){if("string"==typeof t)p(e,je.media,{src:t});else if(t.constructor===Array)for(var n=t.length-1;n>=0;n--)p(e,je.media,t[n])}function W(){if(y.loadSprite){var e=M();e.absolute?(P("AJAX loading absolute SVG sprite"+(je.browser.isIE?" (due to IE)":"")),S(e.url,"sprite-plyr")):P("Sprite will be used as external resource directly")}var n=y.html;P("Injecting custom controls"),n||(n=L()),n=s(n,"{seektime}",y.seekTime),n=s(n,"{id}",Math.floor(1e4*Math.random()));var i;if(null!==y.selectors.controls.container&&(i=y.selectors.controls.container,"string"==typeof selector&&(i=t.querySelector(i))),i instanceof HTMLElement||(i=je.container),i.insertAdjacentHTML("beforeend",n),y.tooltips.controls)for(var a=I([y.selectors.controls.wrapper," ",y.selectors.labels," .",y.classes.hidden].join("")),o=a.length-1;o>=0;o--){var r=a[o];h(r,y.classes.hidden,!1),h(r,y.classes.tooltip,!0)}}function G(){try{return je.controls=R(y.selectors.controls.wrapper),je.buttons={},je.buttons.seek=R(y.selectors.buttons.seek),je.buttons.play=I(y.selectors.buttons.play),je.buttons.pause=R(y.selectors.buttons.pause),je.buttons.restart=R(y.selectors.buttons.restart),je.buttons.rewind=R(y.selectors.buttons.rewind),je.buttons.forward=R(y.selectors.buttons.forward),je.buttons.fullscreen=R(y.selectors.buttons.fullscreen),je.buttons.mute=R(y.selectors.buttons.mute),je.buttons.captions=R(y.selectors.buttons.captions),je.progress={},je.progress.container=R(y.selectors.progress.container),je.progress.buffer={},je.progress.buffer.bar=R(y.selectors.progress.buffer),je.progress.buffer.text=je.progress.buffer.bar&&je.progress.buffer.bar.getElementsByTagName("span")[0],je.progress.played=R(y.selectors.progress.played),je.progress.tooltip=je.progress.container&&je.progress.container.querySelector("."+y.classes.tooltip),je.volume={},je.volume.input=R(y.selectors.volume.input),je.volume.display=R(y.selectors.volume.display),je.duration=R(y.selectors.duration),je.currentTime=R(y.selectors.currentTime),je.seekTime=I(y.selectors.seekTime),!0}catch(e){return H("It looks like there is a problem with your controls HTML"),Y(!0),!1}}function U(){h(je.container,y.selectors.container.replace(".",""),je.supported.full)}function Y(e){e&&o(y.types.html5,je.type)?je.media.setAttribute("controls",""):je.media.removeAttribute("controls")}function X(e){var t=y.i18n.play;if(void 0!==y.title&&y.title.length&&(t+=", "+y.title),je.supported.full&&je.buttons.play)for(var n=je.buttons.play.length-1;n>=0;n--)je.buttons.play[n].setAttribute("aria-label",t);e instanceof HTMLElement&&e.setAttribute("title",y.i18n.frameTitle.replace("{title}",y.title))}function $(){if(!je.media)return void H("No media element found!");if(je.supported.full&&(h(je.container,y.classes.type.replace("{0}",je.type),!0),o(y.types.embed,je.type)&&h(je.container,y.classes.type.replace("{0}","video"),!0),h(je.container,y.classes.stopped,y.autoplay),h(je.container,y.classes.isIos,je.browser.isIos),h(je.container,y.classes.isTouch,je.browser.isTouch),"video"===je.type)){var e=t.createElement("div");e.setAttribute("class",y.classes.videoWrapper),r(je.media,e),je.videoContainer=e}o(y.types.embed,je.type)&&(K(),je.embedId=null)}function K(){for(var n=t.createElement("div"),i=je.embedId,o=je.type+"-"+Math.floor(1e4*Math.random()),s=I('[id^="'+je.type+'-"]'),r=s.length-1;r>=0;r--)c(s[r]);if(h(je.media,y.classes.videoWrapper,!0),h(je.media,y.classes.embedWrapper,!0),"youtube"===je.type)je.media.appendChild(n),n.setAttribute("id",o),"object"==typeof YT?Q(i,n):(a(y.urls.youtube.api),e.onYouTubeReadyCallbacks=e.onYouTubeReadyCallbacks||[],e.onYouTubeReadyCallbacks.push(function(){Q(i,n)}),e.onYouTubeIframeAPIReady=function(){e.onYouTubeReadyCallbacks.forEach(function(e){e()})});else if("vimeo"===je.type){var l=t.createElement("iframe");l.loaded=!1,v(l,"load",function(){l.loaded=!0}),d(l,{src:"https://player.vimeo.com/video/"+i+"?player_id="+o+"&api=1&badge=0&byline=0&portrait=0&title=0",id:o,allowfullscreen:"",frameborder:0}),je.supported.full?(n.appendChild(l),je.media.appendChild(n)):je.media.appendChild(l),"$f"in e||a(y.urls.vimeo.api);var u=e.setInterval(function(){"$f"in e&&l.loaded&&(e.clearInterval(u),Z.call(l))},50)}else if("soundcloud"===je.type){var p=t.createElement("iframe");p.loaded=!1,v(p,"load",function(){p.loaded=!0}),d(p,{src:"https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+i,id:o}),n.appendChild(p),je.media.appendChild(n),e.SC||a(y.urls.soundcloud.api);var m=e.setInterval(function(){e.SC&&p.loaded&&(e.clearInterval(m),ee.call(p))},50)}}function J(){je.container.plyr.embed=je.embed,je.supported.full&&Fe(),X(R("iframe"))}function Q(t,n){"timer"in je||(je.timer={}),je.embed=new YT.Player(n.id,{videoId:t,playerVars:{autoplay:y.autoplay?1:0,controls:je.supported.full?0:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:y.captions.defaultActive?1:0,cc_lang_pref:"en",wmode:"transparent",modestbranding:1,disablekb:1,origin:"*"},events:{onError:function(e){w(je.container,"error",!0,{code:e.data,embed:e.target})},onReady:function(t){var n=t.target;je.media.play=function(){n.playVideo(),je.media.paused=!1},je.media.pause=function(){n.pauseVideo(),je.media.paused=!0},je.media.stop=function(){n.stopVideo(),je.media.paused=!0},je.media.duration=n.getDuration(),je.media.paused=!0,je.media.currentTime=n.getCurrentTime(),je.media.muted=n.isMuted(),y.title=n.getVideoData().title,w(je.media,"timeupdate"),e.clearInterval(je.timer.buffering),je.timer.buffering=e.setInterval(function(){je.media.buffered=n.getVideoLoadedFraction(),w(je.media,"progress"),1===je.media.buffered&&(e.clearInterval(je.timer.buffering),w(je.media,"canplaythrough"))},200),J(),Ee()},onStateChange:function(t){var n=t.target;switch(e.clearInterval(je.timer.playing),t.data){case 0:je.media.paused=!0,w(je.media,"ended");break;case 1:je.media.paused=!1,je.media.seeking=!1,w(je.media,"play"),w(je.media,"playing"),je.timer.playing=e.setInterval(function(){je.media.currentTime=n.getCurrentTime(),w(je.media,"timeupdate")},100);break;case 2:je.media.paused=!0,w(je.media,"pause")}w(je.container,"statechange",!1,{code:t.data})}}})}function Z(){je.embed=$f(this),je.embed.addEvent("ready",function(){je.media.play=function(){je.embed.api("play"),je.media.paused=!1},je.media.pause=function(){je.embed.api("pause"),je.media.paused=!0},je.media.stop=function(){je.embed.api("stop"),je.media.paused=!0},je.media.paused=!0,je.media.currentTime=0,J(),je.embed.api("getCurrentTime",function(e){je.media.currentTime=e,w(je.media,"timeupdate")}),je.embed.api("getDuration",function(e){je.media.duration=e,Ee()}),je.embed.addEvent("play",function(){je.media.paused=!1,w(je.media,"play"),w(je.media,"playing")}),je.embed.addEvent("pause",function(){je.media.paused=!0,w(je.media,"pause")}),je.embed.addEvent("playProgress",function(e){je.media.seeking=!1,je.media.currentTime=e.seconds,w(je.media,"timeupdate")}),je.embed.addEvent("loadProgress",function(e){je.media.buffered=e.percent,w(je.media,"progress"),1===parseInt(e.percent)&&w(je.media,"canplaythrough")}),je.embed.addEvent("finish",function(){je.media.paused=!0,w(je.media,"ended")}),y.autoplay&&je.embed.api("play")})}function ee(){je.embed=e.SC.Widget(this),je.embed.bind(e.SC.Widget.Events.READY,function(){je.media.play=function(){je.embed.play(),je.media.paused=!1},je.media.pause=function(){je.embed.pause(),je.media.paused=!0},je.media.stop=function(){je.embed.seekTo(0),je.embed.pause(),je.media.paused=!0},je.media.paused=!0,je.media.currentTime=0,J(),je.embed.getPosition(function(e){je.media.currentTime=e,w(je.media,"timeupdate")}),je.embed.getDuration(function(e){je.media.duration=e/1e3,Ee()}),je.embed.bind(e.SC.Widget.Events.PLAY,function(){je.media.paused=!1,w(je.media,"play"),w(je.media,"playing")}),je.embed.bind(e.SC.Widget.Events.PAUSE,function(){je.media.paused=!0,w(je.media,"pause")}),je.embed.bind(e.SC.Widget.Events.PLAY_PROGRESS,function(e){je.media.seeking=!1,je.media.currentTime=e.currentPosition/1e3,w(je.media,"timeupdate")}),je.embed.bind(e.SC.Widget.Events.LOAD_PROGRESS,function(e){je.media.buffered=e.loadProgress,w(je.media,"progress"),1===parseInt(e.loadProgress)&&w(je.media,"canplaythrough")}),je.embed.bind(e.SC.Widget.Events.FINISH,function(){je.media.paused=!0,w(je.media,"ended")}),y.autoplay&&je.embed.play()})}function te(){"play"in je.media&&je.media.play()}function ne(){"pause"in je.media&&je.media.pause()}function ie(e){!0===e?te():!1===e?ne():je.media[je.media.paused?"play":"pause"]()}function ae(e){"number"!=typeof e&&(e=y.seekTime),se(je.media.currentTime-e)}function oe(e){"number"!=typeof e&&(e=y.seekTime),se(je.media.currentTime+e)}function se(e){var t=0,n=je.media.paused,i=re();"number"==typeof e?t=e:e.type&&o(["input","change"],e.type)&&(t=e.target.value/e.target.max*i),t<0?t=0:t>i&&(t=i),ke(t);try{je.media.currentTime=t.toFixed(4)}catch(e){}if(o(y.types.embed,je.type)){switch(je.type){case"youtube":je.embed.seekTo(t);break;case"vimeo":je.embed.api("seekTo",t.toFixed(0));break;case"soundcloud":je.embed.seekTo(1e3*t)}n&&ne(),w(je.media,"timeupdate"),je.media.seeking=!0}P("Seeking to "+je.media.currentTime+" seconds"),j(t)}function re(){var e=parseInt(y.duration),t=0
;return null===je.media.duration||isNaN(je.media.duration)||(t=je.media.duration),isNaN(e)?t:e}function le(){h(je.container,y.classes.playing,!je.media.paused),h(je.container,y.classes.stopped,je.media.paused),He(je.media.paused)}function ce(){D={x:e.pageXOffset||0,y:e.pageYOffset||0}}function ue(){e.scrollTo(D.x,D.y)}function de(e){var n=T.supportsFullScreen;e&&e.type===T.fullScreenEventName?je.isFullscreen=T.isFullScreen(je.container):n?(T.isFullScreen(je.container)?T.cancelFullScreen():(ce(),T.requestFullScreen(je.container)),je.isFullscreen=T.isFullScreen(je.container)):(je.isFullscreen=!je.isFullscreen,je.isFullscreen?(v(t,"keyup",pe),t.body.style.overflow="hidden"):(b(t,"keyup",pe),t.body.style.overflow="")),h(je.container,y.classes.fullscreen.active,je.isFullscreen),je.isFullscreen?je.container.setAttribute("tabindex","-1"):je.container.removeAttribute("tabindex"),z(je.isFullscreen),A(je.buttons.fullscreen,je.isFullscreen),w(je.container,je.isFullscreen?"enterfullscreen":"exitfullscreen",!0),!je.isFullscreen&&n&&ue()}function pe(e){27===(e.which||e.charCode||e.keyCode)&&je.isFullscreen&&de()}function me(e){if("boolean"!=typeof e&&(e=!je.media.muted),A(je.buttons.mute,e),je.media.muted=e,0===je.media.volume&&he(y.volume),o(y.types.embed,je.type)){switch(je.type){case"youtube":je.embed[je.media.muted?"mute":"unMute"]();break;case"vimeo":je.embed.api("setVolume",je.media.muted?0:parseFloat(y.volume/y.volumeMax));break;case"soundcloud":je.embed.setVolume(je.media.muted?0:parseFloat(y.volume/y.volumeMax))}w(je.media,"volumechange")}}function he(t){var n=y.volumeMax,i=y.volumeMin;if(void 0===t&&(t=y.volume,y.storage.enabled&&x().supported&&(t=e.localStorage.getItem(y.storage.key),e.localStorage.removeItem("plyr-volume"))),(null===t||isNaN(t))&&(t=y.volume),t>n&&(t=n),t<i&&(t=i),je.media.volume=parseFloat(t/n),je.volume.display&&(je.volume.display.value=t),o(y.types.embed,je.type)){switch(je.type){case"youtube":je.embed.setVolume(100*je.media.volume);break;case"vimeo":je.embed.api("setVolume",je.media.volume);break;case"soundcloud":je.embed.setVolume(je.media.volume)}w(je.media,"volumechange")}je.media.muted&&t>0&&me()}function fe(){he((je.media.muted?0:je.media.volume*y.volumeMax)+y.volumeStep/5)}function ge(){he((je.media.muted?0:je.media.volume*y.volumeMax)-y.volumeStep/5)}function ve(){var t=je.media.muted?0:je.media.volume*y.volumeMax;je.supported.full&&(je.volume.input&&(je.volume.input.value=t),je.volume.display&&(je.volume.display.value=t)),y.storage.enabled&&x().supported&&!isNaN(t)&&e.localStorage.setItem(y.storage.key,t),h(je.container,y.classes.muted,0===t),je.supported.full&&je.buttons.mute&&A(je.buttons.mute,0===t)}function be(e){je.supported.full&&je.buttons.captions&&("boolean"!=typeof e&&(e=-1===je.container.className.indexOf(y.classes.captions.active)),je.captionsEnabled=e,A(je.buttons.captions,je.captionsEnabled),h(je.container,y.classes.captions.active,je.captionsEnabled),w(je.container,je.captionsEnabled?"captionsenabled":"captionsdisabled",!0))}function _e(e){var t="waiting"===e.type;clearTimeout(je.timers.loading),je.timers.loading=setTimeout(function(){h(je.container,y.classes.loading,t)},t?250:0)}function ye(e){if(je.supported.full){var t=je.progress.played,n=0,i=re();if(e)switch(e.type){case"timeupdate":case"seeking":if(je.controls.pressed)return;n=E(je.media.currentTime,i),"timeupdate"==e.type&&je.buttons.seek&&(je.buttons.seek.value=n);break;case"playing":case"progress":t=je.progress.buffer,n=function(){var e=je.media.buffered;return e&&e.length?E(e.end(0),i):"number"==typeof e?100*e:0}()}we(t,n)}}function we(e,t){if(je.supported.full){if(void 0===t&&(t=0),void 0===e){if(!je.progress||!je.progress.buffer)return;e=je.progress.buffer}e instanceof HTMLElement?e.value=t:e&&(e.bar&&(e.bar.value=t),e.text&&(e.text.innerHTML=t))}}function Ae(e,t){if(t){isNaN(e)&&(e=0),je.secs=parseInt(e%60),je.mins=parseInt(e/60%60),je.hours=parseInt(e/60/60%60);var n=parseInt(re()/60/60%60)>0;je.secs=("0"+je.secs).slice(-2),je.mins=("0"+je.mins).slice(-2),t.innerHTML=(n?je.hours+":":"")+je.mins+":"+je.secs}}function Ee(){if(je.supported.full){var e=re()||0;!je.duration&&y.displayDuration&&je.media.paused&&Ae(e,je.currentTime),je.duration&&Ae(e,je.duration),xe()}}function Pe(e){Ae(je.media.currentTime,je.currentTime),e&&"timeupdate"==e.type&&je.media.seeking||ye(e)}function ke(e){"number"!=typeof e&&(e=0);var t=re(),n=E(e,t);je.progress&&je.progress.played&&(je.progress.played.value=n),je.buttons&&je.buttons.seek&&(je.buttons.seek.value=n)}function xe(e){var t=re();if(y.tooltips.seek&&je.progress.container&&0!==t){var n=je.progress.container.getBoundingClientRect(),i=0,a=y.classes.tooltip+"--visible";if(e)i=100/n.width*(e.pageX-n.left);else{if(!f(je.progress.tooltip,a))return;i=je.progress.tooltip.style.left.replace("%","")}i<0?i=0:i>100&&(i=100),Ae(t/100*i,je.progress.tooltip),je.progress.tooltip.style.left=i+"%",e&&o(["mouseenter","mouseleave"],e.type)&&h(je.progress.tooltip,a,"mouseenter"===e.type)}}function He(t){if(y.hideControls&&"audio"!==je.type){var n=0,i=!1,a=t;if("boolean"!=typeof t&&(t&&t.type?(i="enterfullscreen"===t.type,a=o(["mousemove","touchstart","mouseenter","focus"],t.type),o(["mousemove","touchmove"],t.type)&&(n=2e3),"focus"===t.type&&(n=3e3)):a=f(je.container,y.classes.hideControls)),e.clearTimeout(je.timers.hover),a||je.media.paused){if(h(je.container,y.classes.hideControls,!1),je.media.paused)return;je.browser.isTouch&&(n=3e3)}a&&je.media.paused||(je.timers.hover=e.setTimeout(function(){(!je.controls.pressed&&!je.controls.hover||i)&&h(je.container,y.classes.hideControls,!0)},n))}}function Se(e){if(void 0!==e)return void Ce(e);var t;switch(je.type){case"youtube":t=je.embed.getVideoUrl();break;case"vimeo":je.embed.api("getVideoUrl",function(e){t=e});break;case"soundcloud":je.embed.getCurrentSound(function(e){t=e.permalink_url});break;default:t=je.media.currentSrc}return t||""}function Ce(n){if(!(void 0!==n&&"sources"in n&&n.sources.length))return void H("Invalid source format");if(ne(),ke(),we(),Le(),"youtube"===je.type?(je.embed.destroy(),e.clearInterval(je.timer.buffering),e.clearInterval(je.timer.playing)):"video"===je.type&&je.videoContainer&&c(je.videoContainer),je.embed=null,c(je.media),"type"in n&&(je.type=n.type,"video"===je.type)){var i=n.sources[0];"type"in i&&o(y.types.embed,i.type)&&(je.type=i.type)}switch(je.supported=C(je.type),je.type){case"video":je.media=t.createElement("video");break;case"audio":je.media=t.createElement("audio");break;case"youtube":case"vimeo":case"soundcloud":je.media=t.createElement("div"),je.embedId=n.sources[0].src}u(je.container,je.media),void 0!==n.autoplay&&(y.autoplay=n.autoplay),o(y.types.html5,je.type)&&(y.crossorigin&&je.media.setAttribute("crossorigin",""),y.autoplay&&je.media.setAttribute("autoplay",""),"poster"in n&&je.media.setAttribute("poster",n.poster),y.loop&&je.media.setAttribute("loop","")),je.container.className=je.originalClassName,h(je.container,y.classes.fullscreen.active,je.isFullscreen),h(je.container,y.classes.captions.active,je.captionsEnabled),U(),o(y.types.html5,je.type)&&V("source",n.sources),$(),o(y.types.html5,je.type)?("tracks"in n&&V("track",n.tracks),je.media.load(),Fe(),Ee()):o(y.types.embed,je.type)&&!je.supported.full&&Fe(),y.title=n.title,X(),je.container.plyr.media=je.media}function Me(e){"video"===je.type&&je.media.setAttribute("poster",e)}function Te(){function n(){var e=je.media.paused;e?te():ne();var t=je.buttons[e?"play":"pause"],n=je.buttons[e?"pause":"play"];if(n=n&&n.length>1?n[n.length-1]:n[0]){var i=f(t,y.classes.tabFocus);setTimeout(function(){n.focus(),i&&(h(t,y.classes.tabFocus,!1),h(n,y.classes.tabFocus,!0))},100)}}function i(){var e=t.activeElement;e&&e!=t.body?t.querySelector&&(e=t.querySelector(":focus")):e=null;for(var n in je.buttons){var i=je.buttons[n];if(i instanceof NodeList)for(var a=0;a<i.length;a++)h(i[a],y.classes.tabFocus,i[a]===e);else h(i,y.classes.tabFocus,i===e)}}var a=je.browser.isIE?"change":"input";v(e,"keyup",function(e){9==(e.keyCode?e.keyCode:e.which)&&i()}),v(t.body,"click",function(){h(R("."+y.classes.tabFocus),y.classes.tabFocus,!1)});for(var s in je.buttons){var r=je.buttons[s];v(r,"blur",function(){h(r,"tab-focus",!1)})}_(je.buttons.play,"click",y.listeners.play,n),_(je.buttons.pause,"click",y.listeners.pause,n),_(je.buttons.restart,"click",y.listeners.restart,se),_(je.buttons.rewind,"click",y.listeners.rewind,ae),_(je.buttons.forward,"click",y.listeners.forward,oe),_(je.buttons.seek,a,y.listeners.seek,se),_(je.volume.input,a,y.listeners.volume,function(){he(je.volume.input.value)}),_(je.buttons.mute,"click",y.listeners.mute,me),_(je.buttons.fullscreen,"click",y.listeners.fullscreen,de),T.supportsFullScreen&&v(t,T.fullScreenEventName,de),v(je.buttons.captions,"click",be),v(je.progress.container,"mouseenter mouseleave mousemove",xe),y.hideControls&&(v(je.container,"mouseenter mouseleave mousemove touchstart touchend touchcancel touchmove enterfullscreen",He),v(je.controls,"mouseenter mouseleave",function(e){je.controls.hover="mouseenter"===e.type}),v(je.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){je.controls.pressed=o(["mousedown","touchstart"],e.type)}),v(je.controls,"focus blur",He,!0)),v(je.volume.input,"wheel",function(e){e.preventDefault();var t=e.webkitDirectionInvertedFromDevice;(e.deltaY<0||e.deltaX>0)&&(t?ge():fe()),(e.deltaY>0||e.deltaX<0)&&(t?fe():ge())})}function De(){if(v(je.media,"timeupdate seeking",Pe),v(je.media,"timeupdate",j),v(je.media,"durationchange loadedmetadata",Ee),v(je.media,"ended",function(){"video"===je.type&&F(),le(),se(0),Ee(),"video"===je.type&&y.showPosterOnEnd&&je.media.load()}),v(je.media,"progress playing",ye),v(je.media,"volumechange",ve),v(je.media,"play pause",le),v(je.media,"waiting canplay seeked",_e),y.clickToPlay&&"audio"!==je.type){var e=R("."+y.classes.videoWrapper);if(!e)return;e.style.cursor="pointer",v(e,"click",function(){y.hideControls&&je.browser.isTouch&&!je.media.paused||(je.media.paused?te():je.media.ended?(se(),te()):ne())})}y.disableContextMenu&&v(je.media,"contextmenu",function(e){e.preventDefault()}),v(je.media,y.events.join(" "),function(e){w(je.container,e.type,!0)})}function Le(){if(o(y.types.html5,je.type)){for(var e=je.media.querySelectorAll("source"),t=0;t<e.length;t++)c(e[t]);je.media.setAttribute("src","data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAGm1kYXQAAAGzABAHAAABthBgUYI9t+8AAAMNbW9vdgAAAGxtdmhkAAAAAMXMvvrFzL76AAAD6AAAACoAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAABhpb2RzAAAAABCAgIAHAE/////+/wAAAiF0cmFrAAAAXHRraGQAAAAPxcy++sXMvvoAAAABAAAAAAAAACoAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAgAAAAIAAAAAAG9bWRpYQAAACBtZGhkAAAAAMXMvvrFzL76AAAAGAAAAAEVxwAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAABaG1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAShzdGJsAAAAxHN0c2QAAAAAAAAAAQAAALRtcDR2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAgACABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAXmVzZHMAAAAAA4CAgE0AAQAEgICAPyARAAAAAAMNQAAAAAAFgICALQAAAbABAAABtYkTAAABAAAAASAAxI2IAMUARAEUQwAAAbJMYXZjNTMuMzUuMAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAASAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYHVkdGEAAABYbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAraWxzdAAAACOpdG9vAAAAG2RhdGEAAAABAAAAAExhdmY1My4yMS4x"),je.media.load(),P("Cancelled network requests for old media")}}function Ne(){if(!je.init)return null;if(je.container.setAttribute("class",m(y.selectors.container)),je.init=!1,c(R(y.selectors.controls.wrapper)),"youtube"===je.type)return void je.embed.destroy();"video"===je.type&&(c(R(y.selectors.captions)),l(je.videoContainer)),Y(!0);var e=je.media.cloneNode(!0);je.media.parentNode.replaceChild(e,je.media)}function Oe(){if(je.init)return null;if(T=k(),je.browser=n(),je.media=je.container.querySelectorAll("audio, video")[0],je.media||(je.media=je.container.querySelectorAll("[data-type]")[0]),je.media){je.originalClassName=je.container.className;var e=je.media.tagName.toLowerCase();if("div"===e?(je.type=je.media.getAttribute("data-type"),je.embedId=je.media.getAttribute("data-video-id"),je.media.removeAttribute("data-type"),je.media.removeAttribute("data-video-id")):(je.type=e,y.crossorigin=null!==je.media.getAttribute("crossorigin"),y.autoplay=y.autoplay||null!==je.media.getAttribute("autoplay"),y.loop=y.loop||null!==je.media.getAttribute("loop")),je.supported=C(je.type),U(),!je.supported.basic)return!1;if(P(je.browser.name+" "+je.browser.version),$(),o(y.types.html5,je.type)){if(!je.supported.full)return void(je.init=!0);Fe(),X(),y.autoplay&&te()}else o(y.types.embed,je.type)&&!je.supported.full&&Fe();je.init=!0}}function Fe(){if(!je.supported.full)return H("No full support for this media type ("+je.type+")"),c(R(y.selectors.controls.wrapper)),c(R(y.selectors.buttons.play)),void Y(!0);var e=!I(y.selectors.controls.wrapper).length;e&&W(),G()&&(e&&Te(),De(),Y(),N(),O(),he(),ve(),Pe(),le(),Ee(),w(je.container,"ready",!0))}var je=this;return je.container=g,je.timers={},P(y),Oe(),je.init?{media:je.media,play:te,pause:ne,restart:se,rewind:ae,forward:oe,seek:se,source:Se,poster:Me,setVolume:he,togglePlay:ie,toggleMute:me,toggleCaptions:be,toggleFullscreen:de,toggleControls:He,isFullscreen:function(){return je.isFullscreen||!1},support:function(e){return i(je,e)},destroy:Ne,restore:Oe,getCurrentTime:function(){return je.media.currentTime}}:{}}function S(e,n){var i=new XMLHttpRequest;"string"==typeof n&&null!==t.querySelector("#"+n)||"withCredentials"in i&&(i.open("GET",e,!0),i.onload=function(){var e=t.createElement("div");e.setAttribute("hidden",""),"string"==typeof n&&e.setAttribute("id",n),e.innerHTML=i.responseText,t.body.insertBefore(e,t.body.childNodes[0])},i.send())}function C(e){var i,a,o=n(),s=o.isIE&&o.version<=9,r=o.isIos,l=/iPhone|iPod/i.test(navigator.userAgent),c=!!t.createElement("audio").canPlayType,u=!!t.createElement("video").canPlayType;switch(e){case"video":i=u,a=i&&!s&&!l;break;case"audio":i=c,a=i&&!s;break;case"vimeo":case"youtube":case"soundcloud":i=!0,a=!s&&!r;break;default:i=c&&u,a=i&&!s}return{basic:i,full:a}}function M(e,n){var i=[],a=[],o=[L.selectors.html5,L.selectors.embed].join(",");if("string"==typeof e?e=t.querySelectorAll(e):e instanceof HTMLElement?e=[e]:e instanceof NodeList||"string"==typeof e||(void 0===n&&"object"==typeof e&&(n=e),e=t.querySelectorAll(o)),!C().basic||!e.length)return!1;e instanceof NodeList&&(e=Array.prototype.slice.call(e));for(var s=0;s<e.length;s++){var l=e[s],c=l.querySelectorAll(o);if(c.length>1)for(var u=0;u<c.length;u++)a.push({element:r(c[u],t.createElement("div")),original:l});else a.push({element:l})}for(var d in a){var p=a[d].element,m=a[d].original||p;if(g(p,o)&&(p=r(p,t.createElement("div"))),!("plyr"in p)){var h=P({},L,n,JSON.parse(m.getAttribute("data-plyr")));if(!h.enabled)return null;var f=new H(p,h);p.plyr=!!Object.keys(f).length&&f,w(m,"setup",!0,{plyr:p.plyr})}i.push(p)}return i}var T,D={x:0,y:0},L={enabled:!0,debug:!1,autoplay:!1,loop:!1,seekTime:10,volume:5,volumeMin:0,volumeMax:10,volumeStep:1,duration:null,displayDuration:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/1.8.8/plyr.svg",clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,tooltips:{controls:!1,seek:!0},selectors:{html5:"video, audio",embed:"[data-type]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{seek:'[data-plyr="seek"]',play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',forward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]'},volume:{input:'[data-plyr="volume"]',display:".plyr__volume--display"},progress:{container:".plyr__progress",buffer:".plyr__progress--buffer",played:".plyr__progress--played"},captions:".plyr__captions",currentTime:".plyr__time--current",duration:".plyr__time--duration"},classes:{videoWrapper:"plyr__video-wrapper",embedWrapper:"plyr__video-embed",type:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",muted:"plyr--muted",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",active:"plyr--fullscreen-active"},tabFocus:"tab-focus"},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,allowAudio:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",forward:"Forward {seektime} secs",played:"played",buffered:"buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",toggleMute:"Toggle Mute",toggleCaptions:"Toggle Captions",toggleFullscreen:"Toggle Fullscreen",frameTitle:"Player for {title}"},types:{embed:["youtube","vimeo","soundcloud"],html5:["video","audio"]},urls:{vimeo:{api:"https://cdn.plyr.io/froogaloop/1.0.1/plyr.froogaloop.js"},youtube:{api:"https://www.youtube.com/iframe_api"},soundcloud:{api:"https://w.soundcloud.com/player/api.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,forward:null,mute:null,volume:null,captions:null,fullscreen:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","emptied"]};return{setup:M,supported:C,loadSprite:S}}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(){"use strict";PH.extend=function e(t,n){for(var i in n)n[i]&&n[i].constructor&&n[i].constructor===Object?(t[i]=t[i]||{},e(t[i],n[i])):t[i]=n[i];return t},PH.number_format=function(e,t,n,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,s=void 0===i?",":i,r=void 0===n?".":n,l="";return l=(o?function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)}(a,o):""+Math.round(a)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(r)},PH.serializeFormElements=function(e){e=PH.element(e);for(var t,n=e.querySelectorAll("input[name], textarea[name], select[name]"),i={},a=0;a<n.length;a++)t=n[a],void 0!==i[t.name]?(i[t.name].push||(i[t.name]=[i[t.name]]),-1!==["radio","checkbox"].indexOf(t.type)?t.checked&&i[t.name].push(t.value||""):i[t.name].push(t.value||"")):-1!==["radio","checkbox"].indexOf(t.type)?t.checked&&(i[t.name]=t.value||""):i[t.name]=t.value||"";return i},PH.renderModel=function(e,t,n){var i=PH.template(t,e);return n&&(n.innerHTML=i,PH.Widget.autoInit(n)),i},PH.renderCollection=function(e,t,n){var i="";return e.forEach(function(e){i+=PH.renderModel(e,t)}),n&&(n.innerHTML=i,PH.Widget.autoInit(n)),i},PH.clone=function e(t){var n;if(null===t||"object"!=typeof t)return t;if(t instanceof Date)return n=new Date,n.setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var i=0,a=t.length;i<a;i++)n[i]=e(t[i]);return n}if(t instanceof Object){n={};for(var o in t)PH.objectHasKey(t,o)&&(n[o]=e(t[o]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},PH.cumulativeOffset=function(e){var t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},PH.inViewport=function(e,t,n){n=n||0;for(var i=e.offsetTop,a=e.offsetLeft,o=e.offsetWidth,s=e.offsetHeight;e.offsetParent;)e=e.offsetParent,i+=e.offsetTop,a+=e.offsetLeft;return!0===t?i>=window.pageYOffset&&a>=window.pageXOffset&&i+s<=window.pageYOffset+window.innerHeight&&a+o<=window.pageXOffset+window.innerWidth:i<window.pageYOffset+window.innerHeight+n&&a<window.pageXOffset+window.innerWidth+n&&i+s>window.pageYOffset-n&&a+o>window.pageXOffset-n},PH.addLoaderTo=function e(t,n){var i=n||"preloader";if(t){if(PH.isArray(t))return t.forEach(function(t){e(t,i)});if(!t.querySelector("."+i)){var a=PH.node('<div class="'+i+'"></div>');t.appendChild(a),PH.show(a)}}},PH.removeLoaderFrom=function(e,t){var n=t||"preloader";if(PH.isArray(e))return e.forEach(function(e){PH.removeLoaderFrom(e,n)});for(var i=e.querySelectorAll("."+n),a=0;a<i.length;a++)PH.remove(i[a])};var e={};PH.template=function t(n,i){var a=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t-(.*?)%>/g,"',PH.htmlEscape($1),'").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.querySelector(n).innerHTML);return i?a(i):a},PH.smoothScroll=function(e){var t=function(e){e.preventDefault();var t=document.querySelector(this.getAttribute("href"));PH.scrollToElement(t)};PH.slice(e.querySelectorAll("[data-smoothscroll]")).forEach(function(e){e.addEventListener("click",t)})},PH.smoothScroll(document),PH.initEvents=function(e,t,n){var i=this;for(var a in t)if(t[a]&&"function"==typeof t[a]){var o=a.substr(0,a.indexOf(" ")),s=a.substr(a.indexOf(" ")+1),r=t[a];PH.live(e,o,s,r,n||i)}},PH.merge(PH,{q:function(e,t){return(t||document).querySelector(e)},qq:function(e,t){return(t||document).querySelectorAll(e)},qs:function(e,t){return PH.slice(PH.qq(e,t))},show:function e(t){if(PH.isElement(t))t.style.display="block";else if("object"==typeof t&&null!==t&&void 0!==t.length)for(var n=t.length;n--;)e(t[n]);else"string"==typeof t&&e(PH.qq(t))},hide:function e(t){if(PH.isElement(t))t.style.display="none";else if("object"==typeof t&&null!==t&&void 0!==t.length)for(var n=t.length;n--;)e(t[n]);else"string"==typeof t&&e(PH.qq(t))},toggle:function e(t){if(PH.isElement(t))PH.isHidden(t)?PH.show(t):PH.hide(t);else if("object"==typeof t&&null!==t&&void 0!==t.length)for(var n=t.length;n--;)e(t[n]);else"string"==typeof t&&e(PH.qq(t))},enable:function(e){e&&(e.disabled=!1)},disable:function(e){e&&(e.disabled=!0)},toggleDisable:function(e){e&&(e.disabled=!e.disabled)},scrollLeftToMax:function(e){return e.scrollLeft=e.scrollWidth-e.clientWidth,e.scrollLeft},scrollTopToMax:function(e){return e.scrollTop=e.scrollHeight-e.clientHeight,e.scrollTop},whichChild:function(e){for(var t=0;null!==(e=e.previousElementSibling);)++t;return t},prependChild:function(e,t){e.insertBefore(t,e.firstChild)},insertAfter:function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},copyToClipboard:function(e){var t=document.createElement("textarea"),n=!1;t.value=e,t.className="sr-only",document.body.appendChild(t),t.select();try{n=document.execCommand("copy")}catch(e){}return document.body.removeChild(t),n},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}})}(),function(){var e=["bg","hu","pl","ro"];PH.Date=function(t,n){"object"==typeof t&&t instanceof Date?this.date=t:this.date=new Date,this.locale=n||e[0]},PH.Date.weekDayNames={bg:["неделя","понеделник","вторник","сряда","четвъртък","петък","събота"],hu:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],pl:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],ro:["duminica","luni","marti","miercuri","joi","vineri","sambata"]},PH.Date.monthNames={en:["January","February","March","April","May","June","July","August","September","October","November","December"],bg:["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"],hu:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],pl:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],ro:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]},PH.Date.shortMonthNames={en:["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."]},PH.Date.prototype.getDayWeekDayMonth=function(e){void 0===e&&(e={});var t,n=this.date.getDate(),i=this.date.getDay(),a=this.date.getMonth();switch(t=e.useShortMonthNames?PH.capitalize(EM.trans(PH.Date.shortMonthNames.en[a])):PH.capitalize(PH.Date.monthNames[this.locale][a]),this.locale){case"bg":case"pl":case"ro":return PH.capitalize(PH.Date.weekDayNames[this.locale][i])+", "+n+" "+t;case"hu":return PH.capitalize(PH.Date.monthNames[this.locale][a])+" "+n+", "+t}},PH.Date.prototype.getWeekDay=function(){var e=this.date.getDay();return PH.Date.weekDayNames[this.locale][e]},PH.Date.prototype.getHourMinutes=function(){return this.date.toTimeString().split(":")},PH.getDateFromString=function(e){if(!e)return new Date;var t=Date.parse(e);return new Date(!1===isNaN(t)?t:EM.parseDateFormat(e))}}(),function(e){e.globals={viewportBreakpoints:{xs:480,sm:768,md:992,lg:1260},getViewportBreakpoint:function(){var e=this,t=window.innerWidth,n="xs";for(var i in this.viewportBreakpoints)t>=e.viewportBreakpoints[i]&&(n=i);return n},searchBox:{searchHistoryLimit:10,minQueryLength:3,minSubmitQueryLength:2,suggestionsCacheLength:10,getSearchUrl:function(e,t){t=t||{};var n="/search/"+encodeURIComponent(e.replace(/(\/|%)/gi," "));return"isSupermarket"in t&&t.isSupermarket&&(n="/supermarket"+n),n}},favoritesBox:{getFavoriteProductsUrl:function(){return"/ajax/favorites.php"},postFavoriteProductsUrl:function(e){return"/ajax/post_favorites.php"}},cartBox:{getCartProductsUrl:function(){return"/ajax/cart.php"}},feedback:{getUrl:function(){return"/ajax-product-feedback"},voteUrl:function(){return"/product-feedback/vote"},unvoteUrl:function(){return"/product-feedback/remove-vote"},addCommentUrl:function(){return"/ajax/feedback-add-comment.php"}},user:{loginUrl:"/user/login",reviewsUrl:"/user/reviews"},megamenu:{departmentCacheLifetime:864e5}}}(window.PH),PH.cookie=function(e){"use strict";return{set:function(t,n,i,a,o){var s=t+"="+n+";";i&&(i instanceof Date?isNaN(i.getTime())&&(i=new Date):i=new Date((new Date).getTime()+1e3*parseFloat(i)*60*60*24),s+="expires="+i.toGMTString()+";"),a&&(s+="path="+a+";"),o&&(s+="domain="+o+";"),e.cookie=s},get:function(t){for(var n=t+"=",i=e.cookie.split(";"),a=0;a<i.length;a++){for(var o=i[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null},erase:function(e){this.set(e,"",-1),this.set(e,"",-1,"/")}}}(document),PH.Modal=PH.defclass("Modal",PH.Widget,function(e,t){"use strict";function n(e){return a||(a=PH.createDOM("div",{className:"modal-backdrop fade"})),e&&document.body.appendChild(a),a}var i=window.history;e.options={_title:["title",null],_content:["content",null],_size:["size",""],_showHeader:["showHeader",!0],_hash:["hash",null],_closeButton:["closeButton",!0],_fullscreen:["fullscreen",!1],_titleClose:["titleClose",!1]};var a=null,o=null,s=null;t._initElement=function(){var e=this._content;/^#/.test(e)&&(e=document.querySelector(e),"SCRIPT"==e.tagName&&(e=e.innerHTML));var t=!1;"string"==typeof e&&(t=!0,e=["*html",e]);var n=this;n._on_mouseDown=n._on_mouseDown.bind(n),n._on_keyDown=n._on_keyDown.bind(n),n._on_popState=n._on_popState.bind(n);var i=PH.createDOM(["div",{className:"ph-modal modal fade"+(n._fullscreen?" ph-modal-fullscreen":""),tabIndex:"-1"},["div",{className:"modal-dialog "+n._size},["div",{className:"modal-content"},n._showHeader?["div",{className:"modal-header"},n._closeButton?["button",{className:"close"},["i",{className:"em em-close"}]]:null,n._title?["h4",{className:"modal-title"+(n._titleClose?" close":"")},["*text",n._title]]:null]:null,e]]]);n._element=i,n._className&&n.addClass(n._className),document.body.appendChild(n._element);var a=n.close.bind(n);PH.slice(i.querySelectorAll(".close, [data-dismiss]")).forEach(function(e){e.addEventListener("click",a)}),t&&PH.Widget.autoInit(i)},t.open=function(){if(s&&s._element)return s.once("close",this.open.bind(this)),void s.close();var e=this;s=e,e._element.style.display="block",e._element.focus(),o=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),document.body.style.top=-1*o+"px",n(!0),setTimeout(function(){PH.addClass(n(),"in"),PH.addClass(document.body,"modal-open"),e.addClass("in");var t=PH.getScrollbarSize().width;document.body.style.paddingRight=t+"px",PH.on(e._element,"click",e._on_mouseDown),PH.on(document,"keydown",e._on_keyDown),e.trigger("open")},10),e.relayoutCarousels(),e._hash&&i.pushState&&(i.pushState(null,"","#"+e._hash),PH.on(window,"popstate",e._on_popState))},t.close=function(){s=null;var e=this;PH.removeClass(document.body,"modal-open"),e.delClass("in"),PH.removeClass(n(),"in"),document.body.style.paddingRight="0px",window.scrollTo(0,o),document.body.style.top="",this._eventsOff(),setTimeout(function(){PH.remove(n()),e._element.style.display="none",e._hash&&i.replaceState&&i.replaceState(null,"",window.location.pathname+window.location.search),e.trigger("close")},300),e._hash&&i.pushState&&PH.off(window,"popstate",e._on_popState)},t._eventsOff=function(){PH.off(this._element,"click",this._on_mouseDown),PH.off(document,"keydown",this._on_keyDown)},t._quickClose=function(){s=null;var e=this;e._eventsOff(),e.delClass("in"),setTimeout(function(){e._element.style.display="none"},300)},t._on_popState=function(e){this.close()},t._on_mouseDown=function(e){PH.closest(e.target,".modal-dialog")||e.target.parentNode.querySelector(".gm-style-iw")||e.target.parentNode.parentNode.querySelector(".gm-style-iw")||!this._closeButton||this.close()},t._on_keyDown=function(e){this._closeButton&&27==e.keyCode&&this.close()},PH.on(window,"load",function(){setTimeout(function(){var e=document.createElement("style"),t=PH.getScrollbarSize();e.type="text/css";var n=[".modal-open .adjust-on-modal { padding-right: "+t.width+"px; }",".ph-modal { padding-left: "+t.width+"px; }",".modal-open .ph-modal { padding-left: 0 } "].join("\n");e.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(e)},500)})}),PH.ModalTrigger=PH.defclass("ModalTrigger",PH.Modal,function(e,t){"use strict";t._initElement=function(){var e=this;e._from.addEventListener("click",function(t){e.open(),PH.stopEvent(t)})},t.open=function(){var e=this._modal;e||(e=this._modal=new PH.Modal(this)),e.open()}}),PH.Tabs=PH.defclass("Tabs",PH.Widget,function(e,t){"use strict";function n(e){return e.replace(/^.*#/,"#")}e.options={_duration:["duration",150]},t._initElement=function(){var t=this;e.base._initElement.apply(t,arguments),t.addLinkTriggers()},t.addLinkTriggers=function(){var e=this;PH.slice(e._from.querySelectorAll("[data-toggle]")).forEach(function(t){t.addEventListener("click",function(n){PH.stopEvent(n),e.setActive(t)})})},t.getActive=function(){return this._from.querySelector(".active").firstElementChild},t.setActive=function(e){var t,i,a=this,o=a.getActive();o!==e&&(PH.removeClass(o.parentNode,"active"),PH.addClass(e.parentNode,"active"),t=document.querySelector(n(o.href||PH.getData(o,"href"))),i=document.querySelector(n(e.href||PH.getData(e,"href"))),PH.removeClass(t,"in"),setTimeout(function(){PH.removeClass(t,"active"),PH.addClass(i,"active"),a.relayoutCarousels(i),setTimeout(function(){PH.addClass(i,"in"),a.trigger("change",e)},10)},a._duration))}}),function(e,t){"use strict";e.Validator={rules:{},errors:{},helperNode:"span",helperClassName:"help-block",elementParent:".form-group",errorClass:"has-error",successClass:"has-success",blurEventMap:{
focusout:['input[type="text"]','input[type="email"]','input[type="number"]',"textarea"],change:['input[type="checkbox"]','input[type="radio"]',"select"],"ph-close":["select"]},changeEventMap:{keyup:['input[type="text"]','input[type="email"]','input[type="number"]',"textarea"],change:['input[type="checkbox"]','input[type="radio"]',"select",'input[type="file"]'],"ph-close":["select"]},addRule:function(t,n,i){var a={};e.isArray(t)&&(t.length>1&&(a.alias=t[1]),t=t[0]),this.rules[t]=e.extend(a,{callback:n,message:i})},isFormValid:function(){return this.addValidatorToForm(arguments[0],arguments[1],arguments[2]).isValid()},getErrors:function(){return this.getErrors()},validateForm:function(){return this.addValidatorToForm(arguments[0],arguments[1],arguments[2]).validate()},addValidatorToForm:function(){var e=arguments[0],t=e["ph.validator"];return t?(arguments[1]||arguments[2])&&t.updateArgs(arguments[1],arguments[2]):e["ph.validator"]=t=new n(arguments[0],arguments[1],arguments[2]),t},addErrorsToForm:function(e,t){this.addValidatorToForm(e).addErrorsToForm(t)},removeHelpers:function(t){t.classList.remove(this.errorClass),t.classList.remove(this.successClass);for(var n=t.querySelectorAll("."+this.helperClassName),i=0;i<n.length;i++)e.remove(n[i])},_createHelperNode:function(e){var n=t.createElement(this.helperNode);return n.className=this.helperClassName,n.innerHTML=e,n}};var n=function(){this.form=arguments[0],this.initEvents={},this.validator=e.Validator,this.updateArgs(arguments[1],arguments[2]),"form"==this.form.tagName.toLowerCase()&&this.form.setAttribute("novalidate",!0)};n.prototype.addEventListeners=function(){if(this.options.validateOnBlur||this.options.validateOnChange){var t=this.options.validateOnBlur?"onBlur":"onChange",n=this.options.validateOnBlur?this.validator.blurEventMap:this.validator.changeEventMap;if("onBlur"==t&&this.initEvents.onBlur||"onChange"==t&&this.initEvents.onChange)return;Object.keys(n).forEach(function(t){var i=n[t];if(!Array.isArray(i))return!1;e.live(this.form,t,i.join(", "),function(t){var n=e.target(t);this.validateField(n,this.rules[n.name])}.bind(this))},this),this.initEvents[t]=!0}this.options.validateOnSubmit&&!this.initEvents.onSubmit&&(this.form.addEventListener("submit",function(e){this.validate()||e.preventDefault()}.bind(this)),this.initEvents.onSubmit=!0)},n.prototype.updateArgs=function(){this.rules=e.merge({},arguments[0]?arguments[1]?arguments[1]:arguments[0]:this.rules),this.options=e.merge({showHelpers:!0,addErrorClass:!0,addSuccessClass:!1,validateOnBlur:!1,validateOnChange:!1,validateOnSubmit:!0,scrollOnError:!1,scrollOnErrorOffset:-40,validateOnlyVisible:!1},this.options,arguments[1]?arguments[0]:null),this.addEventListeners()},n.prototype.isValid=function(){return this.validate(!0)},n.prototype.validate=function(t){var n=this,i=!0,a=this.form.querySelectorAll("input, select, textarea");this.errors={};for(var o=0;o<a.length;o++)if(!n.validateField(a[o],n.rules[a[o].name],!!t)){if(t)return!1;n.errors[a[o].name]="",n.options.scrollOnError&&i&&e.scrollToElement(a[o],{offsetTop:n.options.scrollOnErrorOffset}),i=!1}return i},n.prototype.getErrors=function(){var e=this.errors;return this.errors={},e},n.prototype.validateField=function(n,i,a){var o,s,r,l=this,c=!0,u={};if(this.options.validateOnlyVisible&&!e.isVisible(n))return!0;if(e.isArray(i))for(var d=0;d<i.length;d++)o=i[d],u[o[0]]=o;Object.keys(this.validator.rules).forEach(function(e){if(!(e in u)&&(r=n.getAttribute("data-v-"+e),null===r&&this.validator.rules[e].alias&&(r=n.getAttribute(this.validator.rules[e].alias)),null!==r)){var t=n.getAttribute("data-vm-"+e);u[e]=[e,r,t?function(){return t}:null]}},this);var p,m,h;for(var f in u)if(o=u[f],p=o[0],m=o[1],h=o[2],p in l.validator.rules&&!(c=l.validator.rules[p].callback.call(l,n,m))){s=(h||l.validator.rules[p].message).call(l,m);break}if(!0!==a){var g=e.closest(n,this.validator.elementParent)||t.createElement("div");this.validator.removeHelpers(g),this.addClassToField(g,c),this.addHelperToField(g,s)}return c},n.prototype.addClassToField=function(e,t){this.options.addErrorClass&&!t?e.classList.add(this.validator.errorClass):this.options.addSuccessClass&&t&&e.classList.add(this.validator.successClass)},n.prototype.addHelperToField=function(e,t){t&&this.options.showHelpers&&e.appendChild(this._createHelperNode(t))},n.prototype.addErrorsToForm=function(n){var i=this;for(var a in n){var o,s=i.form.querySelectorAll('input[name="'+a+'"], select[name="'+a+'"], textarea[name="'+a+'"]');if("string"==typeof n[a])o=n[a];else{if(!Array.isArray(n[a]))continue;o=n[a][0]}for(var r=0;r<s.length;r++){var l=e.closest(s[r],i.validator.elementParent)||t.createElement("div");i.validator.removeHelpers(l),i.addClassToField(l,!1),i.addHelperToField(l,o)}}},n.prototype._createHelperNode=function(e){var n=t.createElement(this.validator.helperNode);return n.className=this.validator.helperClassName,n.innerHTML=e,n},e.Validator.addRule(["required","required"],function(e,n){if("radio"===e.type){var i=n||t,a=i.querySelectorAll('[name="'+e.name+'"]');if(a[a.length-1]===e){for(var o=0;o<a.length;o++)if(a[o].checked)return!0;return!1}return!0}return"checkbox"===e.type?e.checked:/\S/.test(e.value)},function(){return EM.trans("This field is required")}),e.Validator.addRule("email",function(e){var t=/^([\w-+]+(?:\.[\w-+]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return""===e.value||t.test(e.value)},function(){return EM.trans("Invalid email")}),e.Validator.addRule("number",function(e){return""===e.value||!isNaN(parseFloat(e.value))&&isFinite(e.value)},function(){return EM.trans("Incorrect number")}),e.Validator.addRule("digits",function(e){var t=/^([0-9]+)$/;return""===e.value||t.test(e.value)},function(){return EM.trans("Only digits allowed")}),e.Validator.addRule(["min","minlength"],function(e,t){return"number"==e.type?parseFloat(e.value)>=parseFloat(t):e.value.length>=parseInt(t)},function(){return EM.trans("Too short")}),e.Validator.addRule(["max","maxlength"],function(e,t){return"number"==e.type?parseFloat(e.value)<=parseFloat(t):e.value.length<=parseInt(t)},function(){return EM.trans("Too long")}),e.Validator.addRule(["length","size"],function(e,t){return e.value.length===parseInt(t)},function(){return EM.trans("Length mismatch")}),e.Validator.addRule(["multiple","multiple"],function(e,t){return""===e.value||parseInt(e.value)%t==0},function(){return EM.trans("Incorrect multiple")}),e.Validator.addRule(["extension"],function(e,t){if(!t)return!0;if(!e.value)return!1;var n=e.value,i=n.substring(n.lastIndexOf(".")+1);return-1!==t.indexOf(i.toLowerCase())},function(){return EM.trans("Invalid file type selected")}),e.Validator.addRule("phone",function(e,t){var n;switch(t){case"ro":n=/^07[0-9]{8}$/;break;case"bg":n=/^08[0-9]{8}$/;break;case"hu":n=/^36[0-9]{2}[0-9]{7}$/;break;default:n=/^[0-9\-\+ ]+$/}return""===e.value||n.test(e.value)},function(){return EM.trans("Incorrect phone number")}),e.Validator.addRule("minRatingValue",function(e,t){return e.value>t},function(){return EM.trans("Please enter a greater value")}),e.Validator.addRule("cnp",function(e,t){if(0===e.value.length)return!0;if(13!==e.value.length||isNaN(e.value))return!1;for(var n,i,a=[],o=new Date,s=0,r=[2,7,9,1,4,6,3,5,8,2,7,9],l=0;l<13;l++)a[l]=parseInt(e.value.charAt(l),10),l<12&&(s+=a[l]*r[l]);if((s%=11)<10&&s!=a[12]||10==s&&1!=a[12])return!1;switch(n=10*a[1]+a[2],a[0]){case 1:case 2:n+=1900;break;case 3:case 4:n+=1800;break;case 5:case 6:n+=2e3;break;case 7:case 8:case 9:(n+=2e3)>parseInt((new Date).getYear(),10)-14&&(n-=100);break;default:return!1}return!(n<1800||n>2099)&&(!(n+""+a[3]+a[4]>=o.getFullYear()+""+("0"+(o.getMonth()+1)).slice(-2))&&!((i=parseInt(a[7]+""+a[8]))<1||i>52))},function(){return EM.trans("This CNP is not valid")});for(var i=t.body.querySelectorAll("form"),a=0;a<i.length;a++)null==i[a].getAttribute("data-no-validator")?e.Validator.addValidatorToForm(i[a]):i[a].setAttribute("novalidate",!0)}(PH,document),function(e,t,n){"use strict";e.ajax=function(i){i.uid=e.ajax.uid++,i.form&&n.addLoaderTo(i.form,i.preloaderClass),(i.cache||e.ajax.globalCache)&&(i.data?i.data._cache=(new Date).getTime():i.data={_cache:(new Date).getTime()}),i.crossOrigin&&(i.headers=i.headers||{},i.headers["X-Requested-With"]="XMLHttpRequest"),e.ajax.ajaxStart();var a=function(){e.ajax._started&&e.ajax._started===e.ajax._finished&&e.ajax.ajaxStop(s)};e.ajax._started++;var o=i.complete;i.complete=function(){i.form&&n.removeLoaderFrom(i.form),e.ajax._finished++,a(),delete e.ajax.ajaxes[i.uid],"function"==typeof o&&o.call(this,arguments)};var s=t(i);return e.ajax.ajaxes[i.uid]=s,s},e.ajax.ajaxStart=function(){},e.ajax.ajaxStop=function(){},e.ajax._started=0,e.ajax._finished=0,e.ajax.globalCache=!1,e.ajax.ajaxes={},e.ajax.uid=0,n.when=function(){var e=this,t=arguments||[],n=t.length,i=0,a=0,o=0,s=[];this.thenCallback=function(){},this.failCallback=function(){},this.alwaysCallback=function(){},this.checkFinished=function(){n&&n===o&&(0===a?this.thenCallback.apply(this,s):this.failCallback.apply(this,s))},this.then=function(e){return this.thenCallback=e,this},this.fail=function(e){return this.failCallback=e,this},this.always=function(e){return this.alwaysCallback=e,this};for(var r=function(){s[arguments[0]]=arguments[1],i++},l=function(){s[arguments[0]]=arguments[1],a++},c=function(){o++,this.checkFinished.call(this)},u=0;u<t.length;u++)t[u].then(r.bind(e,u)),t[u].fail(l.bind(e,u)),t[u].always(c.bind(e,u));return this}}(window,window.reqwest,window.PH),function(e){"use strict";var t=function(){var e=this,t=e.scrollTop,n=e.scrollHeight,i=t+e.offsetHeight;0===t?e.scrollTop=1:i===n&&(e.scrollTop=t-1)};e.scrollMomentum=t}(EM),PH.CollapsiblePanels=PH.defclass("CollapsiblePanels",PH.Widget,function(e,t){"use strict";function n(e,t){return e.replace(/\$N/g,t)}e.options={_initCount:["initCount",1],_pageSize:["pageSize",4],_initLabel:["initLabel","View more ($N)"],_midLabel:["midLabel","View more ($N)"],_endLabel:["endLabel","View less"],_target:["target",null],_collapsibles:["collapsibles",null]},t._initElement=function(){var t=this;e.base._initElement.call(t);var i=0,a=document.getElementById(t._target);t._cards=PH.slice(a.querySelectorAll(t._collapsibles)).map(function(e,n){var a=PH.wrap(e,document.createElement("div"));return n>=t._initCount?(PH.addClass(a,"collapse"),++i):PH.addClass(a,"collapse in"),a}),PH.on(t._from,"click",function(e){PH.stopEvent(e),t.more()}),i>0?t._from.innerHTML=n(t._initLabel,i):PH.remove(t._from)},t.more=function(e){var t,i,a,o=0,s=this._cards;for(t=0;t<s.length&&(a=s[t],!PH.hasClass(a,"collapse")||PH.hasClass(a,"in"));++t)o++;if(o==s.length)return void(e||this.less());var r=[];for(t=0,i=o;t<this._pageSize&&i<s.length;++t,++i)a=s[i],PH.addClass(a,"in"),r.push({card:a,height:a.offsetHeight}),PH.addClass(a,"collapsing");setTimeout(function(){r.forEach(function(e){e.card.style.height=e.height+"px",e.card.style.overflowY="hidden"})},10),setTimeout(function(){r.forEach(function(e){e.card.style.height=e.card.style.overflowY="",PH.removeClass(e.card,"collapsing")}),PH.trigger(window,"scroll")},300);var l=s.length-i,c=l>0?this._midLabel:this._endLabel;c?(this._from.innerHTML=n(c,l),PH.addClass(this._from,"active")):PH.remove(this._from)},t.less=function(){for(var e=this,t=this._cards,i=[],a=0;a<t.length;++a)if(a>=e._initCount){var o=t[a];o.style.height=o.offsetHeight+"px",i.push(o)}setTimeout(function(){i.forEach(function(e){PH.addClass(e,"collapsing"),e.style.height="0px",e.style.overflowY="hidden"})},10),setTimeout(function(){i.forEach(function(e){PH.removeClass(e,"collapsing in"),e.style.height=e.style.overflowY=""})},300),this._from.innerHTML=n(this._initLabel,i.length),PH.removeClass(this._from,"active")}}),PH.CollapseOne=PH.defclass("CollapseOne",PH.Widget,function(e,t){"use strict";function n(e,t){return null==e&&(e=t||""),"number"==typeof e&&(e+="px"),e}e.options={_target:["target",null],_initSize:["initSize",null],_initLabel:["initLabel",null],_endLabel:["endLabel",null],_labelAlways:["labelAlways",null],_stopEvent:["stopEvent",PH.stopEvent,{type:"function"}],_animation:["animation",!0]},t._initElement=function(){var t=this;e.base._initElement.apply(t,arguments);var i=t._target=PH.element(t._target);if(i.style.overflowY="hidden",i.PH_CollapseOne_triggers=i.PH_CollapseOne_triggers||[],i.PH_CollapseOne_triggers.push(this._from),null==this._initLabel&&(this._initLabel=this._from.innerHTML),null==t._initSize&&i.style.height&&(t._initSize=i.style.height),t._initSize){if(!t._labelAlways&&i.offsetHeight<t._initSize)return PH.remove(t._from),PH.addClass(t._target,"collapse in"),void PH.trigger(i,"PHCollapseOneUnderHeight");i.style.height=n(t._initSize)}PH.on(t._from,"click",function(e){PH.hasClass(t._from,"collapse-disabled")||(t._stopEvent(e),t.toggle())}),this._collapseGroup=PH.closest(i,".collapse-group"),this._collapseGroup&&(this._collapseGroup.collapseObjects=this._collapseGroup.collapseObjects||[],this._collapseGroup.collapseObjects.push(this))},t.toggle=function(){PH.hasClass(this._target,"in")?this.less():this.more()},t._updateTriggers=function(e){this._target.PH_CollapseOne_triggers.forEach(function(t){PH.toggleClass(t,"active",e)})},t.more=function(){var e=this._target;if(!PH.hasClass(e,"in")){if(this._closeOthers(),PH.addClass(e,"in"),this._animation){var t=e.style.height;t&&(e.style.height="");var n=e.offsetHeight;t&&(e.style.height=t),PH.addClass(e,"collapsing"),setTimeout(function(){e.style.height=n+"px"},10),setTimeout(function(){e.style.height="",PH.removeClass(e,"collapsing"),PH.trigger(window,"scroll")},500)}else PH.trigger(window,"scroll");PH.addClass(this._from,"active"),this._endLabel?this._from.innerHTML=this._endLabel:this._initSize&&PH.remove(this._from),this.trigger("more"),PH.trigger(this._from,"PHCollapseOneMore")}},t.less=function(){var e=this,t=this._target;e._animation?(t.style.height=t.offsetHeight+"px",setTimeout(function(){PH.addClass(t,"collapsing"),t.style.height=n(e._initSize,"0px")},10),setTimeout(function(){PH.removeClass(t,"collapsing in"),e._initSize||(t.style.height="")},300)):(PH.removeClass(t,"in"),e._initSize||(t.style.height="")),e._initLabel&&(e._from.innerHTML=e._initLabel),this._updateTriggers(!1),this.trigger("less"),PH.trigger(this._from,"PHCollapseOneLess")},t._closeOthers=function(){var e=this;if(this._collapseGroup)for(var t=this._collapseGroup.collapseObjects,n=0,i=t.length;n<i;n++)t[n]!==e&&t[n].less()}}),function(e){"use strict";e.FormHandler=function(t,n){return n=n||{},this.form=e.element(t),this.method=n.method||this.form.getAttribute("method")||"post",this.action=n.action||this.form.getAttribute("action")||"",this.data=n.data||{},this.thenCallback=n.success||function(){},this.failCallback=n.error||function(){},this.alwaysCallback=n.complete||function(){},this.beforeCallback=n.before||function(){},this.form.addEventListener("submit",this._onSubmit.bind(this)),this},e.FormHandler.prototype._onSubmit=function(t){if(t.preventDefault(),!e.Validator.isFormValid(this.form))return!1;this.beforeCallback.call(this,this.form);var n=e.merge(e.serializeFormElements(this.form),this.data);ajax({method:this.method,type:"json",url:this.action,data:n,form:this.form}).then(this.thenCallback).fail(this.failCallback).always(this.alwaysCallback)},e.FormHandler.prototype.then=function(e){return this.thenCallback=e,this},e.FormHandler.prototype.fail=function(e){return this.failCallback=e,this},e.FormHandler.prototype.always=function(e){return this.alwaysCallback=e,this},e.FormHandler.prototype.before=function(e){return this.beforeCallback=e,this}}(window.PH),PH.LazyImg=function(){"use strict";function e(e){var t=PH.slice((e||document).querySelectorAll("img[data-src]"));if(t.length){var n,i=[];for(n=t.length;--n>=0;){var a=t[n],o=a.getAttribute("data-src");o&&/^(?:above|in-view)$/.test(PH.visibility(a,{element:-500}))&&i.push({img:a,src:o})}for(n=i.length;--n>=0;){var s=i[n];s.img.removeAttribute("data-src"),s.img.setAttribute("src",s.src)}}}var t=PH.throttle(function(){e()},200);return window.addEventListener("scroll",t,!1),t(),e}(),function(e,t,n){"use strict";var i=n.querySelectorAll("input.em-vars");t.siteModules={};for(var a=0;a<i.length;a++)if(i[a].name)"site_module"==e.getData(i[a],"type")?t.siteModules[i[a].name]=parseInt(i[a].value):t[i[a].name]=i[a].value;else try{var o=JSON.parse(i[a].value);e.extend(t,o)}catch(e){}}(PH,EM,document);var EM=EM||{};!function(e){"use strict";function t(e){var t=e.indexOf("[VER]");return t>=0&&(e=e.substring(0,t)+"([\\w._\\+]+)"+e.substring(t+5)),new RegExp(e,"i")}function n(e){var t=e.split(/[a-z._ \/\-]/i);return 1===t.length?e=t[0]:t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)}function i(e,t,n){n=n||{};var i="function"==typeof t?t():t;n.class&&(n.addClassOnTrue&&i||n.addClassOnFalse&&!i)&&r.push((i?"":"no-")+n.class),u[e]=i}var a="emd-",o=document.documentElement,s=navigator.userAgent||navigator.vendor||window.opera,r=[],l=[["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]],c={AndroidOS:{test:"Android",version:"Android [VER]"},iOS:{test:"\\biPhone.*Mobile|\\biPod|\\biPad",version:" \\bi?OS\\b [VER][ ;]{1}",type:{iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]"}},windows:{test:"\\bWin32|\\bWin64|\\bWindows|\\bWinCE"},osx:{test:"\\bMacintosh|\\bMacIntel|\\bMacPPC|\\bMac68K"},linux:{test:"\\bLinux"}},u={};!function(){for(var e in c)for(var n in c[e])if("object"==typeof c[e][n])for(var i in c[e][n])c[e][n][i]=t(c[e][n][i]);else c[e][n]=t(c[e][n])}(),function(){for(var e in c)if(c[e].test&&c[e].test.test(s)){u.os=e;break}var t=u.os;if(t)for(var i in c[t])if("test"!=i)if(c[t][i]instanceof RegExp){var a=c[t][i].exec(s);null!==a&&(u[i]="version"==i?n(a[1]):a[1])}else for(var o in c[t][i])if(c[t][i][o].test(s)){u[i]=o;break}}(),function(){u.browser=l.map(function(e){if(e[1].test(s)){var t=e[1].exec(s);return{name:e[0],version:t[1]?n(t[1]):null}}}).filter(Boolean).shift()||{}}(),i("cssFlexbox",function(){return"flexWrap"in o.style||"WebkitFlexWrap"in o.style||"msFlexWrap"in o.style},{addClassOnFalse:!0,class:"flexbox"}),i("isTouch",function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}),i("isMobile",function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(s.substr(0,4))}),i("isOutdated",function(){return"ie"==u.browser.name&&u.browser.version<9||("iOS"==u.os&&u.version<9||"AndroidOS"==u.os&&u.version<5)},{addClassOnTrue:!0,class:"outdated"}),i("hasLocalStorage",function(){if(!window.localStorage)return!1;try{window.localStorage.setItem("_localStorageTest","LSTest"),window.localStorage.removeItem("_localStorageTest")}catch(e){return!1}return!0}),function(e){o.className=o.className+(o.className?" ":"")+(e.length?a+e.join(" "+a):"")}(r),e.device=u}(EM),function(e,t){"use strict";if(e&&t){var n=e.device&&!e.device.isMobile,i=e.device.browser&&["chrome","firefox"].indexOf(e.device.browser.name)>-1,a=function(){};a.prototype.create=function(){this.prompt||(this.prompt=t.node("<div class='browser-prompt-overlay'></div>"),document.body.appendChild(this.prompt),t.on(this.prompt,"click",this.hide.bind(this)),parseInt(e.device.browser.version)<53&&"firefox"==e.device.browser.name&&(t.on(this.prompt,"click",this.hide.bind(this)),t.on(window,"blur",this.hide.bind(this))))},a.prototype.message=function(a){this.prompt||this.create();var o="";n&&i&&(t.addClass(this.prompt,"browser-prompt-overlay__browser-"+e.device.browser.name),o='<em class="prompt-message">'+a+"</em>"),e.device.os&&t.addClass(this.prompt,"browser-prompt-overlay__platform-"+e.device.os),this.prompt.innerHTML=o},a.prototype.show=function(e){clearTimeout(this.wait),e&&(this.wait=setTimeout(this.hide.bind(this),1e3*e)),this.prompt||this.create(),t.addClass(this.prompt,"browser-prompt-overlay__visible")},a.prototype.hide=function(){this.prompt&&t.removeClass(this.prompt,"browser-prompt-overlay__visible")},e.BrowserPromptOverlay=new a}}(EM,PH);var EM=EM||{};EM.moneyFormat=function(e,t){"use strict";return function(n,i,a,o,s,r){if(i=void 0===i||!!i,a=a||2,o=o||",",s=s||".",!(r=r||""))switch(e){case"ro":r="Lei";break;case"bg":r="лв.";break;case"hu":r="Ft",a=0;break;case"pl":r="zł"}var l=t(n,a,o,s);l=l.replace(o,o+"<sup>")+"</sup> ";var c=l.split(o);return l=c[0]+(c[1]||""),i&&(l+="<span>"+r+"</span>"),l}}(EM.locale,PH.number_format);var EM=EM||{};EM.getSize=function(e){"use strict";return function(t,n){if(!e.isArray(t)||!n)return"";var i="";return t.forEach(function(e){i||e.size!==n||(i=e.url)}),i}}(PH);var EM=EM||{};EM.translations=EM.translations||{},function(){function e(e,t){return e.replace(/%([a-z0-9_]*)%/g,function(e,n){return n?t["%"+n+"%"]:"%"})}EM.trans=function(t,n){var i=EM.translations[t];return null==i&&(i=t),n&&(i=e(i,n)),i},EM.transchoice=function(t,n,i){var a=(EM.translations[t]||t).split("|"),o=a[EM.getPlural(n,EM.locale)];return void 0===o&&(console.error("Missing translation for <<<"+t+">>> using locale <<<"+EM.locale+">>>"),o=""),i&&(o=e(o,i)),o},EM.getPlural=function(e,t){switch(t){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==e?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0==e||1==e?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&e<=4?1:2;case"ga":return 1==e?0:2==e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"sl":return e%100==1?0:e%100==2?1:e%100==3||e%100==4?2:3;case"mk":return e%10==1?0:1;case"mt":return 1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"lv":return 0==e?0:e%10==1&&e%100!=11?1:2;case"pl":return 1==e?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:2;case"cy":return 1==e?0:2==e?1:8==e||11==e?2:3;case"ro":return 1==e?0:0==e||e%100>0&&e%100<20?1:2;case"ar":return 0==e?0:1==e?1:2==e?2:e>=3&&e<=10?3:e>=11&&e<=99?4:5;default:return 0}}}();var EM=EM||{};!function(){"use strict";function e(e){e=+e;var t=e%10;return t>=4||e>=11&&e<=13?a[0]:a[t]}function t(e,t,n){return n=n||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(n)+e}EM.imageSize="150x150",EM.dispatcher=document.createElement("div"),EM.APP={request:{locale:EM.locale},static_url:EM.static_url,current_url:EM.current_url,old_site_endpoint:EM.old_site_endpoint,sapi_endpoint:EM.sapi_endpoint,images_path:EM.images_path,site_url:EM.site_url},EM.getDomain=function(e){return e.replace(/^.*\.((?:emag|agito)\..*$)/,"$1")};var n=function(e){return[EM.trans("Monday"),EM.trans("Tuesday"),EM.trans("Wednesday"),EM.trans("Thursday"),EM.trans("Friday"),EM.trans("Saturday"),EM.trans("Sunday")][e]},i=function(e){return n(e).substr(0,3)},a=["th","st","nd","rd"],o=function(e){return[EM.trans("January"),EM.trans("February"),EM.trans("March"),EM.trans("April"),EM.trans("May"),EM.trans("June"),EM.trans("July"),EM.trans("August"),EM.trans("September"),EM.trans("October"),EM.trans("November"),EM.trans("December")][e]},s=[31,28,31,30,31,30,31,31,30,31,30,31];EM.parseDateFormat=function(e){return e.replace(/-/g,"/").replace("T"," ")},EM.showFailNotification=function(){new EM.Notification({position:"top right",message:EM.trans("Something went wrong. Please try again later.")})},EM.focusAtEnd=function(e){e.focus();var t=e.value.length+2;e.setSelectionRange(t,t)},EM.parseDate=function(e){e=""+e;var t=e.split("T"),n=t[1].split("+")[0],i=t[0].split("-"),a=n.split(":");return{y:i[0],m:i[1],d:i[2],h:a[0],i:a[1],s:a[2],date:new Date(e)}},EM.dateFormat=function(e,t){t=t||EM.locale||"ro";var n=EM.parseDate(e);switch(t){case"hu":return n.y+". "+o(+n.m-1).substr(0,3).toLowerCase()+" "+n.d+"."}return n.d+" "+o(+n.m-1).substr(0,3)+" "+n.y},EM.formatDate=function(a,r){r=r||"j M Y";for(var l=EM.parseDate(a),c={d:l.d,D:i(l.date.getDay()-1),j:+l.d,l:n(l.date.getDay()-1),N:l.date.getDay(),S:e(+l.d),w:l.date.getDay()-1,F:o(+l.m-1),m:l.m,M:o(+l.m-1).substr(0,3),n:+l.m,t:s[+l.m-1],Y:l.y,y:l.y.substring(2,4),a:+l.h<12?"am":"pm",A:+l.h<12?"AM":"PM",g:(+l.h+11)%12+1,G:+l.h,h:t(+l.h-12,2),H:l.h,i:l.i,s:l.s},u="",d=0;d<r.length;d++){var p=r[d];u+=p in c?c[p]:p}return u},EM.failCallback=function(e){if(401==e.status)window.location=PH.globals.user.loginUrl;else{var t;try{t=JSON.parse(e.responseText)}catch(e){t={}}var n,i=[];if(t.notifications){for(var a in t.notifications)t.notifications.hasOwnProperty(a)&&(i=i.concat(t.notifications[a]));n=i.map(function(e){return e.message}).join("<br>")}else n=EM.trans("Uh oh! An error occurred. The request could not be completed!");new EM.Notification({position:"top right",message:n,type:"danger"})}},EM.urlInsertParam=function(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n),"?"==e.substr(-1)&&(e=e.substring(0,e.length-1));var i=[],a=e.split("?");if(void 0==a[1])i[0]=t+"="+n;else{i=a[1].split("&");for(var o,s=i.length;s--;)if(o=i[s].split("="),o[0]==t){o[1]=n,i[s]=o.join("=");break}s<0&&(i[i.length]=[t,n].join("="))}return a[0]+"?"+i.join("&")},EM.urlRemoveParam=function(e,t){t=encodeURIComponent(t),"?"==e.substr(-1)&&(e=e.substring(0,e.length-1));var n=[],i=e.split("?");if(void 0!=i[1]){n=i[1].split("&");for(var a,o=n.length;o--;)if(a=n[o].split("="),a[0]==t){n.splice(o,1);break}}return i[0]+(n.length?"?"+n.join("&"):"")},EM.urlGetParam=function(e,t){var n=e.split("?");if(n[1]){return n[1].split("&").reduce(function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e},{})[t]}}}(),eCookie={get:function(e){return PH.cookie.get(e)},set:function(e){var t=e;"expiresIn"in t&&(t.expires=t.expiresIn/864e5),t.path=t.path||!1,PH.cookie.set(t.name,t.value,t.expires,t.path)},delete:function(e){PH.cookie.erase(e)}},"gravity_js_url"in EM&&EM.siteModules.gravity_tracking&&EM.is_tracking_enabled&&function(){if(window._gravity=window._gravity||[],EM.customer_id&&document.addEventListener("DOMContentLoaded",function(){window._gravity.push({type:"set",userId:""+EM.customer_id})}),window.addEventListener("load",function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=EM.gravity_js_url;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}),"gravityEvents"in EM){if("click"in EM.gravityEvents&&"gravity_product_id"in EM&&/(\?|&)recid=/.test(window.location.search)){var e=EM.urlGetParam(window.location.search,"recid"),t=EM.urlGetParam(window.location.search,"provider");if(e&&"gravity"===t){var n={type:"event",eventType:"REC_CLICK",itemId:EM.gravity_product_id,recId:e,gr_scenario:e};_gravity.push(n)}}"view"in EM.gravityEvents&&"gravity_product_id"in EM&&_gravity.push({type:"event",eventType:"VIEW",itemId:EM.gravity_product_id})}}(),window.nrlskOnEvent=function(e){function t(e){return Array.prototype.slice.call(e)}function n(e,t){return e.classList.contains(t)}function i(e){var t=document.createElement("div");if(t.innerHTML=e.replace(/^\s+|\s+$/g,""),t.childNodes.length>1){var n=document.createRange();return n.selectNodeContents(t),n.extractContents()}return t.firstChild}function a(e){return e.replace(/&/g,"&amp;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&#xa0;")}if("open"==e.type){var o={padiact_ro_8256:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_8256-6148cca.css",padiact_ro_8708:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_8708-ee080a6.css",padiact_ro_8709:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_8709-a244be1.css",padiact_ro_9272:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_9272-aa36e63.css",padiact_ro_9273:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_9273-3f511cd.css",padiact_ro9274:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro9274-c7a34b8.css",padiact_ro_9275:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_9275-cddfaa7.css",padiact_ro_9276:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_9276-ae4c250.css",padiact_ro_9277:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_9277-2c76e90.css",padiact_ro_9530:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_9530-e3e8e88.css",padiact_ro_10618:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_10618-a2ef8c6.css",padiact_ro_10619:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_10619-5d4cea9.css",padiact_ro_11113:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_11113-c188fc0.css",padiact_ro_11115:"https://s0emagst.akamaized.net/layout/ro/www/css/assetic/padiact_ro_11115-afde5e1.css"},s=o["padiact_ro_"+e.id];s&&function(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.querySelector("head").appendChild(t)}(s),
9272==e.id?t(document.querySelectorAll(".padiFormWrap ul")).forEach(function(e){var o=document.createElement("p");t(e.querySelectorAll("label")).forEach(function(e){var t;if(n(e,"padiLabel"))t=i("<label class='padiLabel'><span>"+e.innerText+"</span></label>");else{var s=i("<input type='checkbox' name='"+a(e.children[0].name)+"' id='"+a(e.children[0].id)+"' value='"+a(e.children[0].value)+"' />");o.appendChild(s),t=i("<label class='optionLabel' for='"+s.id+"'>"+e.innerHTML+"</label>")}o.appendChild(t)})}):t(document.querySelectorAll(".padiFormWrap select")).forEach(function(e){var n=e.parentNode;t(e.querySelectorAll("option")).forEach(function(t,o){var s="padiactradio"+o,r=i("<input type='radio' id='"+s+"' name='"+a(e.name)+"' value='"+a(t.value)+"'/><label class='optionLabel' for='"+s+"'>"+t.innerHTML+"</label>");n.insertBefore(r,e)}),e.parentNode&&e.parentNode.removeChild(e)})}},function(e){function t(e,t,n,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,s=void 0===i?",":i,r=void 0===n?".":n,l="";return l=(o?function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)}(a,o):""+Math.round(a)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(r)}var n=TWEEG_RUNTIME();n.merge(n.filter,{moneyFormat:e.moneyFormat,getSize:e.getSize,trans:e.trans,transchoice:e.transchoice,number_format:t,dateFormat:e.dateFormat}),n.merge(n.func,{dump:function(e){console.log(e)}}),n.trans=e.trans,n.transchoice=e.transchoice,n.add_path("PhotonBundle","@PhotonBundle"),n.add_path("Components","@Components"),e.TMPL=n}(EM);var EM=EM||{};EM.Social=EM.Social||{},EM.Social.facebookScope="public_profile,email",EM.Social.googleScope="profile",EM.Social.facebookDataToFetch="id,about,age_range,picture,birthday,context,email,first_name,gender,hometown,link,location,middle_name,name,timezone,website,work",EM.Social.facebookApiLoaded=!1,EM.Social.googleApiLoaded=!1,EM.Social.timeout=15e3,EM.Social.timeoutIndex=0,EM.Social.Events={GET_FACEBOOK_DATA:"em-get-facebook-data",FACEBOOK_LOGIN:"em-facebook-login",AFTER_FACEBOOK_LOGIN:"em-after-facebook-login",GET_GOOGLE_DATA:"em-get-google-data",FACEBOOK_DATA_REQUEST_ERROR:"em-facebook-data-request-error",FACEBOOK_DATA_FETCHED:"em-facebook-data-fetched",GOOGLE_DATA_FETCHED:"em-google-data-fetched",GOOGLE_DATA_REQUEST_ERROR:"em-google-data-request-error"},EM.Social.loadFacebookApi=function(e){if(window.FB||!e)return!1;window.fbAsyncInit=function(){FB.init({appId:e,autoLogAppEvents:!0,xfbml:!0,status:!0,version:"v2.10"}),EM.Social.facebookApiLoaded=!0};var t,n=document,i="script",a="facebook-jssdk",o=n.getElementsByTagName(i)[0];n.getElementById(a)||(t=n.createElement(i),t.id=a,t.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(t,o))},EM.Social.loadGoogleApi=function(e){if(!e||!EM.is_tracking_enabled)return!1;var t=function(){PH.trigger(document,EM.Social.Events.GOOGLE_DATA_REQUEST_ERROR)},n=function(){window.gapi.auth2&&(window.gapi.auth2.init({client_id:e,scope:EM.Social.googleScope}),EM.Social.googleApiLoaded=!0)},i={callback:n,onerror:t,ontimeout:t,timeout:3e4};if(window.gapi)return window.gapi.load("auth2",i),!1;window.onGoogleApiLoaded=function(){window.gapi.load("auth2",i)};var a,o=document,s="script",r=o.getElementsByTagName(s)[0];a=o.createElement(s),a.id="script-google-plus",a.src="https://apis.google.com/js/platform.js?onload=onGoogleApiLoaded",a.async=!0,a.defer=!0,r.parentNode.insertBefore(a,r)},EM.Social.getGoogleUserInfo=function(e){if(!e.getBasicProfile)return!1;var t=e.getBasicProfile();return{email:t.getEmail(),fullName:t.getName(),givenName:t.getGivenName(),familyName:t.getFamilyName(),imageUrl:t.getImageUrl(),id:t.getId()}},PH.on(document,EM.Social.Events.GET_FACEBOOK_DATA,function(e){EM.Social.timeoutIndex=setTimeout(function(){PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR)},EM.Social.timeout),FB.getLoginStatus(function(e){if("connected"===e.status)return PH.trigger(document,EM.Social.Events.AFTER_FACEBOOK_LOGIN),!1;PH.trigger(document,EM.Social.Events.FACEBOOK_LOGIN)})}),PH.on(document,EM.Social.Events.FACEBOOK_LOGIN,function(e){window.FB.login(function(e){if(clearTimeout(EM.Social.timeoutIndex),e.authResponse&&"connected"===e.status)return PH.trigger(document,EM.Social.Events.AFTER_FACEBOOK_LOGIN),!1;PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR)},{scope:EM.Social.facebookScope})}),PH.on(document,EM.Social.Events.AFTER_FACEBOOK_LOGIN,function(e){var t=function(e){PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_FETCHED,e)};window.FB.api("/me/permissions",function(e){if(e.error)return PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR,{facebook_error:EM.trans("Something went wrong. Please try again later.")}),!1;if(e.data)for(i=0;i<e.data.length;i++)if("declined"==e.data[i].status&&"email"==e.data[i].permission)return FB.api("/me/permissions","delete",function(e){PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR,{facebook_error:EM.trans("To sign up, an email address is required")})}),!1;window.FB.api("/me",{fields:EM.Social.facebookDataToFetch},t)})}),PH.on(document,EM.Social.Events.GET_GOOGLE_DATA,function(e){var t=window.gapi.auth2.getAuthInstance(),n=function(e){var t=window.gapi.auth2.getAuthInstance().currentUser.get();if(googleData=EM.Social.getGoogleUserInfo(t),clearTimeout(EM.Social.timeoutIndex),!googleData.email)return PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR,{google_error:EM.trans("To sign up, an email address is required")}),!1;PH.trigger(document,EM.Social.Events.GOOGLE_DATA_FETCHED,googleData)},i=function(e){PH.trigger(document,EM.Social.Events.GOOGLE_DATA_REQUEST_ERROR)};EM.Social.timeoutIndex=setTimeout(function(){PH.trigger(document,EM.Social.Events.GOOGLE_DATA_REQUEST_ERROR)},EM.Social.timeout),t.isSignedIn.get()?n():t.signIn().then(n,i)});var EM=EM||{};!function(e,t){"use strict";var n=e.device.isMobile,i=n?"lock-scroll-mobile":"lock-scroll";e.lockScroll={vscroll:0},e.lockScroll.lock=function(e){this.vscroll=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),setTimeout(function(){var e=t.getScrollbarSize().width;t.addClass(document.body,i),t.addClass(document.documentElement,i),document.body.style.paddingRight=e+"px"},void 0!==e?e:1)},e.lockScroll.unlock=function(){t.removeClass(document.body,i),t.removeClass(document.documentElement,i),document.body.style.paddingRight="",window.scrollTo(0,this.vscroll)}}(EM,PH),function(e){"use strict";var t={fetchRequest:null,notifications:{},KEY:"campaign_notifications",DATA:{},EXCEPTIONS:[{selector:"#trigger-newsletter-modal",event:"em-trigger-newsletter-modal"},{type:"voucher",event:"em-trigger-voucher-notification"}],onShowNotificationTracking:function(e){"undefined"!=typeof dataLayer&&dataLayer.push({event:"gaEvent",ec:"ToolTip",ea:"campanie_"+e,el:"Display campanie_"+e})},onCloseNotificationTracking:function(e,t){"undefined"!=typeof dataLayer&&dataLayer.push({event:"gaEvent",ec:"ToolTip",ea:"campanie_"+e,el:"Close campanie_"+e})},disableNotificationForShown:function(n){new Date;t.DATA[n]=1,PH.cookie.set(t.KEY,JSON.stringify(t.DATA),!1,"/",e.cookie_domain)},removeNotificationFromStorage:function(n){Object.keys.length(t.DATA)||t.getStorageData(),delete t.DATA[n],PH.cookie.set(t.KEY,JSON.stringify(t.DATA),!1,"/",e.cookie_domain)},getStorageData:function(){try{t.DATA=JSON.parse(PH.cookie.get(t.KEY))||{}}catch(e){}},displayNotifications:function(n){if(200!=n.matching_notifications.code||!n.matching_notifications.data)return void t.clearNotifications();t.getStorageData();var i=n.matching_notifications.data.items.reduce(function(e,t){return e.push(t.id),e},[]);for(var a in t.notifications)t.notifications.hasOwnProperty(a)&&-1===i.indexOf(parseInt(a,10))&&t.clearNotification(a);n.matching_notifications.data.items.forEach(function(n){if(!t.DATA[n.id]&&!t.notifications[n.id]){for(var i in t.EXCEPTIONS){var a=t.EXCEPTIONS[i];if(a.selector&&n.link&&n.link.uri&&-1!==n.link.uri.indexOf(a.selector)||a.type&&n.link&&"voucher"===n.link.type)return void PH.trigger(e.dispatcher,a.event,n)}var o=n.link&&"none"!==n.link.type?n.link:null;if(o){var s=o.uri,r="";if(-1!==o.uri.indexOf("#")){var l=o.uri.split("#");s=l[0],r="#"+l[1]}s+=(-1===s.indexOf("?")?"?":"&")+"ref=tooltip_campanie_"+encodeURIComponent(n.name),o.uri=s+r}var c={id:n.id,message:n.content.html,title:n.name_html,link:o,image:n.image?e.getSize(n.image.resized_images,"78x78"):null,position:"bottom right",ttl:!1,effect:e.notifications_effect||"slide",container:e.notifications_container,onOpen:t.onShowNotificationTracking.bind(this,n.name),onClose:t.onCloseNotificationTracking.bind(this,n.name,n.id)};t.notifications[n.id]=t.DATA[n.id]=new e.Notification(c)}})},fetchNotifications:function(){t.fetchRequest&&t.fetchRequest.abort(),t.fetchRequest=window.sapi.getAdminNotifications().then(t.displayNotifications).always(function(){t.fetchRequest=null})},clearNotifications:function(){for(var e in t.notifications)t.notifications.hasOwnProperty(e)&&t.clearNotification(e)},clearNotification:function(e){t.notifications[e]&&(t.notifications[e]&&t.notifications[e].remove(),delete t.notifications[e])}};e.AdminNotificationsManager=t}(EM);var oldSiteAjax=oldSiteAjax||{};!function(e,t,n,i){"use strict";e.getSearchTrending=function(e,a){return a=a||{},e=e||{},t({url:i.old_site_endpoint+"/search-tools/trending",type:"json",method:"get",data:n.extend({source:"front"},a),form:e.form})}}(oldSiteAjax,ajax,PH,EM);var oldSiteAjax=oldSiteAjax||{};!function(){"use strict";oldSiteAjax.tracking={getProductInfo:function(e){return reqwest({url:EM.old_site_endpoint+"/datalayer-product-info",method:"POST",data:e})}}}();var oldSiteAjax=oldSiteAjax||{};!function(e,t,n,i){"use strict";e.getUserBoxFavs=function(e,a){a=a||{},e=e||{};var o=e.is_supermarket||!1;return t({url:i.old_site_endpoint+"/favourite-products/"+(o?"supermarket":""),type:"json",method:"get",data:n.extend({source:"front"},a),form:e.form})},e.getUserBoxCart=function(e,a){return a=a||{},e=e||{},t({url:i.old_site_endpoint+"/shopping/header-cart",type:"json",method:"get",data:n.extend({act:"load",source:"front"},a),form:e.form})}}(oldSiteAjax,ajax,PH,EM);var oldSiteAjax=oldSiteAjax||{};!function(e,t,n,i){"use strict";e.getSmartHistory=function(e,a){return a=a||{},e=e||{},t({url:i.old_site_endpoint+"/box_user_history?source=front&product_history="+e.products,type:"json",method:"post",data:n.extend({json_response:1},a),form:e.form})},e.getSmartHistoryProduct=function(e,a){return a=a||{},e=e||{},t({url:i.old_site_endpoint+"/box_user_history_item?source=front&pid="+e.product_id,type:"json",method:"post",data:n.extend({json_response:1},a),form:e.form})}}(oldSiteAjax,ajax,PH,EM);var oldSiteAjax=oldSiteAjax||{};!function(e,t,n,i){"use strict";e.postLoginActions=function(e,a){return a=a||{},e=e||{},t({url:i.old_site_endpoint+"/user/post-login-action-ajax",type:"json",method:"get",data:n.extend(e,a),form:e.form})}}(oldSiteAjax,ajax,PH,EM);var oldSiteAjax=oldSiteAjax||{};!function(e,t,n,i){"use strict";e.addToCart=function(e,i){i=i||{},e=e||{};var a=e.url;return t({url:a,type:"json",method:"post",data:n.extend(e,i),form:e.form})},e.removeFromCart=function(e,a){a=a||{},e=e||{};var o=i.old_site_endpoint+"/shopping/header-cart?lineId="+(e.line_service?e.line_service:e.line_id)+"&itemId="+(e.line_service?e.line_id:0)+"&uId=0&act=remove&q=0&ref=del-cart&source=front";return t({url:o,type:"json",method:"post",data:n.extend(e,a),form:e.form})},e.addService=function(e,a){return a=a||{},e=e||{},t({url:i.old_site_endpoint+"/cart/add-extra-modal?ref="+e.ref,type:"json",method:"post",data:n.extend({line_id:e.line_id,extra_id:e.extra_id,item_id:e.item_id,type:"service"},a),form:e.form})},e.removeService=function(e,a){return a=a||{},e=e||{},t({url:i.old_site_endpoint+"/cart/remove-extra-modal?ref="+e.ref,type:"json",method:"post",data:n.extend({line_id:e.line_id,item_id:e.extra_id},a),form:e.form})}}(oldSiteAjax,ajax,PH,EM);var sapi=sapi||{};!function(e,t,n,i){"use strict";e.getSiblings=function(e,a){a=a||{},e=e||{};var o=e.offer_id||i.offer_id;return t({url:i.sapi_endpoint+"/products/"+o+"/siblings",type:"json",method:"get",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:n.extend({source_id:7},a),form:e.form})}}(sapi,ajax,PH,EM);var sapi=sapi||{};!function(e,t,n){"use strict";e.getMegamenuDepartment=function(e){return ajax({url:n.sapi_endpoint+"/layout/menu/"+e,data:{source_id:7},method:"GET",type:"json",crossOrigin:!0,headers:{"X-Request-Source":"www"}})}}(sapi,0,EM);var sapi=sapi||{};!function(e,t,n,i){"use strict";e.getSearchSuggestions=function(e,a){return a=a||{},e=e||{},t({url:i.sapi_endpoint+"/search-suggester",type:"json",method:"get",data:n.extend({source_id:7},a),form:e.form})}}(sapi,ajax,PH,EM);var sapi=sapi||{};!function(e,t,n){"use strict";e.getAdminNotifications=function(e,i){return i=i||{},e=e||{},t({url:"/matching-notifications",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:n.extend({},i),form:e.form})}}(sapi,ajax,PH),function(e,t,n){void 0===e&&(e={}),e.getLocalityByGeoLocation=function(e,i){return void 0===e&&(e={}),void 0===i&&(i={}),ajax({url:n.sapi_endpoint+"/get-locality-geolocation",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:t.extend({source_id:7},e),form:i.form})}}(sapi,PH,EM);var sapi=sapi||{};!function(e,t,n,i){"use strict";e.newsletterGetSubscriptionStatus=function(e,i){return i=i||{},e=e||{},t({url:"/newsletter/subscription-status",type:"json",method:"get",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:n.extend({source_id:7},i),form:e.form})},e.newsletterSubscribeUser=function(e,i){return i=i||{},e=e||{},t({url:"/newsletter_subscribe_ajax_general",type:"json",method:"post",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:n.extend({source_id:7},i),form:e.form})},e.newsletterSavePreferences=function(e,i){return i=i||{},e=e||{},t({url:"/newsletter_manage_subscriptions",type:"json",method:"post",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:n.extend({source_id:7},i),form:e.form})}}(sapi,ajax,PH);var sapi=sapi||{};!function(e,t,n,i){"use strict";e.saveVoucher=function(e,a){return a=a||{},e=e||{},!!a.id&&t({url:a.id,type:"json",method:"post",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:n.extend({source_id:i.source_id,token:i.token},a),form:e.form})}}(sapi,ajax,PH,EM),function(){"use strict";PH.cookie.get("postlogin")&&oldSiteAjax.postLoginActions().then(function(e){if(!e.error)try{window[e.func](e.request)}catch(e){console.log(e)}})}(),function(e){"use strict";function t(){return window.innerWidth>=e.globals.viewportBreakpoints.md}function n(e){return"code"in e&&"data"in e&&(200==e.code&&e.data)}function i(t){var n=e.closest(t.target,".js-megamenu-list-department");return n?parseInt(n.getAttribute("data-id"),10)||null:null}var a,o=function(e,n){this.options={},n=n||{},this._loadedBanners={},this._loadedDepartments={},this._initElements(e),this._initTemplates(),this._initTriggers(n),this._initCallbacks(n),this._initCache(),"hideOnScroll"in n&&n.hideOnScroll&&t()&&(this.options.hideOnScroll=1),this._isActive=!1,this._activeDepartment=null,this._scrollHandler=this._scrollHandler.bind(this),this._openDepartment=this._openDepartment.bind(this),this._addEventListeners(),this._hideOnOutsideClick=this._hideOnOutsideClick.bind(this)};o.flags={useHoverTriggers:t,useHoverOverDepartments:t,isSubdepartmentClickable:t,showBanners:t,isCollapseEnabled:function(){return!t()},disableScrolling:function(){return!t()}},o._prepareDepartmentData=function(e){var t=e;if(t.flags={quick_nav:{},menu_links:{}},t.separators={quick_nav:[],menu_links:[]},t.items.quick_nav)for(var n=0,i=t.items.quick_nav.length;n<i;n++){var a=!1;t.flags.quick_nav[n]={};for(var o=0,s=t.items.quick_nav[n].length;o<s;o++)2===t.items.quick_nav[n][o].heading_type&&(t.flags.quick_nav[n].has_large_heading=!0,t.items.quick_nav[n][o].is_large_heading=!0),a||2===t.items.quick_nav[n][o].heading_type||(t.items.quick_nav[n][o].is_first_relative_item=!0,a=!0),t.items.quick_nav[n][o].has_vertical_separator&&-1===t.separators.quick_nav.indexOf(n)&&t.separators.quick_nav.push(n)}return t},o.prototype._initElements=function(t){var n=this;this._elements={container:t},this._elements.departments=t.querySelector(".megamenu-list-container"),this._elements.details=t.querySelector(".megamenu-details"),this._elements.departmentDetails={};for(var i=this._elements.details.querySelectorAll(".megamenu-details-department"),a=0,o=i.length;a<o;a++){var s=e.getData(i[a],"id");s&&(n._elements.departmentDetails[s]={listElement:n._elements.departments.querySelector('.js-megamenu-list-department[data-id="'+s+'"]'),container:i[a],items:i[a].querySelector(".megamenu-details-department-items")})}this._elements.backdrop=document.createElement("div"),this._elements.backdrop.className="megamenu-backdrop";var r=document.getElementById("masthead");r&&r.classList.contains("navbar-floating-fx")&&document.querySelector(".megamenu-container").classList.add("megamenu-container-fixed"),document.body.appendChild(this._elements.backdrop),this._elements.triggerIcon=document.querySelector(".megamenu-trigger-icon")},o.prototype._initCache=function(){var e=this;if("localStorage"in window&&this._elements.departmentDetails)for(var t=0,n=localStorage.length;t<n;t++){var i=localStorage.key(t);if(i&&-1!==i.indexOf("megamenuDepartment-")){var a=parseInt(i.replace("megamenuDepartment-",""),10);if(!(isNaN(a)||a in e._elements.departmentDetails)){localStorage.removeItem(i);continue}}}},o.prototype._initTemplates=function(){this._templates={departmentDetails:document.querySelector("#megamenu-template-details")}},o.prototype._initTriggers=function(e){var t=this;if(this.options.triggers={hover:[],click:[]},"triggers"in e)for(var n in this.options.triggers)t.options.triggers.hasOwnProperty(n)&&(e.triggers[n]instanceof Array?t.options.triggers[n]=e.triggers[n]:t.options.triggers[n]=[e.triggers[n]])},o.prototype._initCallbacks=function(e){var t=this;if(this.options.callbacks={open:null,close:null},"callbacks"in e)for(var n in this.options.callbacks)t.options.callbacks.hasOwnProperty(n)&&n in e.callbacks&&"function"==typeof e.callbacks[n]&&(t.options.callbacks[n]=e.callbacks[n])},o.prototype._scrollHandler=function(){"hideOnScroll"in this.options&&this.options.hideOnScroll&&this.close()},o.prototype._hideOnOutsideClick=function(t){e.closest(t.target,".megamenu")||this.close()},o.prototype._addEventListeners=function(){var t=this;this.options.triggers.hover.length&&(e.live(document,"mouseover",this.options.triggers.hover.join(", "),function(e){o.flags.useHoverTriggers()&&t.open()}),e.live(document,"mouseleave",this.options.triggers.hover.join(", "),function(e){o.flags.useHoverTriggers()&&window.setTimeout(function(){t._hasFocus()||t.close()},100)}),this._elements.container.addEventListener("mouseleave",function(){o.flags.useHoverTriggers()&&window.setTimeout(function(){t._hasFocus()||t.close()},100)}),e.live(document,"click",this.options.triggers.hover.join(", "),function(e){o.flags.useHoverTriggers()&&e.stopPropagation()},null,!0)),this.options.triggers.click.length&&e.live(document,"click",this.options.triggers.click.join(", "),function(n){n.preventDefault(),t._isActive?(t.close(),e.getData(this,"dynamicTrigger")&&this.classList.remove("active")):(t.open(),e.getData(this,"dynamicTrigger")&&this.classList.add("active"))}),this._elements.departments.addEventListener("click",function(e){i(e)&&("#"===e.target.getAttribute("href")&&e.preventDefault(),t._openDepartment(e))}),this._elements.departments.addEventListener("mousemove",function(e){if(o.flags.useHoverOverDepartments()){t._mouseTracking||t.initMouseTracking();var n=Date.now();if(n-t._mouseTracking.t>=50){t._mouseTracking.timeout&&window.clearTimeout(t._mouseTracking.timeout);var i=!1;if(e.clientX-t._mouseTracking.x<=0)i=!0;else{var a=(e.clientY-t._mouseTracking.y)/(e.clientX-t._mouseTracking.x),s=e.clientY+a*(t._mouseTracking.details.left-e.clientX);(s>t._mouseTracking.details.bottom||s<t._mouseTracking.details.top)&&(i=!0)}i?(t.navigateToHoveredDepartment(),t._mouseTracking=null):(t.setMouseTrackingTimeout(),t.updateMouseTracking({x:e.clientX,y:e.clientY,t:n}))}}}),e.live(this._elements.details,"click",".megamenu-details-department-title",function(e){t._hideDetails()}),e.live(this._elements.details,"click","a.megamenu-item-heading",function(e){o.flags.isSubdepartmentClickable()||e.preventDefault()}),window.addEventListener("resize",this._resizeHandler)},o.prototype.navigateToHoveredDepartment=function(){if(o.flags.useHoverOverDepartments()){var t=this._elements.departments.querySelector(".js-megamenu-list-department:hover");if(!t)return;var n=e.getData(t,"id");"all departments"===n?(this._hideDetails(),this._updateDepartmentList("all departments")):(n=+n,this._openDepartment(n))}},o.prototype.initMouseTracking=function(){this._mouseTracking={x:0,y:0,t:0,timeout:null,details:this._elements.details.getBoundingClientRect()}},o.prototype.updateMouseTracking=function(t){e.extend(this._mouseTracking,t)},o.prototype.setMouseTrackingTimeout=function(){var e=this;this._mouseTracking.timeout=window.setTimeout(function(){e.navigateToHoveredDepartment(),e._mouseTracking=null},75)},o.prototype._openDepartment=function(e){var t;if("number"==typeof e)t=e;else{if("object"!=typeof e)return;t=i(e)}if(this._activeDepartment!=t){if(this._activeDepartment=t,this._updateDepartmentList(t),!t)return void this._hideDetails();if(this._showDetails(),this._showDepartmentDetails(t),t in this._loadedDepartments&&0===this._loadedDepartments)return;if(!(t in this._loadedDepartments))return void this._loadDepartmentDetails(t)}},o.prototype._updateDepartmentList=function(e){var t=this._elements.departments.querySelector(".megamenu-list .megamenu-active");if(t&&t.classList.remove("megamenu-active"),e){var n;n="all departments"===e?this._elements.departments.querySelector('.js-megamenu-list-department[data-id="all departments"]'):this._elements.departments.querySelector('.js-megamenu-list-department[data-id="'+e+'"]'),n&&n.classList.add("megamenu-active")}},o.prototype._showDetailsLoader=function(e){this._elements.departmentDetails[e].items.classList.add("preloader"),this._elements.departmentDetails[e].items.style.display="block"},o.prototype._hideDetailsLoader=function(e){this._elements.departmentDetails[e].items.classList.remove("preloader")},o.prototype._loadDepartmentDetails=function(t){var i=this;this._showDetailsLoader(t),this._loadedDepartments[t]=0;var a=i._getDepartmentDataFromCache(t);if(a)return i._handleDepartmentData(a,t),void e.trigger(i._elements.container,"PHMegamenuDepartmentLoaded",{departmentId:t});sapi.getMegamenuDepartment(t).then(function(o){(a=n(o))&&(i._handleDepartmentData(a,t),e.trigger(i._elements.container,"PHMegamenuDepartmentLoaded",{departmentId:t}),i._saveDepartmentDataToCache(a,t))}).fail(function(e){i._hideDetailsLoader(t)})},o.prototype._getDepartmentDataFromCache=function(t){if(!("localStorage"in window))return null;var n=null;try{var i=JSON.parse(localStorage.getItem("megamenuDepartment-"+t)),a=e.getData(this._elements.departmentDetails[t].listElement,"modified");i.lastModified&&a==i.lastModified&&(n=i.menu)}catch(e){}return n},o.prototype._saveDepartmentDataToCache=function(t,n){if("localStorage"in window){var i=e.getData(this._elements.departmentDetails[n].listElement,"modified"),a={lastModified:i,menu:t};localStorage.setItem("megamenuDepartment-"+n,JSON.stringify(a))}},o.prototype._handleDepartmentData=function(e,t){this._hideDetailsLoader(t),this._loadedDepartments[t]=1,this._createDepartmentDetailsElement(t,o._prepareDepartmentData(e)),this._showDetails(),this._activeDepartment===t&&this._showDepartmentDetails(t)},o.prototype._createDepartmentDetailsElement=function(t,n){var i=n;i.departmentId=t,this._elements.departmentDetails[t].items.innerHTML=EM.TMPL.exec("@PhotonBundle/common/components/megamenu-details.html.twig",i),e.Widget.autoInit(this._elements.departmentDetails[t].items)},o.prototype._showDetails=function(){this._elements.details.classList.add("megamenu-visible")},o.prototype._hideDetails=function(){this._activeDepartment=null,this._hideCurrentDepartmentDetails(),this._elements.details.classList.remove("megamenu-visible")},o.prototype._showDepartmentDetails=function(e){this._hideCurrentDepartmentDetails(),this._setCollapseStatus(e),this._elements.departmentDetails[e].container.classList.add("megamenu-visible")},o.prototype._setCollapseStatus=function(e){if(e in this._loadedDepartments&&0!==this._loadedDepartments[e]){var t,n,i;if(o.flags.isCollapseEnabled())for(i=this._elements.departmentDetails[e].items.querySelectorAll("[data-phino=CollapseOne].collapse-disabled"),t=0,n=i.length;t<n;t++)i[t].classList.remove("collapse-disabled");else for(i=this._elements.departmentDetails[e].items.querySelectorAll("[data-phino=CollapseOne]:not(.collapse-disabled)"),t=0,n=i.length;t<n;t++)i[t].classList.add("collapse-disabled")}},o.prototype._hideCurrentDepartmentDetails=function(){for(var e=this._elements.details.querySelectorAll(".megamenu-details-department.megamenu-visible"),t=0,n=e.length;t<n;t++)e[t].classList.remove("megamenu-visible")},o.prototype._hasFocus=function(){var t=this.options.triggers.hover.map(function(e){return e+":hover"});return e.matches(this._elements.container,":hover")||null!==document.querySelector(t.join(", "))},o.prototype.open=function(){"function"==typeof this.options.callbacks.open&&this.options.callbacks.open(),this._elements.container.classList.add("megamenu-visible"),this._elements.backdrop.classList.add("megamenu-visible"),t()||(a=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),document.body.classList.add("modal-open"),document.body.style.top=-1*a+"px"),this._isActive=!0,window.addEventListener("scroll",this._scrollHandler),document.addEventListener("click",this._hideOnOutsideClick),this._elements.triggerIcon&&(this._elements.triggerIcon.classList.remove("em-burger"),this._elements.triggerIcon.classList.add("em-close"))},o.prototype.close=function(){"function"==typeof this.options.callbacks.close&&this.options.callbacks.close(),this._elements.container.classList.remove("megamenu-visible"),this._elements.backdrop.classList.remove("megamenu-visible"),t()||(document.body.classList.remove("modal-open"),window.scrollTo(0,a)),this._isActive=!1,this._updateDepartmentList(!1),window.removeEventListener("scroll",this._scrollHandler),document.removeEventListener("click",this._hideOnOutsideClick),this._hideDetails(),this._elements.triggerIcon&&(this._elements.triggerIcon.classList.remove("em-close"),this._elements.triggerIcon.classList.add("em-burger"))};var s=document.querySelector(".megamenu");if(s){new o(s,{triggers:{hover:[".main-megamenu-trigger[data-trigger=hover]",".main-megamenu-trigger[data-trigger=both]"],click:[".main-megamenu-trigger[data-trigger=click]",".main-megamenu-trigger[data-trigger=both]"]},hideOnScroll:!0,callbacks:{open:function(){o.flags.disableScrolling()&&document.documentElement.classList.add("no-scrolling")},close:function(){document.documentElement.classList.remove("no-scrolling")}}})}}(PH),EM.scrollBreadcrumbToMax=function(e,t,n){"use strict";var i=function(){var t=e.querySelector(".breadcrumb-inner");t&&n.scrollLeftToMax(t)};return t.addEventListener("load",i),i}(document,window,PH),function(e){var t=document.getElementById("masthead");if(t){var n=e.getData(t,"navbarMinimizedOffset");window.innerWidth<e.globals.viewportBreakpoints.sm&&(n=50),EM.mobile||(e.hasClass(t,"navbar-always-minimized")?e.addClass(document.body,"has-minimized-navbar"):e.hasClass(t,"navbar-never-minimized")||new e.ScrollMonitor({from:document.getElementById("top_ribbon"),target:document.getElementById("masthead"),class:"navbar-minimized",offset:-n,eventHandlers:{toggle:function(t){var n=this;e.toggleClass(document.body,"has-minimized-navbar",t),setTimeout(function(){return e.toggleClass(n._target,"animate-navbar",t)},10)}}})),document.addEventListener("PHSearchBoxLoaded",function(){var e=document.querySelector(".navbar-searchbox .searchbox-wrapper");if(e){var n=document.getElementById("masthead"),i=!1;new SearchBox(e,{modules:{suggestions:EM.siteModules.search_suggest,trending:EM.siteModules.trending_searches},onShow:function(){t.classList.add("has-opened-searchbox")},onHide:function(){t.classList.remove("has-opened-searchbox")},onClickShow:function(){n.classList.contains("navbar-minimized")?(i=!0,n.classList.remove("navbar-minimized")):i=!1},onClickHide:function(){i&&n.classList.add("navbar-minimized")}})}})}}(PH),EM.token=PH.cookie.get("sapi-token")&&decodeURIComponent(PH.cookie.get("sapi-token")),PH.on(document,"DOMContentLoaded",function(){function e(){var e=window.innerWidth<PH.globals.viewportBreakpoints.sm;for(var t in c){var i=c[t].instance;i.disable(e),e||i.setAlign(n())}}function t(e){e&&PH.on(e,["wheel","DOMMouseScroll"],function(t){var n=t.wheelDelta||-t.deltaY||-t.detail;e.scrollTop+=30*(n<0?1:-1),t.preventDefault()})}function n(){return window.innerWidth<PH.globals.viewportBreakpoints.lg+120?"SE":"S"}var i=document.querySelector(".navbar-toolbox");if(i){EM.updateDrop={wishlist:!0,cart:!0};var a={account:PH.q("#my_account",i),wishlist:PH.q("#my_wishlist",i),cart:PH.q("#my_cart",i)},o={wishlist:PH.q(".jewel",a.wishlist),cart:PH.q(".jewel",a.cart)};try{var s=PH.cookie.get("cart_summary");if(s){var r=JSON.parse(decodeURIComponent(s));r&&r.b>0&&(PH.removeClass(o.cart,"hidden"),o.cart.innerHTML=r.b)}}catch(e){}["wishlist","cart"].forEach(function(e){a[e]&&PH.on(a[e],"mouseenter",function(){EM.updateDrop[e]&&(l.getContent(e),EM.updateDrop[e]=!1)})}),PH.live(document,"click",".yeahIWantThisProduct",function(e,t){l.addDropContent.call(t,"cart")});var l={getContent:function(e){window.innerWidth<=PH.globals.viewportBreakpoints.sm||("wishlist"==e?oldSiteAjax.getUserBoxFavs({is_supermarket:EM.is_supermarket}).then(function(t){l.displayDropContent(t,e)}):"cart"==e&&oldSiteAjax.getUserBoxCart().then(function(t){l.displayDropContent(t,e),PH.toggleClass(o.cart,"hidden",t.total_products<=0),o.cart.innerHTML=t.total_products}))},displayDropContent:function(e,n){"wishlist"==n?(c.wishlist.instance.setContent(EM.TMPL.exec("@PhotonBundle/common/templates/my-wishlist-content.html.twig",{isLoggedIn:EM.is_logged_in,isSupermarket:EM.is_supermarket,isRequestDone:!0,itemsData:e.items,staticUrl:EM.static_url,favUrlRoute:a.wishlist.getAttribute("href")})),t(PH.q(".nav-product-list-group",c.wishlist.instance._popup.element()))):"cart"==n&&(c.cart.instance.setContent(EM.TMPL.exec("@PhotonBundle/common/templates/my-cart-content.html.twig",{isRequestDone:!0,linesData:e.lines,total:e.total,subtotal:e.subtotal,totalProducts:e.total_products})),t(PH.q(".nav-product-list-group",c.cart.instance._popup.element())))},addDropContent:function(e,t,n){"wishlist"==e&&("removed"===n?(PH.isArray(EM.favorite_products)&&(EM.favorite_products.length<1&&PH.addClass(o.wishlist,"hidden"),o.wishlist.innerHTML=EM.favorite_products.length),new EM.Notification({message:EM.TMPL.exec("@PhotonBundle/common/templates/my-wishlist-removed.html.twig",{isSupermarket:EM.is_supermarket}),position:"top right",ttl:2e3,effect:"slide"})):"added"===n&&(PH.isArray(EM.favorite_products)&&(PH.removeClass(o.wishlist,"hidden"),o.wishlist.innerHTML=EM.favorite_products.length),new EM.Notification({message:EM.TMPL.exec("@PhotonBundle/common/templates/my-wishlist-added.html.twig",{isSupermarket:EM.is_supermarket}),position:"top right",ttl:2e3,effect:"slide"})),EM.updateDrop.wishlist=!0)}},c={account:{target:a.account,content:EM.TMPL.exec("@PhotonBundle/common/templates/my-account-content.html.twig",{isLoggedIn:EM.is_logged_in,favorite_list_id:EM.favorite_list_id||null,isCardTokenOnSiteEnabled:EM.siteModules&&EM.siteModules.card_token_on_site_enabled,username:EM.username,appData:EM.APP}),
className:" navbar-account-dropdown "+(EM.is_logged_in?" my-account-dropdown-logged-in":" my-account-dropdown-logged-out ")},wishlist:{target:a.wishlist,content:EM.TMPL.exec("@PhotonBundle/common/templates/my-wishlist-content.html.twig",{isLoggedIn:EM.is_logged_in}),className:" navbar-whishlist-dropdown "},cart:{target:a.cart,content:EM.TMPL.exec("@PhotonBundle/common/templates/my-cart-content.html.twig",{}),className:" navbar-cart-dropdown "}},u=n();Object.keys(c).forEach(function(e){var t=c[e].instance=new PH.Dropdown({trigger:c[e].target,content:c[e].content,align:u,openOn:"hover",className:" navbar-drop "+(c[e].className||"")});"wishlist"==e?PH.live(t._popup.element(),"click",".nav-remove-favorite-product",function(e,t){var n=PH.getData(t,"productId"),i=PH.closest(t,".nav-product-container");oldSiteAjax.removeProductFromFavorites({product_id:n,is_supermarket:EM.is_supermarket?1:0,form:i}).then(function(e){EM.favorite_products.splice(EM.favorite_products.indexOf(EM.product_id),1),EM.favorite_products.length<1&&PH.addClass(o.wishlist,"hidden"),o.wishlist.innerHTML=EM.favorite_products.length,PH.remove(i),l.getContent("wishlist"),EM.initFavorites()})}):"cart"==e&&PH.live(t._popup.element(),"click",".nav-product-line_remove",function(e,t){var n=PH.closest(t,".nav-product-container");oldSiteAjax.removeFromCart({line_id:PH.getData(t,"lineId"),line_service:PH.getData(t,"lineService"),form:n}).then(function(e){PH.remove(n),l.getContent("cart"),"datalayer"in e&&EM.DatalayerManager.handleGeneralEvent(e.datalayer)})})}),e(),PH.on(window,"resize",e),EM.is_logged_in||PH.cookie.get("loginTooltipShown")||"pl"==EM.locale||(c.account.instance.open(),PH.cookie.set("loginTooltipShown",1,365,"/",EM.cookie_domain),setTimeout(function(){c.account.instance.close()},3e4)),PH.on(EM.dispatcher,"NavbarDropdowns",function(e){if(EM.is_logged_in)switch(e.data){case"add-to-favorites":l.addDropContent("wishlist",null,"added");break;case"remove-from-favorites":l.addDropContent("wishlist",null,"removed")}})}}),function(e){var t=document.querySelector("#send-me-a-message");if(t&&EM.send_sms_token){t.appendChild(e.node(EM.send_sms_token));var n=t.querySelector('button[type="submit"]'),i=!1,a=t.querySelector("#sms-recaptcha-content"),o=function(e,t){var n=document.createElement("script");n.src="https://www.google.com/recaptcha/api.js?&onload="+e+"&render=explicit&hl="+t,document.head.appendChild(n)};window.showSmsRecaptcha=function(){e.show(a),!1===i?i=grecaptcha.render(a,{sitekey:EM.recaptcha_key,theme:"light",hl:EM.locale}):grecaptcha.reset(i)},new e.FormHandler(t).before(function(a){if(n.disabled=!0,!1!==i){var o=e.template('<input type="<%= type %>" name="<%= name %>" value="<%= value %>">',{type:"hidden",name:"captcha_response",value:grecaptcha.getResponse(i)}),s=document.createElement("DIV");s.innerHTML=o,t.appendChild(s)}}).then(function(n){new EM.Notification({position:"top right",message:n.message||""}),n.error?n.captcha&&("undefined"!=typeof grecaptcha?showSmsRecaptcha():o("showSmsRecaptcha")):(e.hide(a),t.querySelector("#user-related-phonenumber").value="")}).always(function(e){n.disabled=!1})}var s=document.querySelector(".footer");if(s){e.live(s,"click",".footer-head",function(e){e.preventDefault()});var r=function(){var t,n,i;if(window.innerWidth<e.globals.viewportBreakpoints.sm)for(t=s.querySelectorAll(".collapse-disabled"),n=t.length,i=0;i<n;i++)t[i].classList.remove("collapse-disabled");else for(t=s.querySelectorAll("[data-phino=CollapseOne]:not(.collapse-disabled)"),n=t.length,i=0;i<n;i++)t[i].classList.add("collapse-disabled")};r(),window.addEventListener("resize",r)}}(PH),function(){"use strict";PH.qs(".js-recommendation-carousel").forEach(function(e,t){return PH.setData(e,"scenarioIndex",t+1)})}(),function(e,t){"use strict";var n=document.querySelectorAll(".page-skin-outer");t.addEventListener("load",function(){for(var i=0;n.length>i;i++){if(!n[i]||!n[i].classList.contains("skin-active"))return;if(t.innerWidth<e.globals.viewportBreakpoints.sm&&!n[i].classList.contains("skin-mobile"))return;var a=n[i].querySelector(".page-skin-element"),o=e.getData(a,"background");a.style.backgroundImage="url('"+o+"')",a.removeAttribute("data-background"),a.classList.add("skin-bkg-loaded")}})}(PH,window),function(){if(document.querySelector("#progressbar-value")){var e=document.querySelector("#progressbar-value").value;document.querySelector(".progress-bar").style.width=100*e+"%"}}(),function(e){if(e){var t={type:{ip:"ip2location",geo:"geolocation",user:"user_selection"},init:function(){t.getLocation().locality.id||t.getLocationByIp(),t.GLPerm.state||t.GLPerm.init()},GLPerm:{init:function(){try{t.GLPerm.promise=navigator.permissions.query({name:"geolocation"}).then(function(e){t.GLPerm.promise=null,t.GLPerm.update(e.state),e.onchange=function(){t.GLPerm.update(this.state)}})}catch(e){t.GLPerm.state="denied"}},waitForState:function(e,n){e=e||PH.noop,t.GLPerm.promise?t.GLPerm.promise.then(function(){return e(n)}):e(n)},update:function(n){t.GLPerm.state=n,PH.trigger(e.dispatcher,"GLPermUpdated")},isPrompt:function(){return"prompt"==t.GLPerm.state},isAvailable:function(){return"denied"!=t.GLPerm.state},hasAccess:function(){return"granted"==t.GLPerm.state}},getGeoLocation:function(e,n,i){e=e||PH.noop,n=n||PH.noop;try{navigator.geolocation.getCurrentPosition(function(n){var a=n.coords,o=a.latitude,s=a.longitude;a.accuracy;sapi.getLocalityByGeoLocation({latitude:o,longitude:s},{form:i}).then(function(n){var i=n.data;if(t.getLocation().type!=t.type.user&&i.locality.id&&i.locality.name){var a=i.locality.name.split(", "),o=a[0],s=a[1]||o,r={region:i.region,locality:{id:i.locality.id,main_loc:s,sub_loc:o},type:t.type.geo};t.setLocation(r)}e(i)})},n,{enableHighAccuracy:!0})}catch(e){n()}},getLocation:function(){var e;try{e=JSON.parse(localStorage.getItem("deliveryData"))}catch(e){}return e=e||{},e.region=e.region||{},e.locality=e.locality||{},e.point=e.point||{},e},setLocation:function(n,i){try{var a=n||{};a.region=n.region||{},a.locality=n.locality||{},a.point=n.point||{},n.type?a.type=n.type:a.type=t.getLocation().type||t.type.ip,localStorage.setItem("deliveryData",JSON.stringify(a)),i||PH.cookie.set("supermarket_delivery_zone","",-1,"/",e.cookie_domain||e.getDomain(window.location.hostname))}catch(e){}},getLocationByIp:function(){try{var n=e.city_data.location_data,i=n.region_name.replace(")","").split(" ("),a=i[0],o=i[1]||a,s={region:{id:n.region_id,name:o},locality:{id:n.id,main_loc:a,sub_loc:o},type:t.type.ip};t.setLocation(s)}catch(e){}}};e.UserLocation=t}}(EM);var EM=EM||{},sapi=sapi||{};EM.NewsletterModal=PH.defclass("NewsletterModal",PH.Modal,function(e,t){"use strict";var n,i,a;e.args={size:"modal-lg",showHeader:!1,className:"newsletter-modal"},t._initElement=function(){e.base._initElement.call(this);var t=this.element();i=PH.q(".modal-dialog",t),a=PH.q(".modal-content",i),n=PH.q("form",a),this._onNewsletterSubmitBinded=this._onNewsletterSubmit.bind(this),PH.on(n,"submit",this._onNewsletterSubmitBinded),EM.Social.facebookApiLoaded&&(PH.live(a,"click",".js-facebook-login",this._onSocialLoginClick,this),PH.on(document,EM.Social.Events.FACEBOOK_DATA_FETCHED,this._onFacebookDataFetched.bind(this)),PH.on(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR,this._onSocialDataError)),EM.Social.googleApiLoaded&&(PH.live(a,"click",".js-google-login",this._onSocialLoginClick,this),PH.on(document,EM.Social.Events.GOOGLE_DATA_FETCHED,this._onGoogleDataFetched.bind(this)),PH.on(document,EM.Social.Events.GOOGLE_DATA_REQUEST_ERROR,this._onSocialDataError)),PH.Validator.addValidatorToForm(n,{validateOnBlur:!0},{}),this.open()},t._onNewsletterSubmit=function(e){if(e.preventDefault(),!PH.Validator.validateForm(n))return!1;var t=PH.q('input[name="name"]',a),i=PH.q('input[name="email"]',a);if(!t||!i)return!1;var o={name:t.value,email:i.value,ref:"email"};return this.dataLayerSubscribedFrom="Email",sapi.newsletterSubscribeUser({form:a},o).then(this._onSubscribeAjaxSuccess.bind(this,o)).fail(this._onSubscribeAjaxError),!1},t._onSocialLoginClick=function(e,t){e.preventDefault();var n=PH.getData(t,"event");return PH.Validator.removeHelpers(a),PH.trigger(document,n),PH.addLoaderTo(a),!1},t._onSocialDataError=function(e){PH.removeLoaderFrom(a),e.data&&PH.Validator.addErrorsToForm(a,e.data)},t._onFacebookDataFetched=function(e){if(PH.removeLoaderFrom(a),!e.data.name||!e.data.email)return!1;var t={name:e.data.name,email:e.data.email,facebook:e.data,ref:"facebook"};this.dataLayerSubscribedFrom="Facebook",sapi.newsletterSubscribeUser({form:a},t).then(this._onSubscribeAjaxSuccess.bind(this,t)).fail(this._onSubscribeAjaxError)},t._onGoogleDataFetched=function(e){if(PH.removeLoaderFrom(a),!e.data.fullName||!e.data.email)return!1;var t={name:e.data.fullName,email:e.data.email,google:e.data,ref:"google"};this.dataLayerSubscribedFrom="Google",sapi.newsletterSubscribeUser({form:a},t).then(this._onSubscribeAjaxSuccess.bind(this,t)).fail(this._onSubscribeAjaxError)},t._onNewsletterOptionsSubmit=function(e){e.preventDefault();for(var t={subscriptions:[]},i=0;i<n.length;i++){var o=n.elements[i];"checkbox"===o.type&&t.subscriptions.push({id:o.getAttribute("data-subscription-id"),status:o.checked?1:0}),"hidden"===o.type&&(t[o.name]=o.value)}return sapi.newsletterSavePreferences({form:a},t).then(this._onNewsletterOptionsAjaxSuccess.bind(this)).fail(this._onSubscribeAjaxError),!1},t._onNewsletterOptionsAjaxSuccess=function(e){this.close(),new EM.Notification({position:"top right",message:EM.trans("You have subscribed to our newsletter. Thank you!"),type:"success"})},t._onSubscribeAjaxError=function(e){PH.removeLoaderFrom(a),EM.showFailNotification()},t._renderSuccessView=function(e){if(!e||!e.subscriptions||!Object.keys(e.subscriptions).length)return this._onNewsletterOptionsAjaxSuccess(),!1;PH.removeClass(i,"modal-lg"),PH.addClass(i,"modal-md"),a.innerHTML=EM.TMPL.exec("@PhotonBundle/common/components/_template_modal-newsletter-success.html.twig",e),n=PH.q("form",a),PH.off(n,"submit",this._onNewsletterSubmitBinded),PH.on(n,"submit",this._onNewsletterOptionsSubmit.bind(this)),PH.live(a,"click",".close",function(e){this.close()},this)},t._onSubscribeAjaxSuccess=function(e,t){dataLayer.push({event:"Newsletter Notification",ec:"Newsletter Modal Signup",ea:"Signup success",el:this.dataLayerSubscribedFrom?this.dataLayerSubscribedFrom:"Email"}),PH.cookie.set("current_user_subscribed",1,!1,"/",EM.cookie_domain),t.name=e.name,t.email=e.email,this._renderSuccessView(t)},PH.on(document,"DOMContentLoaded",function(e){var t=PH.q('head meta[property="fb:app_id"]'),n=PH.q('head meta[name="google-signin-client_id"]');t&&EM.Social.loadFacebookApi(t.getAttribute("content")),n&&EM.Social.loadGoogleApi(n.getAttribute("content"))});var o=function(e){e.preventDefault(),new EM.NewsletterModal({content:EM.TMPL.exec("@PhotonBundle/common/components/_template_modal-newsletter.html.twig",{facebook_disabled:!EM.Social.facebookApiLoaded,google_disabled:!EM.Social.googleApiLoaded,facebook_click_event:EM.Social.Events.GET_FACEBOOK_DATA,google_click_event:EM.Social.Events.GET_GOOGLE_DATA})}),dataLayer.push({event:"Newsletter Notification",ec:"Newsletter Modal Signup",ea:"Click signup notification"});var t=PH.closest(this,".ns-box");return t&&PH.trigger(t.querySelector("button.close"),"click"),!1};PH.on(EM.dispatcher,"em-trigger-newsletter-modal",function(e){if(PH.cookie.get("current_user_subscribed"))return!1;var t=e.data,n=new EM.Notification({id:t.id,message:t.content.html,title:t.name,link:t.link&&"none"!==t.link.type?t.link:null,image:t.image?EM.getSize(t.image.resized_images,"78x78"):null,position:"bottom right",className:"newsletter-notification",ttl:!1});dataLayer.push({event:"Newsletter Notification",ec:"Newsletter Modal Signup",ea:"Display notification"});var i=n.ntf.querySelector('.ns-content-footer [data-ntf="close"]');EM.AdminNotificationsManager&&(EM.AdminNotificationsManager.notifications[t.id]=n),i&&PH.on(i,"click",o)})}),function(){"use strict";var e=function(e,t){if(e){var n=(new Date).getTime()/1e3;this.options=[{duration:1e3,onEnd:function(){},onChange:function(){},endTime:n},t].reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},{}),this.date={now:new Date,end:new Date(1e3*(t.endTime<=n/100?n+parseInt(t.endTime):parseInt(t.endTime)))},this.element=e,this.element.countdown=this,this.animate=[],this.date.end-this.date.now<=0?this.setTime(["00","00","00"],[]):this.init()}};e.prototype.init=function(){this.current=this.getCurrent(),this.setTime(this.current,[]),this.interval=setInterval(this.update.bind(this),this.options.duration)},e.prototype.setTime=function(e,t){var n=this;[].slice.call(this.element.querySelectorAll(".flip-block")).forEach(function(i,a){var o=void 0!==e[a]?e[a].split(""):[],s=void 0!==t[a]?t[a].split(""):[];[].slice.call(i.querySelectorAll(".flip-count")).forEach(function(e,t){o[t]!=s[t]&&(e.querySelector(".flip-current.top").innerHTML=o[t]||0,e.querySelector(".flip-current.bottom").innerHTML=o[t]||0,e.querySelector(".flip-next.top").innerHTML=s[t]||0,e.querySelector(".flip-next.bottom").innerHTML=s[t]||0,n.animate.push(e))})})},e.prototype.getCurrent=function(){this.date.now=new Date;var e=Math.floor((this.date.end-this.date.now)/1e3),t=Math.floor(e/60),n=Math.floor(t/60),i=Math.floor(n/24);n-=24*i,t=t-24*i*60-60*n,e=e-24*i*60*60-60*n*60-60*t,(n+=24*i)>99&&(n=99);var a=[("0"+n).slice(-2),("0"+t).slice(-2),("0"+e).slice(-2)];return a.join("")<=0?["00","00","00"]:a},e.prototype.update=function(){this.animate=[],this.next=this.getCurrent(),this.setTime(this.current,this.next),this.options.onChange.call(this),this.setupAnimation(),setTimeout(this.executeAnimation.bind(this),20),setTimeout(this.finishAnimation.bind(this),.9*this.options.duration),parseInt(this.next.join(""))<=0&&(clearInterval(this.interval),setTimeout(this.options.onEnd.bind(this),.9*this.options.duration)),this.current=this.next},e.prototype.setupAnimation=function(){this.animate.forEach(function(e){return e.classList.remove("changed")})},e.prototype.executeAnimation=function(){this.animate.forEach(function(e){return e.classList.add("changing")})},e.prototype.finishAnimation=function(){this.animate.forEach(function(e){e.classList.add("changed"),e.classList.remove("changing")})},"object"==typeof EM&&(EM.Countdown=e);for(var t=document.querySelectorAll("[data-countdown]:not([data-countdown-manual])"),n=t.length-1;n>=0;n--)new e(t[n],{endTime:t[n].getAttribute("data-countdown")})}(),function(){function e(e){e&&"favorites_btn"==e?dataLayer.push(i.favorites_btn.display):dataLayer.push(i.product_page_view.display);try{sessionStorage.setItem("OneSignalStatus","opened")}catch(e){}var n=new EM.Notification({message:EM.TMPL.exec("@PhotonBundle/common/templates/my-wishlist-browser-notification.html.twig"),position:"top right",ttl:!1,effect:"slide",onClose:function(){t(e)}});document.querySelector(".browser-notification");PH.live(document.body,"click",".js-open-onesignal",function(){if("undefined"!=typeof OneSignal){EM.BrowserPromptOverlay.message(EM.trans("Allow subscription to push notifications and you'll be notified when your favorite products are on offer.")),EM.BrowserPromptOverlay.show(),OneSignal.registerForPushNotifications();OneSignal.push(function(){OneSignal.on("notificationPermissionChange",function(t){EM.BrowserPromptOverlay.hide(),PH.cookie.set("web_push_perm",t.to,31536e6,"/"),e&&"favorites_btn"==e?"denied"==t.to?dataLayer.push(i.favorites_btn_native.deny):"granted"==t.to?dataLayer.push(i.favorites_btn_native.grant):dataLayer.push(i.favorites_btn_native.default):"denied"==t.to?dataLayer.push(i.product_page_view_native.deny):"granted"==t.to?dataLayer.push(i.product_page_view_native.grant):dataLayer.push(i.product_page_view_native.default)})}),e&&"favorites_btn"==e?dataLayer.push(i.favorites_btn.subscribe):dataLayer.push(i.product_page_view.subscribe),n.dismiss()}}),PH.live(document.body,"click",".js-later-onesignal",function(){n.dismiss(),e&&"favorites_btn"==e?dataLayer.push(i.favorites_btn.deny):dataLayer.push(i.product_page_view.deny)})}function t(e){var t=r?1:5;o||PH.cookie.set("web_push_perm","oneSignalExpires",t,"/"),e&&"favorites_btn"==e?dataLayer.push(i.favorites_btn.close):dataLayer.push(i.product_page_view.close);var n=localStorage.getItem("dismissedOneSignal");n?(n=parseInt(n)+1,localStorage.setItem("dismissedOneSignal",n)):localStorage.setItem("dismissedOneSignal",1)}function n(){var t=!1,n=(sessionStorage.getItem("productPageView"),localStorage.getItem("dismissedOneSignal")),i=PH.cookie.get("web_push_perm"),a=sessionStorage.getItem("OneSignalStatus");"undefined"!=typeof OneSignal&&"opened"!==a&&n<3&&!i&&-1!=["chrome","firefox","safari"].indexOf(EM.device.browser.name)&&-1!=["ro","pl"].indexOf(EM.locale)&&(t=!0),EM.is_logged_in&&t&&"undefined"!=typeof OneSignal&&OneSignal.push(["getNotificationPermission",function(t){"default"==t&&e("favorites_btn")}])}var i={favorites_btn:{display:{event:"gaEvent",ec:"ToolTip",el:"Display AddToFavorites notification",ea:"AddToFavorites notification"},close:{event:"gaEvent",ec:"ToolTip",el:"Close AddToFavorites notification",ea:"AddToFavorites notification"},subscribe:{event:"gaEvent",ec:"ToolTip",el:"Subscribe AddToFavorites notification",ea:"AddToFavorites notification"}},product_page_view:{display:{event:"gaEvent",ec:"ToolTip",el:"Display 3XProduct notification",ea:"3XProduct notification"},close:{event:"gaEvent",ec:"ToolTip",el:"Close 3XProduct notification",ea:"3XProduct notification"},subscribe:{event:"gaEvent",ec:"ToolTip",el:"Subscribe 3XProduct notification",ea:"3XProduct notification"}},favorites_btn_native:{display:{event:"gaEvent",ec:"ToolTip",el:"Display Native notification",ea:"Native notification"},deny:{event:"gaEvent",ec:"ToolTip",el:"Deny Native notification",ea:"Native notification"},grant:{event:"gaEvent",ec:"ToolTip",el:"Grant Native notification",ea:"Native notification"},default:{event:"gaEvent",ec:"ToolTip",el:"Undefined Native notification",ea:"Native notification"}},product_page_view_native:{display:{event:"gaEvent",ec:"ToolTip",el:"Display 3XProduct Native notification",ea:"3XProduct Native notification"},deny:{event:"gaEvent",ec:"ToolTip",el:"Deny 3XProduct Native notification",ea:"3XProduct Native notification"},grant:{event:"gaEvent",ec:"ToolTip",el:"Grant 3XProduct Native notification",ea:"3XProduct Native notification"},default:{event:"gaEvent",ec:"ToolTip",el:"Undefined 3XProduct Native notification",ea:"3XProduct Native notification"}}},a=sessionStorage.getItem("onesignal-pageview-count"),o=PH.cookie.get("web_push_perm"),s=sessionStorage.getItem("OneSignalStatus"),r=!1;!(a>1||r)||o||"undefined"==typeof OneSignal||"opened"===s||!EM.is_logged_in||"ro"!=EM.locale&&"pl"!=EM.locale||OneSignal.push(["getNotificationPermission",function(t){"default"==t&&e()}]),PH.on(EM.dispatcher,"OneSignal",function(e){switch(e.data){case"show":n()}})}(),function(e,t){"use strict";function n(e,n,i){var a=screen.width/2-n/2,o=screen.height/2-i/2;return t.open(e,"newwindow","menubar=no, width="+n+", height="+i+", top="+o+", left="+a)}e.live(document,"click",".js-share-btn",function(e){e.preventDefault(),n(this.href,"560","600")})}(PH,window),function(){PH.on(EM.dispatcher,"AddToFavorites",function(e){switch(e.data){case"beforeAdd":PH.trigger(EM.dispatcher,"OneSignal","show"),PH.trigger(EM.dispatcher,"NavbarDropdowns","add-to-favorites");break;case"beforeRemove":PH.trigger(EM.dispatcher,"NavbarDropdowns","remove-from-favorites")}})}();var SearchBoxCache=function(){this.cache=[]};SearchBoxCache.prototype.get=function(e){for(var t=this,n=-1,i=null,a=0,o=this.cache.length;a<o;a++)if(t.cache[a].query===e){n=a;break}return-1!==n&&(i=this.cache.splice(n,1)[0],this.cache.push(i),i=i.suggestions),i},SearchBoxCache.prototype.add=function(e,t){this.cache.push({query:e,suggestions:t}),this.cache.length>PH.globals.searchBox.suggestionsCacheLength&&this.cache.shift()};var SearchHistory=function(){this.history=[]};SearchHistory.prototype.add=function(e){var t=this.history.indexOf(e);-1!==t&&this.history.splice(t,1),this.history.unshift(e),this.history.length>PH.globals.searchBox.historyLength&&this.history.pop(),this.save()},SearchHistory.prototype.fetch=function(){if("localStorage"in window)try{this.history=JSON.parse(window.localStorage.getItem("searchHistory"))||[]}catch(e){return this.history=[],console.error("Failed fetching history"),void console.error(e)}},SearchHistory.prototype.save=function(){"localStorage"in window&&window.localStorage.setItem("searchHistory",JSON.stringify(this.history))},function(){var e=window.innerWidth<PH.globals.viewportBreakpoints.sm,t="ontouchstart"in document.documentElement&&e,n="opensearch",i=function(e,t){return this.searchHistory=new SearchHistory,this.searchBoxCache=new SearchBoxCache,this.hasContent=!1,this.lastQuery=null,this.lastSuggestionRequest=null,this.elements={container:e,input:e.querySelector(".searchbox-input .js-searchbox-input"),suggestionInput:e.querySelector(".searchbox-input .js-searchbox-suggestion-input"),submitButton:e.querySelector(".searchbox-submit-button"),close:e.querySelector(".searchbox-close"),dropdown:e.querySelector(".searchbox-dropdown")},this.elements.suggestionsContainer=this.elements.dropdown.querySelector(".searchbox-suggestions-container"),this.elements.initialContent=this.elements.dropdown.querySelector(".searchbox-initial-content"),this.initOptions(t),this.activeItems=[],this.currentActiveItem=null,this.autocompleteDone=!1,this.addEventListeners(),this.blur=this.blur.bind(this),this.handleKeys=this.handleKeys.bind(this),this.handleHash=this.handleHash.bind(this),this.openedByClick=!1,this.isOpen=!1,window.location.hash.indexOf("#"+n)>-1&&this.open(),this};i.prototype.initOptions=function(e){this.options=PH.merge({modules:{suggestions:!1,trending:!1}},e),this.options.category=PH.getData(this.elements.container,"category")},i.prototype.initContent=function(){var e=this;if((EM.siteModules.search_suggest||EM.siteModules.trending_searches)&&!this.hasContent){if(this.searchHistory.fetch(),this.searchHistory.history.length){var t=EM.TMPL.exec("@Components/SearchBox/templates/history.html.twig",{history:this.searchHistory.history});this.elements.initialContent.innerHTML=t}else{if(!EM.siteModules.trending_searches)return;var n={};this.options.category&&(n.category=this.options.category),oldSiteAjax.getSearchTrending({},n).then(function(t){var n=EM.TMPL.exec("@Components/SearchBox/templates/trending.html.twig",{trending:t.data,category:t.department,isSupermarket:EM.is_supermarket});e.elements.initialContent.innerHTML=n})}this.hasContent=!0}},i.prototype.populateSuggestions=function(e,t,n){PH.empty(this.elements.suggestionsContainer);var i=EM.TMPL.exec("@Components/SearchBox/templates/suggestions.html.twig",{query:e,items:t,categories:n&&n.length?n:null,isSupermarket:EM.is_supermarket,locale:EM.locale,currentUrl:EM.current_url});this.elements.suggestionsContainer.innerHTML=i},i.prototype.fetchSuggestions=function(e,t){var n=this;t=t||{};var a=this.searchBoxCache.get(e);if(a)t.success(a);else{if(this.lastSuggestionRequest){if(e===this.lastSuggestionRequest.query)return;this.lastSuggestionRequest.requestRef.request.abort(),delete this.lastSuggestionRequest}this.showSection("loading"),this.lastSuggestionRequest={query:e},this.lastSuggestionRequest.requestRef=sapi.getSearchSuggestions(null,{query:i.formatQuery(e),shop_id:EM.is_supermarket?2:1}).then(function(i){t.success(i),n.searchBoxCache.add(e,i)}).fail(t.fail).always(function(){n.lastSuggestionRequest=null})}},i.formatQuery=function(e){return e.replace(/(\/|%)/gi," ")},i.prototype.open=function(){!this.isOpen&&this.shouldShowBox()&&(this.initContent(),this.elements.container.classList.add("searchbox-dropdown-open"),this.isOpen=!0,this.currentActiveItem=null,"onShow"in this.options&&"function"==typeof this.options.onShow&&this.options.onShow(),(t||e)&&EM.lockScroll.lock(100),this.changeContents(),t||window.addEventListener("scroll",this.blur),window.addEventListener("keyup",this.handleKeys),window.location.hash=n,window.addEventListener("hashchange",this.handleHash),PH.trigger(EM.dispatcher,"phSearchBoxOpen"))},i.prototype.changeContents=function(){var e=this;(EM.siteModules.search_suggest||EM.siteModules.trending_searches)&&(this.updateSuggestionInput(),this.hasValidQuery()&&EM.siteModules.search_suggest?(this.currentActiveItem=null,this.lastQuery=this.elements.input.value,this.fetchSuggestions(this.elements.input.value,{success:function(t){e.showSuggestionsView(e.elements.input.value,t.data.queries,t.data.categories),e.elements.container.classList.add("searchbox-has-query")},fail:function(){e.showSection("error")}})):(this.showSection("initial"),this.initActiveItems()))},i.prototype.blur=function(){this.elements.input.blur()},i.prototype.close=function(i){this.isOpen=!1,this.elements.container.classList.remove("searchbox-dropdown-open"),"onHide"in this.options&&"function"==typeof this.options.onHide&&this.options.onHide(),this.openedByClick&&"onClickHide"in this.options&&"function"==typeof this.options.onClickHide&&this.options.onClickHide(),(t||e)&&EM.lockScroll.unlock(),this.openedByClick=!1,window.removeEventListener("scroll",this.blur),window.removeEventListener("keyup",this.handleKeys),window.removeEventListener("hashchange",this.handleHash),window.location.hash=="#"+n&&history.replaceState({},"",window.location.href.replace(/#.*$/,""))},i.prototype.showSection=function(e){-1===["suggestions","initial","error","loading"].indexOf(e)&&(e="error");var t=this.elements.dropdown.querySelector(".searchbox-active");t&&t.getAttribute("data-section")!==e&&t.classList.remove("searchbox-active"),this.elements.dropdown.querySelector(".searchbox-section[data-section="+e+"]").classList.add("searchbox-active")},i.prototype.initActiveItems=function(){if(this.activeItems=this.elements.container.querySelectorAll(".searchbox-section.searchbox-active .searchbox-active-item"),!this.activeItems)return void(this.currentActiveItem=null)},i.prototype.addEventListeners=function(){var n=this;this.elements.input.addEventListener(t?"touchstart":"focus",function(){t||e?n.open():EM.siteModules.trending_searches&&n.open()}),this.elements.input.addEventListener("blur",function(){window.setTimeout(function(){e||n.hasFocus()||n.close()},100)}),document.addEventListener("click",function(i){if(PH.matches(i.target,".searchbox-suggestions-list .searchbox-autocomplete")||PH.matches(i.target,".searchbox-suggestions-list .searchbox-autocomplete .em-go-up"))n.elements.input.value=PH.closest(i.target,"li").querySelector(".searchbox-suggestion-title").textContent.replace(/\s{2,}/," ").trim(),n.changeContents();else{PH.closest(i.target,".searchbox-trigger")?(n.openedByClick=!0,"onClickShow"in n.options&&"function"==typeof n.options.onClickShow&&n.options.onClickShow(),PH.trigger(n.elements.input,t?"touchstart":"focus"),EM.focusAtEnd(n.elements.input)):e||PH.closest(i.target,".searchbox-dropdown")||i.target===n.elements.dropdown||window.setTimeout(function(){n.hasFocus()&&!i.target.classList.contains("searchbox-backdrop")||n.close()},100)}},!0),this.elements.input.addEventListener("keyup",function(i){"Escape"!==i.key&&27!==i.keyCode&&"ArrowDown"!==i.key&&"ArrowUp"!==i.key&&40!=i.keyCode&&38!=i.keyCode&&"Enter"!==i.key&&13!=i.keyCode&&(EM.siteModules.search_suggest&&n.open(),!EM.siteModules.search_suggest&&EM.siteModules.trending_searches&&(!n.isOpen||t||e||n.close()),n.elements.input.value.length>=1?n.elements.container.classList.add("searchbox-has-query"):n.elements.container.classList.remove("searchbox-has-query"),n.changeContents())}),this.elements.close.addEventListener("click",function(e){e.preventDefault(),n.clearAndClose()}),this.elements.submitButton.addEventListener("click",function(e){e.preventDefault(),n.hasValidSubmitQuery()&&n.submit()}),this.elements.dropdown.addEventListener("mouseout",function(){n.currentActiveItem&&(n.activeItems[n.currentActiveItem].classList.remove("active"),n.currentActiveItem=null)}),this.elements.input.addEventListener("keydown",function(e){("key"in e&&"Tab"===e.key||"keyCode"in e&&9==e.keyCode)&&!n.autocompleteDone&&e.preventDefault(),("key"in e&&("ArrowDown"===e.key||"ArrowUp"===e.key)||"keyCode"in e&&(40==e.keyCode||38==e.keyCode))&&e.preventDefault()}),this.elements.input.addEventListener("keydown",function(e){("key"in e&&"Enter"===e.key||"keyCode"in e&&13==e.keyCode)&&(e.preventDefault(),e.stopPropagation(),n.hasValidSubmitQuery()&&null==n.currentActiveItem&&n.submit())}),this.elements.input.addEventListener("change",function(e){n.autocompleteDone=!1}),PH.live(this.elements.container,"click",".searchbox-back-to-site",function(e){e.preventDefault(),n.close()})},i.prototype.clearAndClose=function(){this.elements.input.value.length>0?(this.elements.input.value="",this.elements.container.classList.remove("searchbox-has-query"),this.changeContents(),this.elements.input.focus()):this.close()},i.prototype.updateSuggestionInput=function(e,t){var n=e?e.toLowerCase():"";this.elements.suggestionInput.value="",t&&t.length&&-1!==t[0].name.indexOf(n)&&e.length!==t[0].name.length&&(this.elements.suggestionInput.value=e+t[0].name.slice(e.length))},i.prototype.autocomplete=function(){if(this.hasValidQuery()){var e=this.searchBoxCache.get(this.elements.input.value);e&&serchCacheVal.suggestions&&e.suggestions.length&&(this.elements.input.value.length!==e.suggestions[0].name.length&&(this.elements.input.value=e.suggestions[0].name,this.populateSuggestions(this.elements.input.value,e.suggestions,e.categories),this.elements.suggestionInput.value=""),this.autocompleteDone=!0)}},i.prototype.showSuggestionsView=function(e,t,n){this.populateSuggestions(e,t,n),this.showSection("suggestions"),this.initActiveItems(),this.updateSuggestionInput(e,t)},i.prototype.handleKeys=function(e){if(!this.shouldShowBox())return void this.close();if(this.open(),EM.siteModules.search_suggest){if("key"in e&&"Escape"===e.key||"keyCode"in e&&27==e.keyCode){var t=this.elements.input.value.trim();return this.clearAndClose(),e.preventDefault(),void(""===t&&this.elements.input.blur())}if("key"in e&&"ArrowDown"===e.key||"keyCode"in e&&40==e.keyCode)return this.navigateActiveItems(1),void e.preventDefault();if("key"in e&&"ArrowUp"===e.key||"keyCode"in e&&38==e.keyCode)return this.navigateActiveItems(-1),void e.preventDefault();if(("key"in e&&"Tab"===e.key||"keyCode"in e&&9==e.keyCode)&&!this.autocompleteDone)return this.autocomplete(),void e.preventDefault();if("key"in e&&"ArrowRight"===e.key||"keyCode"in e&&39==e.keyCode)return this.autocomplete(),void e.preventDefault()}if("key"in e&&"Enter"===e.key||"keyCode"in e&&13==e.keyCode){if(null!==this.currentActiveItem){var n=this.activeItems[this.currentActiveItem].href;n&&(window.location=n)}}else;},i.prototype.handleHash=function(e){e.newURL!==e.oldURL&&-1===e.newURL.indexOf("#"+n)&&(this.blur(),this.close())},i.prototype.navigateActiveItems=function(e){var t=this;if(null===this.currentActiveItem){var n=this.elements.dropdown.querySelector(".searchbox-active-item:hover");if(this.currentActiveItem=-1,n)for(var i=0,a=this.activeItems.length;i<a;i++)if(t.activeItems[i]===n){t.currentActiveItem=i;break}}var o,s=this.currentActiveItem;o=this.currentActiveItem+e;var r=this.activeItems.length;o<0?o+=r:o>=r&&(o%=r),s>-1&&this.activeItems[s].classList.remove("active"),this.currentActiveItem=o,this.activeItems[o].classList.add("active")},i.prototype.hasFocus=function(){return!!document.activeElement&&!(!PH.closest(document.activeElement,".searchbox-wrapper")||document.activeElement.classList.contains(".searchbox-backdrop"))},i.prototype.shouldShowBox=function(){return e||this.hasValidQuery()&&EM.siteModules.search_suggest||0===this.elements.input.value.length},i.prototype.hasValidQuery=function(){return this.elements.input.value.length>=PH.globals.searchBox.minQueryLength},i.prototype.hasValidSubmitQuery=function(){return this.elements.input.value.length>=PH.globals.searchBox.minSubmitQueryLength},
i.prototype.submit=function(){window.location=PH.globals.searchBox.getSearchUrl(this.elements.input.value,{isSupermarket:EM.is_supermarket})},window.SearchBox=i,PH.trigger(document,"PHSearchBoxLoaded")}(),function(e,t,n){var i=function(e){this.options=t.extend({position:"top left",image:!1,icon:!1,video:!1,title:null,message:"Does this effect make me look fat?",link:null,effect:"slide",type:"",ttl:6e3,className:"",viewport:"all",onClose:function(){return!1},onOpen:function(){return!1}},e),this._init(),this.show()};i.prototype._init=function(){if(this.position=this.options.position.split(" "),2!=this.position.length||-1===["top","bottom"].indexOf(this.position[0])||-1===["left","right"].indexOf(this.position[1]))return console.log(this.position),console.error("--- A notification's position option can only take a combination of two elements in a specific order ---"),!1;this.containerClass="ns-wrap-"+this.position.join("-"),e.notifications_effect&&(this.options.effect=e.notifications_effect),e.notifications_container?this.containerClass=e.notifications_container:this.checkContainer(this.options.position)?this.container=this.getContainer(this.options.position):(this.container=t.createDOM(["div",{className:this.containerClass}]),document.body.insertBefore(this.container,document.body.firstChild),i.nsWrapper[this.options.position]=this.containerClass);var n,a,o=["xs","sm","md","lg"],s=this.options.viewport.split(" ").map(function(e){return e.toLowerCase().trim()});if("all"==s[0])o=[];else for(a in s)(n=o.indexOf(s[a]))>-1&&o.splice(n,1);var r=this.options.type.toLowerCase(),l={success:"em em-check",warning:"em em-question",danger:"em em-error_fill",error:"em em-error_fill"};this.ntf=t.node(e.TMPL.exec("@Components/Notification/template.html.twig",{class_outer:"ns-box ns-effect-"+this.options.effect+" ns-type-"+this.options.type+(o.length?" hidden-"+o.join(" hidden-"):"")+" "+this.options.className,image:this.options.image,icon_class:this.options.icon||r in l&&l[r],title:this.options.title,content:this.options.message,link:this.options.link&&{uri:this.options.link.uri||"",target:this.options.link.target||"_self",class_name:"link"===this.options.link.type?"":"btn btn-primary btn-sm",link_name:this.options.link.name||""}})),this.containerElem=document.querySelector("."+this.containerClass),this.containerElem.insertBefore(this.ntf,this.containerElem.firstChild);var c=this;this.options.ttl&&(this.dismissttl=setTimeout(function(){c.active&&c.dismiss()},this.options.ttl)),this._initEvents()},i.prototype._initEvents=function(){var e=this;t.live(e.ntf,"click",'[data-ntf="close"]',function(){e.dismiss()})},i.prototype.show=function(){var e=this;this.active=!0,setTimeout(function(){e.ntf.classList.add("ns-show")},25),"function"==typeof this.options.onOpen&&this.options.onOpen()},i.prototype.dismiss=function(){var n=this;this.active=!1,clearTimeout(this.dismissttl),this.ntf.classList.remove("ns-show"),"function"==typeof this.options.onClose&&this.options.onClose(),this.options.id&&t.trigger(e.dispatcher,i.Events.AFTER_CLOSE_NOTIFICATION,{id:this.options.id});!function(e){setTimeout(function(){n.ntf.parentNode&&n.ntf.parentNode.removeChild(n.ntf)},1e3)}()},i.prototype.remove=function(){this.ntf.parentNode.removeChild(this.ntf)},i.prototype.getContainer=function(e){return document.querySelector("."+i.nsWrapper[e])},i.prototype.checkContainer=function(e){return!!i.nsWrapper[e]},i.nsWrapper={"top left":null,"top right":null,"bottom left":null,"bottom right":null},i.Events={AFTER_CLOSE_NOTIFICATION:"pho_after_close_notification"},e.Notification=i}(EM,PH,window),EM.initFavorites=function(e){function t(e){0===e.status&&(window.location=e.login)}function n(){EM.is_logged_in&&EM.showFailNotification()}function i(){var i=this,o=+PH.getData(i,"productid"),s=+PH.getData(i,"offerid"),r={};try{r=JSON.parse(PH.getData(i,"product"))||{}}catch(e){}var l={is_supermarket:+(null!=PH.getData(i,"supermarket"))},c={};r.tracking&&(c.searchlog={},Object.keys(r.tracking).forEach(function(e){c.searchlog[e]=r.tracking[e]}));var u={};try{u=JSON.parse(PH.getData(i,"searchlog"))}catch(e){}var d=PH.qs('.add-to-favorites[data-productid="'+o+'"][data-offerid="'+s+'"]');-1!==e.indexOf(o)?(l.product_id=o,EM.is_logged_in&&(e.splice(e.indexOf(o),1),d.forEach(a)),PH.trigger(EM.dispatcher,"AddToFavorites","beforeRemove"),oldSiteAjax.removeProductFromFavorites(l,c).then(t).fail(n)):(l.offer_id=s,l.has_family=r.has_family,EM.is_logged_in&&(e.push(o),d.forEach(a)),u&&(l.searchlog=u),PH.trigger(EM.dispatcher,"AddToFavorites","beforeAdd"),dataLayer.push({event:"addToFavorites",ecommerce:{currencyCode:r.currency,addToFavorites:{products:[{name:r.product_name,id:r.offerid,doc_id:o,price:r.price,category:r.category_trail,supercategory:r.scm_super_category?r.scm_super_category.name:"err-nosupercategory",supercategory_id:r.scm_super_category?r.scm_super_category.id:"err-nosupercategory"}]}}}),oldSiteAjax.addProductToFavorites(l,c).then(t).fail(n))}function a(t){var n={};try{n=JSON.parse(PH.getData(t,"product"))||{}}catch(e){}n.productid=+PH.getData(t,"productid"),n.offerid=+PH.getData(t,"offerid");var i={};try{i=JSON.parse(PH.getData(t,"searchlog"))}catch(e){}var a=t.className.split(/\s+/).filter(function(e){return"gtm_"===e.substr(0,"gtm_".length)})[0]||"",o=PH.node(EM.TMPL.exec("@Components/AddToFavorites/template.html.twig",{productData:n,isSupermarket:null!=PH.getData(t,"supermarket"),type:PH.getData(t,"type"),size:PH.getData(t,"size"),layout:PH.hasClass(t,"btn-block")?"block":null,isSelected:-1!=e.indexOf(n.productid),isDisabled:!1,extraClass:PH.getData(t,"extraClass"),gtm:a,searchlog:i}));PH.insertAfter(o,t),PH.remove(t)}return PH.live(document.body,"click",".add-to-favorites",i),window.addToFavProductPostLogin=function(e){var t=e.post.prod_id;if(t){var n=PH.q('.add-to-favorites[data-offerid="'+t+'"]');n&&n.click()}},function(e){void 0===e&&(e=document.body),PH.qs(".add-to-favorites",e).forEach(a)}}(EM.favorite_products||[]),document.addEventListener("DOMContentLoaded",function(){EM.initFavorites()}),function(e,t,n){"use strict";function i(n,i,a){var o=t.TMPL.exec(i,e.merge(n,{is_mobile:t.mobile}));return a&&(a.innerHTML=o,e.Widget.autoInit(a)),o}function a(t,n,a){var o="";return t.forEach(function(e){o+=i(e,n)}),a&&(a.innerHTML=o,e.Widget.autoInit(a)),o}function o(e){w.length>e&&(w[e].active=!0)}function s(e,t){var n=P?"&provider=rec&recid="+P:"";e.url.path+="?ref="+y+(t+1)+n}function r(t){new e.Carousel({from:t,snap:!0,handleResize:!0,lazyLoadImgs:!0})}function l(e,n){e.forEach(s),n.innerHTML=e.reduce(function(e,n){return e+t.TMPL.exec("@PhotonBundle/common/components/_card.html.twig",{isClickable:!0,hasActionButtons:!1,showRating:!1,lazyImg:!0,productData:n,appData:{static_url:t.static_url,old_site_endpoint:t.old_site_endpoint}})},""),r(n)}function c(e,t){w[t].loaded||(oldSiteAjax.getSmartHistoryProduct({product_id:e}).then(function(e){w[t].related_products=e.products.related_products,P=e.products.recommendation_id,l(w[t].related_products,A[t])}).fail(function(e){console.error(e)}),w[t].loaded=!0)}function u(){o(0),a(w,g,b),t.mobile||(a(w,v,_),e.addClass(_,"tracking-is-widget"),e.setData(_,"ref",y),A=e.qs(".product-carousel",_),c(w[0].id,0),new e.Tabs({from:b}).on("change",function(t){var n=e.whichChild(t.parentNode);c(e.getData(t,"id"),n)}))}function d(e,t){void 0===t&&(t=[]);var n=E.filter(function(n){return-1==t.indexOf(n.id)&&n.id!=e.id});n.length>=11&&n.pop(),n.unshift(e),localStorage.setItem(m,JSON.stringify(n))}function p(){var i=e.throttle(function(){e.inViewport(n,!1,f)&&(e.off(window,"scroll",i),w=e.clone(E.slice(0,11)),w&&w.length?u():e.remove(n))},h);if(e.on(window,"scroll",i),i(),t.offer_id){var a=[],o={id:t.offer_id,name:t.product_title,image:t.product_thumb,url:t.url.path};t.is_fashion?sapi.getSiblings().then(function(e){200==e.code&&e.data&&e.data.forEach(function(e){a.push(e.id)}),d(o,a)}).fail(function(){d(o,a)}):d(o,a)}}if(n&&t.siteModules.user_history){var m="product_history",h=100,f=400,g="@Components/NavigationHistory/templates/tab.html.twig",v="@Components/NavigationHistory/templates/content.html.twig",b=e.q(".nav-history-tabs",n),_=e.q(".tab-content",n),y="smart-history_"+e.getData(n,"scenarioIndex")+"_",w=[],A=[],E=[],P="";e.on(window,"load",function(){try{E=JSON.parse(localStorage.getItem(m))||[]}catch(e){}p()})}}(PH,EM,PH.q("#navigation-history")),function(e,t){"use strict";PH.on(EM.dispatcher,EM.Notification.Events.AFTER_CLOSE_NOTIFICATION,function(e){var t=e.data.id;if(!t)return!1;EM.AdminNotificationsManager.disableNotificationForShown(t)}),PH.on(EM.dispatcher,"em-trigger-voucher-notification",function(e){var t=e.data;if(!t.id)return!1;var n=document.createElement("div");n.innerHTML=t.name;var i=n.innerText||n.textContent,a=new EM.Notification({id:t.id,message:t.content.html,title:t.name,link:t.link&&"none"!==t.link.type?t.link:null,image:t.image?EM.getSize(t.image.resized_images,"78x78"):null,position:"bottom right",ttl:!1,onOpen:EM.AdminNotificationsManager.onShowNotificationTracking.bind(this,i),onClose:EM.AdminNotificationsManager.onCloseNotificationTracking.bind(this,i,t.id)});EM.AdminNotificationsManager&&(EM.AdminNotificationsManager.notifications[t.id]=a);var o=a.container.querySelector('.ns-content [data-ntf="close"]');o&&PH.on(o,"click",function(e){return e.preventDefault(),PH.trigger(EM.dispatcher,"em-save-voucher-ajax",{code:t.link.uri,name:t.name}),!1})}),PH.on(EM.dispatcher,"em-save-voucher-ajax",function(n){var i=n.data.code,a=n.data.name;t.saveVoucher({},{id:i}).then(function(t){if("redirect"===t.status)return void(e.location.href=t.url);new EM.Notification({position:"top right",message:t.message,icon:"em em-voucher",ttl:!1,className:"voucher-response-notification",onOpen:function(e){dataLayer.push({event:"voucher_tooltip_click",ec:"ToolTip",ea:"campanie_"+a,el:"Display campanie_"+a})}})}).fail(function(e){EM.showFailNotification()})}),EM.siteModules.matching_notifications&&PH.on(e,"load",EM.AdminNotificationsManager.fetchNotifications),PH.on(EM.dispatcher,"PHRequestClearNotifications",EM.AdminNotificationsManager.clearNotifications),PH.on(EM.dispatcher,"PHRequestFetchNotifications",EM.AdminNotificationsManager.fetchNotifications)}(window,sapi),function(e){var t=e.bool,n=e.escape_html,i=e.filter,a=e.for,o=e.include,s=e.number,r=e.operator,l=e.out,c=e.register,u=e.string,d=e.index;c("@PhotonBundle/common/components/megamenu-details.html.twig",function(){var o=e.t({$main:function(e){var c,p,m=e.items,h=e.layout,f=e.flags,g=e.separators,v=e.departmentId;return l([(c=o,""),(p=["menu_links","quick_nav"],""),a(p,function(e,o,p){var v;return e?l([r.in(o,m)&&t(d(m,o))&&t(d(h,u(o)+"_size"))?l([(v=!1,""),'<ul class="megamenu-section megamenu-section-',n(o),t(d(d(f,o),"has_large_heading"))?l([" megamenu-section-has-large-heading"]):"",'">',a(d(m,o),function(e,p,m){var b;return e?l([m<d(h,u(o)+"_size")?l([t(d(d(f,o),m))&&t(d(d(d(f,o),m),"has_large_heading"))?l([(v=!0,"")]):"",'<li class="megamenu-column',r.in(m,d(g,o))?l([" megamenu-column-right-border"]):"",t(v)?l([" megamenu-column-large-top-padding"]):"",'">',(b=!0,""),r.in(m,d(g,o))?l([(v=!1,"")]):"",a(p,function(e,a,o){return e?l([t(d(a,"is_heading"))?l([t(b)?"":l(["</div> "])]):o>0&&t(d(d(p,s(o)-1),"is_heading"))?l(['<div class="megamenu-group collapse megamenu-group-',n(d(d(p,s(o)-1),"id")),'">',(b=!1,"")]):"",n(d(c,"displayMegamenuItem")(d(a,"id"),d(a,"title"),d(a,"link"),d(a,"label"),d(a,"is_heading"),d(a,"is_large_heading"),d(a,"is_first_relative_item"),t(d(a,"is_heading"))&&s(i.length(p))-1>o&&!t(d(d(p,s(o)+1),"is_heading")))),o!=s(i.length(p))-1||t(b)?"":l(["</div>"])]):""}),"</li>"]):""]):""}),"</ul>"]):""]):""}),null!=d(m,"banner")?l(['<div class="megamenu-banner" id="tpb_megamenu_',n(v),'"></div>']):""])}});return o.displayMegamenuItem=function(e,a,o,s,r,c,p,m){return l(["<",n(null!=o&&null!=d(o,"uri")?i.raw('a href="'+u(d(o,"uri"))+'"'):"div"),' class="megamenu-item',t(c)?l([" megamenu-item-large-heading"]):t(r)?l([" megamenu-item-heading"]):"",t(p)?l([" megamenu-item-first-relative"]):"",'" data-id="',n(e),'"',t(m)?l([' data-phino="CollapseOne" data-ph-target=".megamenu-group-',n(e),'"']):"",">",'<span class="megamenu-item-title">',n(a),"</span>",null!=s&&null!=d(s,"text")?l(['<span class="label',l("promo"==d(s,"type")?[" label-danger"]:[" label-success"]),'">',n(d(s,"text")),"</span>"]):"","</",n(null!=o&&null!=d(o,"uri")?"a":"div"),">"])},o}),c("@PhotonBundle/common/templates/my-account-content.html.twig",function(){return e.t({$main:function(a){var o=a.isLoggedIn,s=a.isCardTokenOnSiteEnabled,r=a.username,c=a.appData,p=a.favorite_list_id;return l([(o=i.default(o,!1),""),(s=i.default(s,!1),""),(r=i.default(r,""),""),(c=i.default(c,{}),""),l(t(o)?["<p><strong>",n(i.trans("Hello, %username%",{"%username%":r})),'</strong></p>\n    <ul class="dropdown-menu small">\n        <li class="divider"></li>\n        <li>\n            <a href="/history/shopping?ref=ua_order_history">',n(i.trans("My Orders")),"</a>\n        </li>",t(s)?l(['<li>\n                <a href="/user/cards?ref=hdr_ua_cards">',n(i.trans("My Cards")),"</a>\n            </li>"]):"",'<li>\n            <a href="/favorites',n(t(i.default(p,null))?"/"+u(p):""),'?ref=ua_favorites">',n(i.trans("Favorites")),"</a>\n        </li>","ro"==d(d(c,"request"),"locale")?l(['<li>\n                <a href="/user/card-emag?ref=ua_emag_card">',n(i.trans("eMAG Card")),' <span class="label label-success text-uppercase">',e.trans("NEW"),'</span>\n                </a>\n            </li>\n            <li>\n                <a href="/supermarket/favorites/?ref=ua_shopping_list">',n(i.trans("Shopping list")),"</a>\n            </li>"]):"",'<li>\n            <a href="/user/vouchers?ref=ua_vouchers">',n(i.trans("Vouchers & gift cards")),'</a>\n        </li>\n        <li>\n            <a href="/user/reviews?ref=ua_reviews">',n(i.trans("My reviews")),"</a>\n        </li>\n        ","pl"!=d(d(c,"request"),"locale")?l(['\n            <li>\n                <a href="/user/warranties?ref=ua_guarantees">',n(i.trans("My Warranties")),"</a>\n            </li>\n        "]):"",'\n        <li>\n            <a href="/user/return_service?ref=ua_return_service">',n(i.trans("Return and Service")),'</a>\n        </li>\n        <li>\n            <a href="/user/account?ref=ua_personal_data">',n(i.trans("Personal info")),'</a>\n        </li>\n        <li>\n            <a href="/user/security?ref=ua_security">',n(i.trans("Security settings")),'</a>\n        </li>\n        <li>\n            <a href="/user/subscriptions?ref=ua_subscribtions">',n(i.trans("My subscriptions")),'</a>\n        </li>\n        <li class="divider"></li>\n        <li>\n            <a href="/user/logout?ref=ua_logout">',n(i.trans("Logout")),"</a>\n        </li>\n    </ul>"]:['<div class="custom-dropdown-body">\n        <i class="em em-user_fill"></i>\n        <span class="small">',n(i.trans("Just by logging in you can find out what's the best price for your favorite products")),'</span>\n    </div>\n    <div class="dropdown-footer">\n        <a href="/user/login?ref=hdr_login_btn" class="btn btn-primary btn-emag btn-sm">\n            <i class="em em-forward"></i>',n(i.trans("login")),'</a>\n        <a href="/user/login?ref=hdr_signup_btn" class="btn btn-link btn-sm">',n(i.trans("New account")),"</a>\n    </div>"])])}})}),c("@PhotonBundle/common/templates/my-cart-added.html.twig",function(){return e.t({$main:function(e){return l(['<div class="table-layout in-cart-notification">\n    <div class="table-cell col-xs-3 text-center">\n        <i class="em em-cart_fill"></i>\n    </div>\n    <div class="table-cell col-xs-9">',n(i.trans("Product was added to cart.")),"</div>\n</div>\n"])}})}),c("@PhotonBundle/common/templates/my-cart-content.html.twig",function(){return e.t({$main:function(e){var o=e.isRequestDone,s=e.linesData,r=e.totalProducts,c=e.total,u=e.subtotal;return l([(o=i.default(o,!1),""),(s=i.default(s,[]),""),(r=i.default(r,0),""),(c=i.default(c,0),""),(u=i.default(u,0),""),l(t(o)?[l(t(i.length(s))?['<div class="nav-product-list-wrapper">\n            <p class="small text-primary">',n(i.trans("Recently added products:")),'</p>\n            <div class="nav-product-list">\n                <div class="nav-product-list-group">',a(s,function(e,o){return e?l(['<div class="nav-product-container">\n                            ',l(null!=d(o,"line_bundles")&&t(i.length(d(o,"line_bundles")))?[a(d(o,"line_bundles"),function(e,s){return e?l(['<div class="nav-product-line">\n                                        ','\n                                        <a href="',n(d(s,"link")),'?ref=cart_item" class="nav-product-line_link">\n                                            ','\n                                            <div class="nav-product-line_image">\n                                                <div class="thumbnail-wrapper">\n                                                    <div class="thumbnail">\n                                                        <img src="',n(d(s,"image")),'" alt="Product Thumbnail">\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            ','\n                                            <div class="nav-product-line_title">',d(s,"name"),"</div>\n                                        </a>\n\n                                        ",'\n                                        <div class="nav-product-line_qty">x',n(d(s,"quantity")),"</div>\n\n                                        ",t(d(e,"last"))?"":l(['\n                                            <div class="nav-product-line_price">\n                                                <span class="product-new-price">',i.moneyFormat(d(o,"line_total")),"</span>",d(o,"line_discount")>0?l(['<span class="product-old-price">\n                                                        <s>',i.moneyFormat(d(o,"line_original")),"</s>\n                                                    </span>"]):"","</div>"]),"</div>\n\n                                    ",t(i.length(d(s,"services")))?l([a(d(s,"services"),function(e,t){return e?l(['<div class="font-size-xs pad-sep-xs text-primary strong">',n(d(d(t,"serviceProductInfo"),"mini_cart_label")),'</div>\n                                            <div class="nav-product-line">\n                                                ','\n                                                <a href="',n(d(t,"link")),'" class="nav-product-line_link">\n                                                    ','\n                                                    <div class="nav-product-line_image">\n                                                        <div class="thumbnail-wrapper">\n                                                            <div class="thumbnail">\n                                                                <img src="',n(d(t,"image")),'" alt="Product Thumbnail">\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    ','\n                                                    <div class="nav-product-line_title">',d(t,"name"),"</div>\n                                                </a>\n\n                                                ",'\n                                                <div class="nav-product-line_qty">x',n(d(t,"quantity")),"</div>\n\n                                                ",'\n                                                <div class="nav-product-line_price">\n                                                    <span class="product-new-price">',i.moneyFormat(d(t,"priceWithVat")),"</span>\n                                                </div>\n                                            </div>"]):""})]):"",t(i.length(d(s,"gifts")))?l([a(d(s,"gifts"),function(e,t){return e?l(['<div class="font-size-xs pad-sep-xs text-primary strong">+',n(i.trans("Gift")),'</div>\n                                            <div class="nav-product-line">\n                                                ','\n                                                <a href="',n(d(t,"link")),'" class="nav-product-line_link">\n                                                    ','\n                                                    <div class="nav-product-line_image">\n                                                        <div class="thumbnail-wrapper">\n                                                            <div class="thumbnail">\n                                                                <img src="',n(d(t,"image")),'" alt="Product Thumbnail">\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    ','\n                                                    <div class="nav-product-line_title">',d(t,"name"),"</div>\n                                                </a>\n\n                                                ",'\n                                                <div class="nav-product-line_qty">x',n(d(t,"quantity")),"</div>\n                                            </div>"]):""})]):"",t(d(e,"last"))?"":l(['<div class="font-size-xs pad-sep-xs text-primary strong">',n(i.trans("+Promo Pack")),"</div>"])]):""})]:['<div class="nav-product-line">\n                                    ','\n                                    <a href="',n(d(d(o,"line_main"),"link")),'?ref=cart_item" class="nav-product-line_link">\n                                        ','\n                                        <div class="nav-product-line_image">\n                                            <div class="thumbnail-wrapper">\n                                                <div class="thumbnail">\n                                                    <img src="',n(d(d(o,"line_main"),"image")),'" alt="Product Thumbnail">\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        ','\n                                        <div class="nav-product-line_title">',d(d(o,"line_main"),"name"),"</div>\n                                    </a>\n\n                                    ",'\n                                    <div class="nav-product-line_qty">x',n(d(d(o,"line_main"),"quantity")),"</div>\n\n                                    ",'\n                                    <div class="nav-product-line_price">\n                                        <span class="product-new-price">',i.moneyFormat(d(o,"line_total")),"</span>",d(o,"line_discount")>0?l(['<span class="product-old-price">\n                                                <s>',i.moneyFormat(d(o,"line_original")),"</s>\n                                            </span>"]):"","</div>\n                                </div>\n\n                                ",t(i.length(d(d(o,"line_main"),"services")))?l([a(d(d(o,"line_main"),"services"),function(e,t){return e?l(['<div class="font-size-xs pad-sep-xs text-primary strong">',n(d(d(t,"serviceProductInfo"),"mini_cart_label")),'</div>\n                                        <div class="nav-product-line">\n                                            ','\n                                            <a href="',n(d(t,"link")),'" class="nav-product-line_link">\n                                                ','\n                                                <div class="nav-product-line_image">\n                                                    <div class="thumbnail-wrapper">\n                                                        <div class="thumbnail">\n                                                            <img src="',n(d(t,"image")),'" alt="Product Thumbnail">\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                ','\n                                                <div class="nav-product-line_title">',d(t,"name"),"</div>\n                                            </a>\n\n                                            ",'\n                                            <div class="nav-product-line_qty">x',n(d(t,"quantity")),"</div>\n\n                                            ",'\n                                            <div class="nav-product-line_price">\n                                                <span class="product-new-price">',i.moneyFormat(d(t,"priceWithVat")),"</span>\n                                            </div>\n                                        </div>"]):""})]):"",i.length(d(d(o,"line_main"),"gifts"))>0?l([a(d(d(o,"line_main"),"gifts"),function(e,t){return e?l(['<div class="font-size-xs pad-sep-xs text-primary strong">+',n(i.trans("Gift")),'</div>\n                                        <div class="nav-product-line">\n                                            ','\n                                            <a href="',n(d(t,"link")),'?ref=cart_item" class="nav-product-line_link">\n                                                ','\n                                                <div class="nav-product-line_image">\n                                                    <div class="thumbnail-wrapper">\n                                                        <div class="thumbnail">\n                                                            <img src="',n(d(t,"image")),'" alt="Product Thumbnail">\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                ','\n                                                <div class="nav-product-line_title">',d(t,"name"),"</div>\n                                            </a>\n\n                                            ",'\n                                            <div class="nav-product-line_qty">x',n(d(t,"quantity")),"</div>\n                                        </div>"]):""})]):""]),'\n                            <button type="button" class="btn btn-xs nav-product-line_remove" data-line-id="',n(d(o,"id")),'" data-line-service="',n(i.default(d(d(o,"line_main"),"service_applied_for"),null)),'"><i class="em em-close" title="',n(i.trans("Remove item from cart")),'"></i></button>\n                        </div>']):""}),"</div>\n            </div>\n\n            ",'\n            <div class="nav-product-total small">\n                <span class="nav-product-total-title">',n(i.trans("TOTAL")),': </span>\n                <span class="nav-product-total-pieces">',n(i.transchoice("%count% product|%count% products",r,{"%count%":r})),'</span>\n                <span class="nav-product-total-price">',i.moneyFormat(u),'</span>\n            </div>\n        </div>\n        <a href="/cart/products?ref=cart" class="btn btn-primary btn-emag btn-sm btn-block"><i class="em em-forward"></i> ',n(i.trans("View cart")),"</a>"]:['<p class="text-center small">',n(i.trans("You have no products in cart")),'</p>\n        <div class="divider"></div>\n        <a href="/cart/products?ref=cart" class="btn btn-primary btn-emag btn-sm btn-block"><i class="em em-forward"></i> ',n(i.trans("View cart")),"</a>"])]:['<div class="pad-btm-xl loader-inside">\n        <div class="preloader"></div>\n    </div>'])])}})}),c("@PhotonBundle/common/templates/my-cart-removed.html.twig",function(){return e.t({$main:function(e){return l(['<div class="table-layout in-cart-notification">\n    <div class="table-cell col-xs-3 text-center">\n        <i class="em em-cart_fill"></i>\n    </div>\n    <div class="table-cell col-xs-9">',n(i.trans("Product was removed from cart.")),"</div>\n</div>\n"])}})}),c("@PhotonBundle/common/templates/my-wishlist-added.html.twig",function(){return e.t({$main:function(e){var a=e.isSupermarket;return l([(a=i.default(a,!1),""),'<div class="table-layout favorites-notification">',l(t(a)?['<div class="table-cell col-xs-3 text-center">\n            <i class="em em-shopping-list"></i>\n        </div>\n        <div class="table-cell col-xs-9">',n(i.trans("Product was added to list.")),"</div>"]:['<div class="table-cell col-xs-3 text-center">\n            <i class="em em-fav_fill"></i>\n        </div>\n        <div class="table-cell col-xs-9">',n(i.trans("Product was added to favorites.")),"</div>"]),"</div>\n"])}})}),c("@PhotonBundle/common/templates/my-wishlist-content.html.twig",function(){return e.t({$main:function(e){var o=e.isLoggedIn,s=e.isSupermarket,r=e.isRequestDone,c=e.itemsData,p=e.favUrlRoute,m=e.staticUrl;return l([(o=i.default(o,!1),""),(s=i.default(s,!1),""),(r=i.default(r,!1),""),(c=i.default(c,[]),""),(p=i.default(p,""),""),l(t(o)?[l(t(r)?[l(t(i.length(c))?['<div class="nav-product-list-wrapper">\n                <p class="small text-primary">',n(i.trans("Recently added products:")),'</p>\n                <div class="nav-product-list">\n                    <div class="nav-product-list-group">',a(c,function(e,a){return e?l(['<div class="nav-product-container">\n                                <div class="nav-product-line">\n                                    <a href="',n(d(a,"link")),'?ref=hdr-favorite_products" class="nav-product-line_link">\n\n                                        ','\n                                        <div class="nav-product-line_image">\n                                            <div class="thumbnail-wrapper">\n                                                <div class="thumbnail">\n                                                    <img src="',n(u(m)+"/"+u(d(d(a,"images"),"original"))),'" alt="Product Thumbnail">\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        ','\n                                        <div class="nav-product-line_title">',n(d(a,"title")),"</div>\n                                    </a>\n\n                                    ",'\n                                    <div class="nav-product-line_price pull-right">\n                                        <span class="product-new-price">',i.moneyFormat(d(d(d(a,"offer"),"price"),"current")),"</span>",t(d(d(d(a,"offer"),"flags"),"has_discount"))?l(['<span class="product-old-price">\n                                                <s>',i.moneyFormat(d(d(d(a,"offer"),"price"),"initial")),"</s>\n                                            </span>"]):"","</div>\n                                </div>\n                            </div>"]):""
}),"</div>\n                </div>\n            </div>",l(t(s)?['<a href="',n(p),'" class="btn btn-link btn-sm btn-block"><i class="em em-forward"></i> ',n(i.trans("View supermaket list")),"</a>"]:['<a href="',n(p),'" class="btn btn-link btn-sm btn-block"><i class="em em-forward"></i> ',n(i.trans("View all favorited items")),"</a>"])]:[l(t(s)?['<div class="text-center favorites-no-products">\n                    <small>',n(i.trans("You have no products in this supermaket list")),"</small>\n                </div>"]:['<div class="text-center favorites-no-products">\n                    <small>',n(i.trans("You have no favorite products")),"</small>\n                </div>"])])]:['<div class="pad-btm-xl loader-inside">\n        <div class="preloader"></div>\n    </div>'])]:[l(t(s)?['<p class="text-center small">',n(i.trans("You must be authenticated in order to add products to the supermaket list.")),"</p>"]:['<p class="text-center small">',n(i.trans("You must be authenticated in order to add products to favorites.")),"</p>"]),'<div class="divider"></div>\n    <a href="/user/login?ref=cart" class="btn btn-primary btn-emag btn-block"><i class="em em-forward"></i>',n(i.trans("Login")),"</a>\n    </div>"])])}})}),c("@PhotonBundle/common/templates/my-wishlist-removed.html.twig",function(){return e.t({$main:function(e){var a=e.isSupermarket;return l([(a=i.default(a,!1),""),'<div class="table-layout favorites-notification">',l(t(a)?['<div class="table-cell col-xs-3 text-center">\n            <i class="em em-shopping-list"></i>\n        </div>\n        <div class="table-cell col-xs-9">',n(i.trans("Product was removed from list.")),"</div>"]:['<div class="table-cell col-xs-3 text-center">\n            <i class="em em-fav"></i>\n        </div>\n        <div class="table-cell col-xs-9">',n(i.trans("Product was removed from favorites.")),"</div>"]),"</div>\n"])}})}),c("@Components/StarRating/template.html.twig",function(){return e.t({$main:function(e){var o,c,d,p=e.rating,m=e.size,h=e.text,f=e.inputName,g=e.input,v=e.required,b=e.gtm,_=e.ratingNumber;return l([(o="star-rating",""),(c=5,""),(p=i.default(p,0),""),(d="",""),null!=m?l([(m=" "+u(o)+"-"+u(m),"")]):"",null!=h?l([(h=h,"")]):"",(f=i.default(f,"star"),""),null!=g?l([(d=u(d)+" "+u(o)+"-input","")]):"",null==v?l([(v=!1,"")]):"",(b=" "+u(i.default(b,"")),""),l(null!=g?['<div class="',n(o)," ",n(o),"-input ",n(m)," ",n(d),'">\r\n        <div class="',n(o),'-inner">',a(r[".."](1,c),function(e,t){return e?l(['<button type="button" class="em em-star_fill',n(b),n(t==1+s(i.round(s(c)-s(p),0,"ceil"))?" active":""),'" data-rating="',n(s(c)-s(t)+1),'"></button>']):""}),'</div>\r\n        <input type="hidden" name="',n(f),'" value="',n(p),'"',t(v)?l(["required"]):"",">\r\n    </div>",null!=h?l(['<div class="',n(o),'-text">',h,"</div>"]):""]:['<div class="',n(o)," ",n(o),"-read rated-",n(p)," ",n(m)," ",n(d),'">\r\n        <div class="',n(o),'-inner" style="width: ',n(s(p)*(100/s(c))),'%"></div>\r\n    </div>',null!=h?l(['<div class="',n(o),'-text">\r\n            <span class="hidden-xs">',h,"</span>",null!=_?l(['<span class="visible-xs-inline-block">(',n(_),")</span>"]):"","</div>"]):""])])}})}),c("@PhotonBundle/common/components/product-badges.html.twig",function(){return e.t({$main:function(e){var o,s,r,c=e.appData,u=e.productData,p=e.isMobile,m=e.classList;return l([(c=i.default(c,[]),""),(u=i.default(u,[]),""),(p=null!=(o=p)&&o,""),(s=i.default(d(d(d(u,"offer"),"price"),"discount"),null),""),(r=i.default(d(d(d(d(u,"offer"),"bundle_first"),"price"),"discount"),null),""),(m=i.default(m,""),""),t(i.default(d(d(d(u,"offer"),"flags"),"has_unified_badges"),!1))||t(s)?l(['<div class="product-badge-box ',n(m),'">',t(i.default(d(d(u,"offer"),"unified_badges")))?l([a(d(d(u,"offer"),"unified_badges"),function(e,a){return e?l(['<div class="product-badge-container">\n                    <div class="product-badge product-badge--',n(d(a,"type")),'" style="background-color: rgb(',n(d(d(a,"background_color"),"r")),", ",n(d(d(a,"background_color"),"g")),", ",n(d(d(a,"background_color"),"b")),');">',t(i.default(d(a,"indicator")))?l(['<span class="product-badge-indicator">',n(d(a,"indicator")),"</span>"]):"",'<div class="product-badge-label">',n(i.lower(d(a,"label"))),"</div>\n\n                            ","\n                            ",null!=d(a,"image")&&t(d(a,"image"))?l(['<div class="product-badge-image">\n                            <img src="',n(d(d(a,"image"),"original")),'" alt="Badge image"/>\n                        </div>']):"","</div>\n                </div>"]):""})]):t(p)&&t(s)?l([l(t(r)?["percent"==d(r,"type")&&d(r,"percent")>6?l(['<div class="product-badge-container">\n                        <div class="product-badge product-badge--discount" style="background-color: rgb(255,66,0);">\n                            <div class="product-badge-label">-',n(d(r,"percent")),"%</div>\n                        </div>\n                    </div>"]):d(r,"absolute")>2?l(['<div class="product-badge-container">\n                        <div class="product-badge product-badge--discount" style="background-color: rgb(255,66,0);">\n                            <div class="product-badge-label">-',i.moneyFormat(d(r,"absolute")),"</div>\n                        </div>\n                    </div>"]):""]:["percent"==d(s,"type")&&d(s,"percent")>6?l(['<div class="product-badge-container">\n                        <div class="product-badge product-badge--discount" style="background-color: rgb(255,66,0);">\n                            <div class="product-badge-label">-',n(d(s,"percent")),"%</div>\n                        </div>\n                    </div>"]):d(s,"absolute")>2?l(['<div class="product-badge-container">\n                        <div class="product-badge product-badge--discount" style="background-color: rgb(255,66,0);">\n                            <div class="product-badge-label">-',i.moneyFormat(d(s,"absolute")),"</div>\n                        </div>\n                    </div>"]):""])]):"","</div>"]):""])}})}),c("@PhotonBundle/common/components/_card.html.twig",function(){return e.t({$main:function(s){var c,p,m,h,f,g,v,b,_,y,w,A,E,P,k,x,H,S,C,M,T,D,L,N,O,F,j,q,I,R,B=s.hasActionButtons,z=s.hasShowDetailsBtn,V=s.hasAvailableSizes,W=s.hasRating,G=s.isClickable,U=s.isPlaceholder,Y=s.isViewMore,X=s.lazyImg,$=s.submitBtnClass,K=s.familyProductsData,J=s.recommendationId,Q=s.recommendation_id,Z=s.provider,ee=s.ref,te=s.isBuyable,ne=s.isAccessory,ie=s.characteristicId,ae=s.appData,oe=s.productData,se=s.hasAbsoluteUrlThumb,re=s.thumbnailALT,le=s.showRating;return l([(B=null==(c=B)||c,""),(z=null!=(p=z)&&p,""),(V=null!=(m=V)&&m,""),(W=null==(h=W)||h,""),(G=null!=(f=G)&&f,""),(U=null!=(g=U)&&g,""),(Y=null!=(v=Y)&&v,""),(X=null!=(b=X)&&b,""),($=i.default($,""),""),(K=i.default(K,[]),""),(J=null!=(_=J)?_:i.default(Q,!1),""),(Z=i.default(Z,null),""),(ee=i.default(ee,""),""),(te=i.default(te,!1),""),(ne=i.default(ne,!1),""),(ie=i.default(ie,null),""),t(te)||t(V)||t(z)||t(U)?"":l(["\n    ",(G=!0,""),"\n    ",(B=!1,""),"\n"]),(ae=i.default(ae,[]),""),(oe=i.default(oe,null),""),!t(oe)||t(U)||t(Y)?"":l([(y=i.default(d(oe,"offer"),null),""),(w=i.default(d(oe,"name"),"not-defined"),""),(A=i.default(d(oe,"url"),null),""),(A=null!=(E=d(A,"path"))?E:A,""),t(ee)&&t(A)?l([(A=u(A)+(r.in("?",A)?"&":"?")+"ref="+u(ee),"")]):"",t(Z)&&t(A)?l([(A=u(A)+(r.in("?",A)?"&":"?")+"provider="+u(Z),"")]):"",t(J)&&t(A)?l([(A=u(A)+(r.in("?",A)?"&":"?")+"recid="+u(J),"")]):"",(A={path:null!=(P=A)?P:"#not-defined"},""),(k=i.default(i.getSize(d(d(oe,"image"),"resized_images"),"150x150"),"#not-defined"),""),(se=null!=(x=se)?x:r.in("://",k),""),t(se)?"":l([(k=u(d(ae,"static_url"))+u(k),"")]),(re=i.default(re,w),""),(H=t(d(oe,"feedback"))?d(d(oe,"feedback"),"rating"):null,""),(S=t(d(oe,"feedback"))?d(d(d(oe,"feedback"),"reviews"),"count"):null,""),(le=i.default(le,t(H)&&t(S)),""),(C=i.default(d(d(y,"price"),"initial"),null),""),(M=i.default(d(d(y,"price"),"current"),null),""),(T=i.default(d(d(y,"price"),"discount"),null),""),(O=l([l(t(d(d(y,"flags"),"has_bundle_first"))?["\n            ",(D=d(d(y,"bundle_first"),"items"),""),"\n            ",(L=d(d(D,0),"image"),""),"\n            ",(N=d(d(D,1),"image"),""),'\n\n            <div class="bundle-image" style="background-image:\n                        url(',n(i.getSize(d(L,"resized_images"),"150x150")),"),\n                        url(",n(i.getSize(d(N,"resized_images"),"150x150")),');"></div>\n        ']:t(X)?['\n            <img data-src="',n(k),'" alt="',n(re),'">\n        ']:['\n            <img src="',n(k),'" alt="',n(re),'">\n        '])]),""),(F=l([null!=le&&t(le)?l([o("@Components/StarRating/template.html.twig",{size:"sm",text:u(H)+" ("+u(S)+") ",rating:H})]):""]),""),(I=l([l(t(d(d(y,"flags"),"has_bundle_first"))?[e.trans("Promo package"),":",(D=d(d(y,"bundle_first"),"items"),""),(j=d(d(D,0),"name"),""),(q=d(d(D,1),"name"),""),n(j)," + ",n(q)]:[n(w)])]),"")]),'<div class="card-item js-card-item"',null==w||null==A||t(U)||t(Y)?"":l([' data-name="',n(i.escape(w)),'" data-url="',n(i.escape(d(A,"path"))),'"']),">",0==U&&0==Y?l([o("@PhotonBundle/common/components/product-badges.html.twig",{appData:ae,productData:oe})]):"",(R=l(['<div class="card-heading">\n            <div class="thumbnail-wrapper ratio-4by3">',t(U)||t(Y)?"":l([l(t(G)?['<div class="thumbnail">',n(O),"</div>"]:['<a href="',n(u(d(ae,"current_url"))+u(d(A,"path"))),'" class="thumbnail" rel="nofollow">',n(O),"</a>"])]),'</div>\n        </div>\n        <div class="card-body product-title-zone">',l(t(U)||t(Y)?['<div class="product-title">',t(Y)?l([e.trans("View more")]):"","</div>"]:[l(t(G)?['<div class="product-title">',n(I),"</div>"]:['<a href="',n(u(d(ae,"current_url"))+u(d(A,"path"))),'" class="product-title">',n(I),"</a>"])]),'</div>\n        <div class="card-body">',t(W)?l(['<div class="star-rating-container">',null==le||!t(le)||t(U)||t(Y)?"":l([l(t(G)?[n(F)]:['<a href="',n(u(d(ae,"current_url"))+u(d(A,"path"))),'#reviews-section" rel="nofollow">',n(F),"</a>"])]),"</div>"]):"",'</div>\n        <div class="card-body">',l(t(U)||t(Y)||null==M||!t(M)?['<p class="product-old-price"></p>\n                <p class="product-new-price"></p>']:[l(t(d(d(y,"flags"),"has_bundle_first"))?['<p class="product-old-price">',null!=d(d(d(y,"bundle_first"),"price"),"initial")&&null!=d(d(d(y,"bundle_first"),"price"),"discount")?l(["<s>",i.moneyFormat(d(d(d(y,"bundle_first"),"price"),"initial")),'</s>\n                        <span class="product-this-deal">(-',l("percent"==d(d(d(d(y,"bundle_first"),"price"),"discount"),"type")?[n(d(d(d(d(y,"bundle_first"),"price"),"discount"),"percent")),"%"]:[i.moneyFormat(d(d(d(d(y,"bundle_first"),"price"),"discount"),"absolute"))]),")\n                        </span>"]):"",'</p>\n                    <p class="product-new-price">',i.moneyFormat(d(d(d(y,"bundle_first"),"price"),"current")),"</p>"]:['<p class="product-old-price">',t(T)&&t(d(T,"is_visible"))?l(["<s>",i.moneyFormat(C),'</s>\n                            <span class="product-this-deal">(-',l("percent"==d(T,"type")?[n(d(T,"percent")),"%"]:[i.moneyFormat(d(T,"absolute"))]),")\n                            </span>"]):"",'</p>\n                    <p class="product-new-price">',i.moneyFormat(M),"</p>"])]),"</div>",t(V)?l([l("fashion"==d(y,"display_type")&&t(d(oe,"family"))&&6506==ie?['<div class="card-body pad-btm-none">\n                    <hr class="mrg-sep-none" />\n                    <a href="javascript:;" id="js-',n(d(oe,"id")),'" class="btn btn-link btn-sm btn-block size-btn"',' data-phino="Dropdown"',' data-ph-open-on="click"',' data-ph-target="#pid',n(d(oe,"id")),'"',' data-ph-class-name="size-tooltip js-',n(d(oe,"id")),'"',' data-ph-align="S N" aria-haspopup="true" aria-expanded="true"><span>',e.trans("Select the size"),'</span> <i class="em em-down font-size-xs"></i>\n                    </a>\n                    <script type="text/x-template" id="pid',n(d(oe,"id")),'">\n                        <div class="list-group product-family-options-list-group product-family-options-list-group-dropdown">\n                            ',a(K,function(e,t){return e?l(['\n                                <a href="javascript:;" class="list-group-item" data-offer-id="',n(d(t,"offer_id")),'">',n(d(t,"label")),"</a>\n                            "]):""}),"\n                        </div>\n                    <\/script>\n                </div>"]:['<div class="card-body pad-btm-none"><p class="size-tooltip-placeholder mrg-sep-none"></p></div>'])]):"",t(B)?l(['<div class="card-footer">',l(t(U)||t(Y)||t(G)||t(z)?t(z)?['<span class="btn btn-primary btn-emag btn-sm"><i class="em em-forward"></i> ',n(i.trans("Show details")),"</span>"]:['<div class="btn btn-sm invisible"><div class="pad-sep-xs"></div></div>']:['<form data-id="',n(d(y,"id")),'" action="',n(d(ae,"old_site_endpoint")),"/newaddtocart?source=front",n(null!=ee?"&ref="+u(ee):""),n(t(J)?"&recid="+u(J):""),'" method="post"',null!=ee?l([' data-ref="',n(ee),'"']):"",'>\n                        <input type="hidden" name="product[]" value="',n(d(y,"id")),'">',l(t(V)&&"fashion"==d(y,"display_type")&&t(d(oe,"family"))&&6506==ie?['<button type="submit" class="btn btn-default btn-sm btn-block js-btn-size-tooltip" data-product="',n(d(y,"id")),'" >',e.trans("Add to cart"),"</button>"]:['<button type="submit" class="btn btn-default btn-sm btn-block ',n($),'" data-product="',n(d(y,"id")),'">',e.trans("Add to cart"),"</button>"]),'</form>\n                    <span class="hidden disabled text-center strong btn-sm btn-block card-bought-placeholder">',e.trans("Added to cart"),"</span>"]),"</div>"]):""]),""),l(t(G)||t(Y)?['<a href="',n(u(d(ae,"current_url"))+u(d(A,"path"))),'" class="card ',t(Y)?l(["card-view-more"]):"",'">',n(R),"</a>"]:['<div class="card ',t(U)&&!t(Y)?l(["card-shimmer"]):"",'">',n(R),"</div>"]),"</div>"])}})}),c("@PhotonBundle/common/components/_template_modal-newsletter.html.twig",function(){return e.t({$main:function(a){var o=a.facebook_click_event,s=a.facebook_disabled,r=a.google_click_event,c=a.google_disabled;return l(['<div class="newsletter-modal-header">\n    <h2 class="newsletter-title">',n(i.trans("Sign up to our Shopping Club newsletter")),'</h3>\n    <p class="newsletter-subtitle">',n(i.trans("And get exclusive access to daily deals, coupons and personalised recommendations")),'</p>\n    <button class="close"><i class="em em-close"></i></button>\n    <div class="modal-newsletter-decoration"></div>\n</div>\n<div class="newsletter-modal-content">\n    <div class="row">\n        <div class="col-xs-12 col-sm-6">\n            <div class="pad-hrz-xl">            \n                <h4 class="font-size-md text-center text-muted mrg-btm-sm">',n(i.trans("Quick signup via")),'</h4>\n                <div class="form-group">\n                    <label class="hidden-xs text-truncate pad-btm-sm"> </label>\n                    <a href="#" data-network="facebook" data-event="',n(o),'" class="',t(s)?l(["disabled"]):"",' btn btn-social btn-icon btn-block btn-facebook js-facebook-login">\n                        <i class="em em-facebook"></i><span>Facebook</span>\n                    </a>\n                    <input type="hidden" name="facebook_error" />\n                </div>\n                <div class="form-group">\n                    <a href="#" data-network="google" data-event="',n(r),'" class="',t(c)?l(["disabled"]):"",' btn btn-social btn-icon btn-block btn-google js-google-login">\n                        <i class="em em-google"></i><span>Google</span>\n                    </a>\n                    <input type="hidden" name="google_error" />\n                </div>\n            </div>\n            <div class="mrg-btm-md visible-xs"></div>\n        </div>\n        <div class="modal-newsletter-separator"><span class="pad-sep-xs pad-hrz-xs">',n(i.trans("or")),'</span></div>    \n        <div class="col-xs-12 col-sm-6">\n            <div class="mrg-btm-md visible-xs"></div>\n            <form class="pad-hrz-xl newsletter-form js-newsletter-form">\n                <h4 class="font-size-md text-center text-muted mrg-btm-sm">',n(i.trans("Email signup")),'</h4>            \n                <div class="form-group">\n                    <label>',n(i.trans("Email")),'</label>\n                    <input class="form-control" type="email" name="email" data-v-email="true" required="true" />\n                </div>\n                <div class="form-group">\n                    <label>',n(i.trans("First name")),'</label>\n                    <input class="form-control" type="text" name="name" required="true" />\n                </div>\n                <div class="form-group subscribe-btn-wrap">\n                    <button class="btn btn-default" type="submit">',n(i.trans("Sign up")),'</button>\n                </div>\n            </form> \n        </div> \n    </div>\n    <p class="text-center font-size-sm text-muted mrg-sep-sm">*',n(i.trans("You may unsubscribe easily at any time")),"<br/>",e.trans("You can read our %terms% here",{"%terms%":'<a href="'+u(i.trans("/info/termeni-si-conditii"))+'" target="_blank">'+u(i.trans("terms and conditions"))+"</a>"}),"</p>\n</div>\n\n"])}})}),c("@PhotonBundle/common/components/_template_modal-newsletter-success.html.twig",function(){return e.t({$main:function(e){var o=e.name,s=e.email,r=e.subscriptions;return l(['<div class="modal-header">\n    <h4 class="modal-title semibold">',n(i.trans("Newsletter Subscription")),'</h4>\n    <button class="close"><i class="em em-close"></i></button>\n</div>\n<div class="modal-body">\n    <div class="modal-newsletter-subscribed">\n        <p class="alert alert-success strong font-size-md" role="alert"><i class="em em-check"></i>',n(i.trans("You have successfully subscribed")),", ",n(o),'</p>\n        <form class="js-options-form">\n            <input type="hidden" name="email" value="',n(s),'" />\n            <input type="hidden" name="name" value="',n(o),'" />\n            <h3 class="semibold mrg-top-none">',n(i.trans("Select your preferences")),'</h3>\n            <p class="mrg-btm-sm">',n(i.trans("So we can send you the most interesting offers")),'</p>\n            <div class="js-options-wrapper mrg-btm-sm" data-toggle="buttons">\n                ',a(r,function(e,a){return e?l(['\n                    <label class="btn btn-opt mrg-btm-xs" for="',n(d(a,"label")),'">\n                        <input data-subscription-id="',n(d(a,"id")),'" id="',n(d(a,"label")),'" type="checkbox" autocomplete="off" ',t(i.default(d(a,"status")))?l(["checked"]):"","><span>",n(d(a,"name")),"</span>\n                    </label>\n                "]):""}),'\n            </div>\n            <button type="submit" class="btn btn-primary">',n(i.trans("Save")),"</button>\n        </form>\n    </div>\n</div>"])}})}),c("@Components/SearchBox/templates/suggestions.html.twig",function(){return e.t({$main:function(e){var o=e.items,s=e.query,r=e.locale,c=e.categories;return l(["<p><strong>",n(i.trans("Search suggestions")),'</strong></p>\n<ul class="nav nav-searchbox searchbox-suggestions-list">',a(o,function(e,a){return e?l(['<li>\n            <a href="',n(d(d(a,"url"),"path")),"?ref=",l(t(d(a,"redirect_label"))?["autosuggest_label"]:["autosuggest"]),'" class="searchbox-suggestion-result searchbox-active-item">\n                <i class="em em-search hidden-xs"></i>\n                <span class="searchbox-suggestion-title">',l(t(d(a,"redirect_label"))?[n(d(a,"redirect_label"))]:[l(t(s)?['<span class="searchbox-suggestion-highlight">',n(i.slice(d(a,"name"),0,i.length(s))),"</span>",n(i.slice(d(a,"name"),i.length(s)))]:[n(d(a,"name"))])]),"</span>",t(d(a,"category"))?l([l("hu"==r?[" - "]:[" ",n(i.trans("in"))," "]),'\n                     <span class="searchbox-suggestion-category">',n(d(d(a,"category"),"name")),"</span>"]):"","</a>",!t(d(d(a,"category"),"name"))&&d(e,"index0")>0?l(['<a href="javascript: void(0)" class="searchbox-autocomplete hidden-sm hidden-md hidden-lg"><i class="em em-go-up"></i></a>']):"","</li>"]):""}),"</ul>",t(c)?l(["<p><strong>",n(i.trans("Relevant categories")),'</strong></p>\n    <ul class="nav nav-searchbox searchbox-categories-list">',a(c,function(e,t){return e?l(['<li>\n                <a href="',n(d(d(t,"url"),"path")),'?ref=search_autosuggest" class="searchbox-active-item">',n(d(t,"name")),"</a>\n            </li>"]):""}),"</ul>"]):"",'<a href="javascript:void(0)" class="searchbox-back-to-site hidden-sm hidden-md hidden-lg"><i class="em em-go-left"></i>',n(i.trans("Back to eMAG")),"</a>\n"])}})}),c("@Components/SearchBox/templates/trending.html.twig",function(){return e.t({$main:function(e){var o=e.category,s=e.trending,r=e.isSupermarket;return l(["<p>\n    <strong>",l(null!=o&&t(o)?[n(i.trans("Popular searches in"))," ",n(o)]:[n(i.trans("Trending searches"))]),'</strong>\n</p>\n<ul class="nav nav-searchbox searchbox-trending">',a(s,function(e,i){return e?l(['<li>\n            <a href="',t(r)?l(["/supermarket"]):"","/search/",n(d(i,"fraze")),'?ref=trending" class="searchbox-active-item">\n                <i class="em em-trending"></i>',n(d(i,"fraze")),"</a>\n        </li>"]):""}),'</ul>\n<a href="javascript:void(0)" class="searchbox-back-to-site hidden-sm hidden-md hidden-lg"><i class="em em-go-left"></i>',n(i.trans("Back to eMAG")),"</a>\n"])}})}),c("@Components/SearchBox/templates/history.html.twig",function(){return e.t({$main:function(e){var t=e.history;return l(["<p><strong>",n(i.trans("Search history")),'</strong></p>\n<ul class="nav nav-searchbox searchbox-history">',a(t,function(e,t){return e?l(['<li>\n            <a href="#" class="searchbox-active-item">\n                <i class="em em-search"></i>',n(t),"</a>\n        </li>"]):""}),"</ul>\n"])}})}),c("@Components/SearchBox/template.html.twig",function(){return e.t({$main:function(a){var o=a.module_status,s=a.category,r=a.has_searchbar,c=a.search_query;return l(["\n","\n",t(d(o,"spiders_honey_pots"))?l(['\n    <form action="/search/listall?search-asp=1" method="get" name="search-asp" id="search-asp" style="position:absolute;top:-50px;">\n        <input type="text" name="search-asp" />\n        <input type="submit" value="Search" />\n    </form>\n']):"","\n",'\n\n<div class="searchbox-wrapper"',t(i.default(s,null))?l([' data-category="',n(i.default(d(s,"sef_name"),"err-no-category-sef-name")),'" ']):"",'>\n    <form action="/search" method="get">\n        <div class="input-group searchbox-input">\n            <div class="form-control">',t(i.default(r,!1))?l(['<div class="searchbox-overlay-trigger searchbox-trigger visible-xs"></div>']):"",'<input type="text" id="searchboxAutocomplete" class="searchbox-suggestion js-searchbox-suggestion-input" autocomplete="off" />\n                <input type="search" id="searchboxTrigger" name="query" class="searchbox-main gtm_search_bar_click_search_week js-searchbox-input" placeholder="',e.trans("What are you looking for today?"),'" ',t(c)?l([' value="',n(c),'" ']):"",' autocomplete="off">\n            </div>\n            <div class="input-group-btn">\n                <button class="searchbox-close btn btn-default" type="reset">\n                    <i class="em em-close"></i>\n                </button>\n                <button class="btn btn-default searchbox-submit-button">\n                    <span class="sr-only">',e.trans("Search"),'</span>\n                    <i class="em em-search"></i>\n                </button>\n            </div>\n        </div>\n        <div class="searchbox-dropdown">\n            <div class="searchbox-dropdown-content">\n                <div class="searchbox-section searchbox-initial-content" data-section="initial"></div>\n                <div class="searchbox-section searchbox-loading" data-section="loading"><div class="preloader"></div></div>\n                <div class="searchbox-section searchbox-suggestions-container" data-section="suggestions"></div>\n                <div class="searchbox-section searchbox-error" data-section="error">',e.trans("No search suggestions found"),'</div>\n            </div>\n        </div>\n        <div class="searchbox-backdrop"></div>\n    </form>\n</div>\n'])}})}),c("@Components/Notification/template.html.twig",function(){return e.t({$main:function(e){var a=e.image,o=e.icon_class,s=e.class_outer,r=e.title,c=e.content,u=e.link;return l([(a=i.default(a,!1),""),(o=i.default(o,!1),""),'<div class="',s,'">\n    <div class="ns-box-inner">\n        ',t(a)||t(o)?l(['\n            <div class="thumbnail-wrapper">\n                <div class="thumbnail">\n                    ',t(a)?l(['\n                        <img src="',n(a),'" alt="Image">\n                    ']):t(o)?l(['\n                        <i class="',n(o),'"></i>\n                    ']):"","\n                </div>\n            </div>\n        "]):"",'\n        <div class="ns-content">\n            ',t(i.default(r,!1))?l(['\n                <h4 class="ns-content-title">',r,"</h4>\n            "]):"","\n            ",c,"\n            ",t(i.default(u,!1))?l(['\n                <p class="ns-content-footer">\n                    <a data-ntf="close" href="',n(d(u,"uri")),'" target="',n(d(u,"target")),'" class="',n(d(u,"class_name")),'">',n(d(u,"link_name")),"</a>\n                </p>\n            "]):"",'\n        </div>\n        <button class="close" data-ntf="close"><i class="em em-close"></i></button>\n    </div>\n</div>\n'])}})}),c("@Components/AddToFavorites/template.html.twig",function(){return e.t({$main:function(e){var o,s,c,d,p,m,h,f,g,v,b,_,y,w,A=e.productData,E=e.isDisabled,P=e.isSupermarket,k=e.isSelected,x=e.size,H=e.textAdd,S=e.textRemove,C=e.type,M=e.layout,T=e.gtm,D=e.scm,L=e.extraClass,N=e.searchlog;return l([(A=i.default(A,{}),""),(E=null==(o=E)||o,""),(P=i.default(P,!1),""),(k=i.default(k,!1),""),(x=i.default(x,""),""),(s=i.trans(t(P)?"Add to list":"Add to favorites"),""),(c=i.trans(t(P)?"Remove from list":"Remove from favorites"),""),(H=i.default(H,s),""),(S=i.default(S,c),""),(d=t(k)?S:H,""),(C=i.default(C,"button"),""),(M=i.default(M,""),""),(T=i.default(T,""),""),(D=i.default(D,{}),""),(p=t(P)?"em em-shopping-list":"em em-fav",""),(m=t(P)?"em em-shopping-list":"em em-fav_fill",""),(h=t(k)?m:p,""),(L=i.default(L,""),""),(N=i.default(N,null),""),(f="add-to-favorites btn"+(t(k)?" add-to-favorites-active":""),""),(f=u(f)+(r.in(x,["sm","lg","xl"])?" btn-"+u(x):""),""),(f=u(f)+(r.in(C,["button","icon","text"])?" btn-default":""),""),(f=u(f)+(r.in(C,["button"])?" btn-icon":""),""),(f=u(f)+(r.in(M,["block"])?" btn-"+u(M):""),""),(f=u(f)+(t(T)?" "+u(T):""),""),(f=u(f)+(t(L)?" "+u(L):""),""),(g=t(E)?" disabled":"",""),(v=t(P)?" data-supermarket":"",""),(b=' data-type="'+u(C)+'"',""),(_=' data-size="'+u(x)+'"',""),(v=t(P)?" data-supermarket":"",""),(y=t(L)?' data-extra-class="'+u(L)+'"':"",""),(w="",""),a(A,function(e,t,n){return e?l([r.in(n,["offerid","productid"])?l([(w=u(w)+" data-"+u(n)+'="'+u(t)+'"',"")]):""]):""}),'<button type="button" class="',n(f),'"',v,g,w,y,b,_,' data-product="',n(i.json_encode(A)),'"',t(N)?l([' data-searchlog="',n(i.json_encode(N)),'"']):"",">",r.in(C,["button","icon","micro"])?l(['\n        <i class="',n(h),'"></i>']):"","<span>",n(d),"</span>\n</button>\n"])}})}),c("@Components/NavigationHistory/templates/tab.html.twig",function(){return e.t({$main:function(e){var a=e.is_mobile,o=e.active,s=e.url,c=e.id,u=e.image,d=e.name;return l([(a=i.default(a,!1),""),(o=i.default(o,!1),""),'<li role="presentation"',t(o)&&!t(a)?l([' class="active"']):"",">\n    <a",l(t(a)?[' href="',n(s),n(r.in("?",s)?"&":"?"),'ref=m_smart_history"']:[' data-href="#nav-history-',n(c),'" data-toggle="tab" data-id="',n(c),'"']),' role="tab">\n        <img src="',n(u),'" width="50" height="50" alt="',n(d),'">\n    </a>\n</li>'])}})}),c("@Components/NavigationHistory/templates/content.html.twig",function(){return e.t({$main:function(e){var i=e.id,s=e.active;return l(['<div id="nav-history-',n(i),'" role="tabpanel" class="tab-pane fade',n(t(s)?" active in":""),'">\n    <div class="product-carousel ph-carousel ph-has-dots">\n        <div class="ph-scroller">\n            <div class="ph-body">',a(r[".."](1,6),function(e,t){return e?l([o("@PhotonBundle/common/components/_card.html.twig",{isPlaceholder:!0,hasActionButtons:!1})]):""}),"</div>\n        </div>\n    </div>\n</div>\n"])}})}),c("@Components/AdminNotifications/template.html.twig",function(){return e.t({$main:function(e){return l([])}})})}(EM.TMPL),PH.merge(EM.translations,{"This field is required":"Acest câmp este necesar","Invalid email":"Email incorect","Incorrect number":"Numar incorect","Only digits allowed":"Numai cifrele sunt permise","Too short":"Prea scurt","Too long":"Prea lung","Length mismatch":"Lungimea nu se potriveste","Incorrect multiple":"Multiplu incorect","Invalid file type selected":"Fișier invalid","Incorrect phone number":"Numarul de telefon nu este valid","This CNP is not valid":"CNP-ul introdus nu este corect",Monday:"Luni",Tuesday:"Marti",Wednesday:"Miercuri",Thursday:"Joi",Friday:"Vineri",Saturday:"Sambata",Sunday:"Duminica",January:"Ianuarie",February:"Februarie",March:"Martie",April:"Aprilie",May:"Mai",June:"Iunie",July:"Iulie",August:"August",September:"Septembrie",October:"Octombrie",November:"Noiembrie",December:"Decembrie","Something went wrong. Please try again later.":"Ceva nu a functionat. Te rugam sa incerci din nou.","Uh oh! An error occurred. The request could not be completed!":"Oh, a avut loc o eroare! Te rugam sa incerci mai tarziu.","To sign up, an email address is required":"Pentru abonare, adresa de email este necesară","You have subscribed to our newsletter. Thank you!":"Te-ai abonat cu succes la newsletter-ul eMAG. Îți mulțumim.","Allow subscription to push notifications and you'll be notified when your favorite products are on offer.":"Permite abonarea la notificarile push si afla pe loc despre ofertele cu timp și cantități limitate.","Hello, %username%":"Salut, %username%","My Orders":"Comenzile mele","My Cards":"Cardurile mele",Favorites:"Favorite","eMAG Card":"Card eMAG",NEW:"NOU","Shopping list":"Listă Supermarket","Vouchers & gift cards":"Vouchere & carduri cadou","My reviews":"Review-urile mele","My Warranties":"Garantiile mele","Return and Service":"Retur si service","Personal info":"Date personale","Security settings":"Setari siguranta","My subscriptions":"Abonarile mele",Logout:"Log out","Just by logging in you can find out what's the best price for your favorite products":"Intra in contul tau eMAG si ai control complet asupra ofertelor!",login:"Intra in cont","New account":"Cont nou","Product was added to cart.":"Produsul a fost adaugat in cos","Recently added products:":"Produse adaugate recent:",Gift:"Cadou","+Promo Pack":"+Pachet Promo","Remove item from cart":"Sterge produsul din cos",TOTAL:"TOTAL","%count% product|%count% products":"%count% produs|%count% produse|%count% de produse","View cart":"Vezi detalii cos","You have no products in cart":"Nu ai niciun produs în coș","Product was removed from cart.":"Produsul a fost sters din cos","Product was added to list.":"Produsul a fost adaugat in lista","Product was added to favorites.":"Produsul a fost adaugat la favorite","View supermaket list":"Vezi lista Supermarket","View all favorited items":"Vezi toate produsele favorite","You have no products in this supermaket list":"Nu ai produse in lista de cumparaturi","You have no favorite products":"Nu ai produse favorite.","You must be authenticated in order to add products to the supermaket list.":"Trebuie sa te autentifici pentru a putea adauga produsul in lista de cumparaturi","You must be authenticated in order to add products to favorites.":"Trebuie sa te autentifici pentru a adauga produsul la Favorite",Login:"Intra in cont","Product was removed from list.":"Produsul a fost eliminat din lista","Product was removed from favorites.":"Produsul a fost eliminat de la Favorite","Promo package":"Pachet promo","View more":"Vezi mai mult","Select the size":"Alege marime",
"Add to cart":"Adauga in Cos","Added to cart":"Adaugat in cos","Show details":"Vezi detalii","Sign up to our Shopping Club newsletter":"Intră în Clubul pasionaților de shopping","And get exclusive access to daily deals, coupons and personalised recommendations":"Ai acces in premieră la promoțiile zilei, vouchere de reducere și recomandări personalizate","Quick signup via":"Abonare rapidă cu",or:"sau","Email signup":"Abonare cu email",Email:"Email","First name":"Prenume","Sign up":"Mă înscriu","You may unsubscribe easily at any time":"Te poți dezabona cu ușurință în orice moment.","You can read our %terms% here":"Citește %terms% noastre aici","/info/termeni-si-conditii":"/info/termeni-si-conditii","terms and conditions":"termenii si conditiile","Newsletter Subscription":"Abonare Newsletter","You have successfully subscribed":"Te-ai înscris cu succes","Select your preferences":"Selectează domeniile de interes","So we can send you the most interesting offers":"Pentru a primi cele mai relevante oferte din zonele:",Save:"Salveaza","Search suggestions":"Sugestii de cautare",in:"in","Relevant categories":"Mergi direct la categoria","Back to eMAG":"Inapoi la eMAG","Popular searches in":"Cautari populare in","Trending searches":"Cautari populare","Search history":"Istoric de cautare","What are you looking for today?":"Ce vrei sa cauti azi?",Search:"Cauta","No search suggestions found":"Nu avem sugestii de cautare","Add to list":"Lista Supermarket","Add to favorites":"Adauga la Favorite","Remove from list":"Elimina din lista","Remove from favorites":"Adaugat la Favorite"});